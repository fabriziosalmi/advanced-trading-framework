2025-09-22 20:26:28,334 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 20:26:28,334 - strategy_layer.strategy_base.MLRandomForest - INFO - MLRandomForestStrategy initialized with confidence threshold: 0.6
2025-09-22 20:26:28,334 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 20:26:28,334 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 20:26:28,334 - __main__ - INFO - 🚀 Starting model training for 2 tickers: AAPL, MSFT
2025-09-22 20:26:28,334 - __main__ - INFO - 🔄 Force retrain: False
2025-09-22 20:26:28,334 - __main__ - INFO - 📊 [1/2] Training model for AAPL
2025-09-22 20:26:28,334 - __main__ - ERROR - ❌ Error training AAPL: 'MLRandomForestStrategy' object has no attribute '_model_exists'
2025-09-22 20:26:28,334 - __main__ - INFO - 📊 [2/2] Training model for MSFT
2025-09-22 20:26:28,334 - __main__ - ERROR - ❌ Error training MSFT: 'MLRandomForestStrategy' object has no attribute '_model_exists'
2025-09-22 20:26:28,334 - __main__ - INFO - 🎯 Training completed: 0/2 models trained successfully
2025-09-22 20:26:28,334 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 20:27:23,183 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 20:27:23,183 - strategy_layer.strategy_base.MLRandomForest - INFO - MLRandomForestStrategy initialized with confidence threshold: 0.6
2025-09-22 20:27:23,183 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 20:27:23,183 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 20:27:23,183 - __main__ - INFO - 🚀 Starting model training for 2 tickers: AAPL, MSFT
2025-09-22 20:27:23,183 - __main__ - INFO - 🔄 Force retrain: False
2025-09-22 20:27:23,183 - __main__ - INFO - 📊 [1/2] Training model for AAPL
2025-09-22 20:27:23,183 - __main__ - INFO - ⏭️  Model for AAPL already exists, skipping (use --force to retrain)
2025-09-22 20:27:23,183 - __main__ - INFO - 📊 [2/2] Training model for MSFT
2025-09-22 20:27:23,183 - __main__ - INFO - ⏭️  Model for MSFT already exists, skipping (use --force to retrain)
2025-09-22 20:27:23,183 - __main__ - INFO - 🎯 Training completed: 2/2 models trained successfully
2025-09-22 20:27:23,183 - __main__ - INFO - 🎉 All models trained successfully!
2025-09-22 20:41:43,775 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 20:41:43,775 - strategy_layer.strategy_base.MLRandomForest - INFO - MLRandomForestStrategy initialized with confidence threshold: 0.6
2025-09-22 20:41:43,775 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 20:41:43,775 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 20:41:43,775 - __main__ - INFO - 🚀 Starting model training for 1 tickers: AAPL
2025-09-22 20:41:43,775 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 20:41:43,775 - __main__ - INFO - 📊 [1/1] Training model for AAPL
2025-09-22 20:41:43,775 - __main__ - INFO - 📥 Fetching data for AAPL
2025-09-22 20:41:44,455 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 75 days of data for AAPL
2025-09-22 20:41:44,455 - __main__ - ERROR - ❌ Exception during training for AAPL: object DataFrame can't be used in 'await' expression
2025-09-22 20:41:44,455 - __main__ - ERROR - ❌ Failed to train model for AAPL
2025-09-22 20:41:44,456 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 20:41:44,456 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 20:41:47,642 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 20:41:47,642 - strategy_layer.strategy_base.MLRandomForest - INFO - MLRandomForestStrategy initialized with confidence threshold: 0.6
2025-09-22 20:41:47,642 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 20:41:47,642 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 20:41:47,642 - __main__ - INFO - 🚀 Starting model training for 1 tickers: AAPL
2025-09-22 20:41:47,642 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 20:41:47,642 - __main__ - INFO - 📊 [1/1] Training model for AAPL
2025-09-22 20:41:47,642 - __main__ - INFO - 📥 Fetching data for AAPL
2025-09-22 20:41:48,043 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 75 days of data for AAPL
2025-09-22 20:41:48,043 - __main__ - ERROR - ❌ Exception during training for AAPL: object DataFrame can't be used in 'await' expression
2025-09-22 20:41:48,043 - __main__ - ERROR - ❌ Failed to train model for AAPL
2025-09-22 20:41:48,043 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 20:41:48,043 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 20:42:43,132 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 20:42:43,132 - strategy_layer.strategy_base.MLRandomForest - INFO - MLRandomForestStrategy initialized with confidence threshold: 0.6
2025-09-22 20:42:43,132 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 20:42:43,132 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 20:42:43,132 - __main__ - INFO - 🚀 Starting model training for 1 tickers: AAPL
2025-09-22 20:42:43,132 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 20:42:43,132 - __main__ - INFO - 📊 [1/1] Training model for AAPL
2025-09-22 20:42:43,132 - __main__ - INFO - 📥 Fetching data for AAPL
2025-09-22 20:42:43,813 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 75 days of data for AAPL
2025-09-22 20:42:43,813 - __main__ - INFO - ⚙️  Engineering features for AAPL
2025-09-22 20:42:43,813 - __main__ - ERROR - ❌ Exception during training for AAPL: 'MLRandomForestStrategy' object has no attribute '_engineer_features'
2025-09-22 20:42:43,813 - __main__ - ERROR - ❌ Failed to train model for AAPL
2025-09-22 20:42:43,813 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 20:42:43,813 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 20:42:58,607 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 20:42:58,607 - strategy_layer.strategy_base.MLRandomForest - INFO - MLRandomForestStrategy initialized with confidence threshold: 0.6
2025-09-22 20:42:58,607 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 20:42:58,607 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 20:42:58,607 - __main__ - INFO - 🚀 Starting model training for 1 tickers: AAPL
2025-09-22 20:42:58,607 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 20:42:58,607 - __main__ - INFO - 📊 [1/1] Training model for AAPL
2025-09-22 20:42:58,607 - __main__ - INFO - 🧠 Training ML model for AAPL
2025-09-22 20:42:58,607 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for AAPL
2025-09-22 20:42:59,097 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 75 days of data for AAPL
2025-09-22 20:42:59,098 - strategy_layer.strategy_base.MLRandomForest - WARNING - Insufficient data for AAPL
2025-09-22 20:42:59,098 - __main__ - ERROR - ❌ Model training failed for AAPL
2025-09-22 20:42:59,098 - __main__ - ERROR - ❌ Failed to train model for AAPL
2025-09-22 20:42:59,098 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 20:42:59,098 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 20:43:13,783 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 20:43:13,783 - strategy_layer.strategy_base.MLRandomForest - INFO - MLRandomForestStrategy initialized with confidence threshold: 0.6
2025-09-22 20:43:13,783 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 20:43:13,783 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 20:43:13,783 - __main__ - INFO - 🚀 Starting model training for 1 tickers: AAPL
2025-09-22 20:43:13,783 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 20:43:13,783 - __main__ - INFO - 📊 [1/1] Training model for AAPL
2025-09-22 20:43:13,783 - __main__ - INFO - 🧠 Training ML model for AAPL
2025-09-22 20:43:13,783 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for AAPL
2025-09-22 20:43:14,353 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 75 days of data for AAPL
2025-09-22 20:43:14,379 - strategy_layer.strategy_base.MLRandomForest - WARNING - Insufficient samples for AAPL: 24
2025-09-22 20:43:14,379 - __main__ - ERROR - ❌ Model training failed for AAPL
2025-09-22 20:43:14,379 - __main__ - ERROR - ❌ Failed to train model for AAPL
2025-09-22 20:43:14,379 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 20:43:14,379 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 20:43:24,268 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 20:43:24,268 - strategy_layer.strategy_base.MLRandomForest - INFO - MLRandomForestStrategy initialized with confidence threshold: 0.6
2025-09-22 20:43:24,268 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 20:43:24,268 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 20:43:24,268 - __main__ - INFO - 🚀 Starting model training for 1 tickers: AAPL
2025-09-22 20:43:24,268 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 20:43:24,268 - __main__ - INFO - 📊 [1/1] Training model for AAPL
2025-09-22 20:43:24,268 - __main__ - INFO - 🧠 Training ML model for AAPL
2025-09-22 20:43:24,268 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for AAPL
2025-09-22 20:43:24,652 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for AAPL
2025-09-22 20:43:43,849 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for AAPL with:
2025-09-22 20:43:43,849 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': 'balanced', 'max_depth': 10, 'max_features': None, 'min_samples_leaf': 1, 'min_samples_split': 2, 'n_estimators': 200}
2025-09-22 20:43:43,849 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.896
2025-09-22 20:43:43,849 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.846
2025-09-22 20:43:43,849 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.716
2025-09-22 20:43:43,849 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.846
2025-09-22 20:43:43,849 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.776
2025-09-22 20:43:43,869 - __main__ - INFO - ✅ Model for AAPL trained and saved successfully
2025-09-22 20:43:43,869 - __main__ - INFO - ✅ Successfully trained model for AAPL
2025-09-22 20:43:43,869 - __main__ - INFO - 🎯 Training completed: 1/1 models trained successfully
2025-09-22 20:43:43,869 - __main__ - INFO - 🎉 All models trained successfully!
2025-09-22 21:08:50,498 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 21:08:50,498 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 21:08:50,498 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 21:08:50,498 - __main__ - INFO - 🚀 Starting model training for 2 tickers: AAPL, MSFT
2025-09-22 21:08:50,498 - __main__ - INFO - 🔄 Force retrain: False
2025-09-22 21:08:50,498 - __main__ - INFO - 📊 [1/2] Training model for AAPL
2025-09-22 21:08:50,498 - __main__ - INFO - ⏭️  Model for AAPL already exists, skipping (use --force to retrain)
2025-09-22 21:08:50,498 - __main__ - INFO - 📊 [2/2] Training model for MSFT
2025-09-22 21:08:50,498 - __main__ - INFO - ⏭️  Model for MSFT already exists, skipping (use --force to retrain)
2025-09-22 21:08:50,498 - __main__ - INFO - 🎯 Training completed: 2/2 models trained successfully
2025-09-22 21:08:50,498 - __main__ - INFO - 🎉 All models trained successfully!
2025-09-22 21:08:58,205 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 21:08:58,205 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 21:08:58,205 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 21:08:58,205 - __main__ - INFO - 🚀 Starting model training for 2 tickers: AAPL, MSFT
2025-09-22 21:08:58,205 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 21:08:58,205 - __main__ - INFO - 📊 [1/2] Training model for AAPL
2025-09-22 21:08:58,205 - __main__ - INFO - 🧠 Training ML model for AAPL
2025-09-22 21:08:58,205 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for AAPL
2025-09-22 21:08:58,205 - core.error_handler - WARNING - [DATA] 'MLRandomForestStrategy' object has no attribute 'lookback_period' (Context: ticker=AAPL, operation=data_fetch) | Exception: AttributeError
2025-09-22 21:08:58,205 - strategy_layer.strategy_base.MLRandomForest - WARNING - Insufficient data for AAPL
2025-09-22 21:08:58,205 - __main__ - ERROR - ❌ Model training failed for AAPL
2025-09-22 21:08:58,205 - __main__ - ERROR - ❌ Failed to train model for AAPL
2025-09-22 21:08:58,205 - __main__ - INFO - 📊 [2/2] Training model for MSFT
2025-09-22 21:08:58,206 - __main__ - INFO - 🧠 Training ML model for MSFT
2025-09-22 21:08:58,206 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for MSFT
2025-09-22 21:08:58,206 - core.error_handler - WARNING - [DATA] 'MLRandomForestStrategy' object has no attribute 'lookback_period' (Context: ticker=MSFT, operation=data_fetch) | Exception: AttributeError
2025-09-22 21:08:58,206 - strategy_layer.strategy_base.MLRandomForest - WARNING - Insufficient data for MSFT
2025-09-22 21:08:58,206 - __main__ - ERROR - ❌ Model training failed for MSFT
2025-09-22 21:08:58,206 - __main__ - ERROR - ❌ Failed to train model for MSFT
2025-09-22 21:08:58,206 - __main__ - INFO - 🎯 Training completed: 0/2 models trained successfully
2025-09-22 21:08:58,206 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 21:12:37,158 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 21:12:37,158 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 21:12:37,158 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 21:12:37,158 - __main__ - INFO - 🚀 Starting model training for 2 tickers: AAPL, MSFT
2025-09-22 21:12:37,158 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 21:12:37,158 - __main__ - INFO - 📊 [1/2] Training model for AAPL
2025-09-22 21:12:37,158 - __main__ - INFO - 🧠 Training ML model for AAPL
2025-09-22 21:12:37,158 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for AAPL
2025-09-22 21:12:37,158 - core.error_handler - WARNING - [DATA] 'MLRandomForestStrategy' object has no attribute 'lookback_period' (Context: ticker=AAPL, operation=data_fetch) | Exception: AttributeError
2025-09-22 21:12:37,158 - strategy_layer.strategy_base.MLRandomForest - WARNING - Insufficient data for AAPL
2025-09-22 21:12:37,158 - __main__ - ERROR - ❌ Model training failed for AAPL
2025-09-22 21:12:37,158 - __main__ - ERROR - ❌ Failed to train model for AAPL
2025-09-22 21:12:37,158 - __main__ - INFO - 📊 [2/2] Training model for MSFT
2025-09-22 21:12:37,158 - __main__ - INFO - 🧠 Training ML model for MSFT
2025-09-22 21:12:37,158 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for MSFT
2025-09-22 21:12:37,158 - core.error_handler - WARNING - [DATA] 'MLRandomForestStrategy' object has no attribute 'lookback_period' (Context: ticker=MSFT, operation=data_fetch) | Exception: AttributeError
2025-09-22 21:12:37,158 - strategy_layer.strategy_base.MLRandomForest - WARNING - Insufficient data for MSFT
2025-09-22 21:12:37,158 - __main__ - ERROR - ❌ Model training failed for MSFT
2025-09-22 21:12:37,158 - __main__ - ERROR - ❌ Failed to train model for MSFT
2025-09-22 21:12:37,158 - __main__ - INFO - 🎯 Training completed: 0/2 models trained successfully
2025-09-22 21:12:37,158 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 21:55:42,089 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 21:55:42,089 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 21:55:42,089 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 21:55:42,089 - __main__ - INFO - 🚀 Starting model training for 1 tickers: AAPL
2025-09-22 21:55:42,089 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 21:55:42,089 - __main__ - INFO - 📊 [1/1] Training model for AAPL
2025-09-22 21:55:42,089 - __main__ - INFO - 🧠 Training ML model for AAPL
2025-09-22 21:55:42,089 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for AAPL
2025-09-22 21:55:42,090 - core.error_handler - WARNING - [DATA] 'MLRandomForestStrategy' object has no attribute 'lookback_period' (Context: ticker=AAPL, operation=data_fetch) | Exception: AttributeError
2025-09-22 21:55:42,090 - strategy_layer.strategy_base.MLRandomForest - WARNING - Insufficient data for AAPL
2025-09-22 21:55:42,090 - __main__ - ERROR - ❌ Model training failed for AAPL
2025-09-22 21:55:42,090 - __main__ - ERROR - ❌ Failed to train model for AAPL
2025-09-22 21:55:42,090 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 21:55:42,090 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 21:56:13,107 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 21:56:13,108 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 21:56:13,108 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 21:56:13,108 - __main__ - INFO - 🚀 Starting model training for 1 tickers: AAPL
2025-09-22 21:56:13,108 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 21:56:13,108 - __main__ - INFO - 📊 [1/1] Training model for AAPL
2025-09-22 21:56:13,108 - __main__ - INFO - 🧠 Training ML model for AAPL
2025-09-22 21:56:13,108 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for AAPL
2025-09-22 21:56:13,628 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for AAPL
2025-09-22 21:56:13,629 - core.error_handler - ERROR - [MODEL] Cannot run the event loop while another loop is running (Context: ticker=AAPL, operation=model_training) | Exception: RuntimeError
2025-09-22 21:56:13,629 - __main__ - ERROR - ❌ Model training failed for AAPL
2025-09-22 21:56:13,629 - __main__ - ERROR - ❌ Failed to train model for AAPL
2025-09-22 21:56:13,629 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 21:56:13,629 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 21:56:13,834 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: Not allowed to merge between different levels. (1 levels on the left, 2 on the right)
2025-09-22 21:56:13,835 - strategy_layer.strategy_base.MLRandomForest - ERROR - Failed to train model for AAPL: 'volatility_20'
2025-09-22 21:57:15,445 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 21:57:15,446 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 21:57:15,446 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 21:57:15,446 - __main__ - INFO - 🚀 Starting model training for 1 tickers: AAPL
2025-09-22 21:57:15,446 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 21:57:15,446 - __main__ - INFO - 📊 [1/1] Training model for AAPL
2025-09-22 21:57:15,446 - __main__ - INFO - 🧠 Training ML model for AAPL
2025-09-22 21:57:15,446 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for AAPL
2025-09-22 21:57:15,966 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for AAPL
2025-09-22 21:57:16,211 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: Not allowed to merge between different levels. (1 levels on the left, 2 on the right)
2025-09-22 21:57:16,212 - strategy_layer.strategy_base.MLRandomForest - ERROR - Failed to train model for AAPL: 'volatility_20'
2025-09-22 21:57:16,212 - __main__ - ERROR - ❌ Model training failed for AAPL
2025-09-22 21:57:16,212 - __main__ - ERROR - ❌ Failed to train model for AAPL
2025-09-22 21:57:16,212 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 21:57:16,212 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 21:57:29,589 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 21:57:29,589 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 21:57:29,589 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 21:57:29,589 - __main__ - INFO - 🚀 Starting model training for 1 tickers: AAPL
2025-09-22 21:57:29,589 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 21:57:29,589 - __main__ - INFO - 📊 [1/1] Training model for AAPL
2025-09-22 21:57:29,589 - __main__ - INFO - 🧠 Training ML model for AAPL
2025-09-22 21:57:29,589 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for AAPL
2025-09-22 21:57:30,076 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for AAPL
2025-09-22 21:57:30,292 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: Not allowed to merge between different levels. (1 levels on the left, 2 on the right)
2025-09-22 21:57:30,293 - strategy_layer.strategy_base.MLRandomForest - ERROR - Failed to train model for AAPL: 'volatility_20'
2025-09-22 21:57:30,293 - __main__ - ERROR - ❌ Model training failed for AAPL
2025-09-22 21:57:30,293 - __main__ - ERROR - ❌ Failed to train model for AAPL
2025-09-22 21:57:30,293 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 21:57:30,293 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 21:57:54,568 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 21:57:54,568 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 21:57:54,568 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 21:57:54,568 - __main__ - INFO - 🚀 Starting model training for 1 tickers: AAPL
2025-09-22 21:57:54,568 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 21:57:54,568 - __main__ - INFO - 📊 [1/1] Training model for AAPL
2025-09-22 21:57:54,568 - __main__ - INFO - 🧠 Training ML model for AAPL
2025-09-22 21:57:54,568 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for AAPL
2025-09-22 21:57:54,981 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for AAPL
2025-09-22 21:57:55,225 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: Not allowed to merge between different levels. (1 levels on the left, 2 on the right)
2025-09-22 21:57:55,226 - strategy_layer.strategy_base.MLRandomForest - ERROR - Failed to train model for AAPL: 'volatility_20'
2025-09-22 21:57:55,226 - __main__ - ERROR - ❌ Model training failed for AAPL
2025-09-22 21:57:55,226 - __main__ - ERROR - ❌ Failed to train model for AAPL
2025-09-22 21:57:55,227 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 21:57:55,227 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 21:58:05,169 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 21:58:05,169 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 21:58:05,169 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 21:58:05,169 - __main__ - INFO - 🚀 Starting model training for 1 tickers: AAPL
2025-09-22 21:58:05,169 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 21:58:05,169 - __main__ - INFO - 📊 [1/1] Training model for AAPL
2025-09-22 21:58:05,169 - __main__ - INFO - 🧠 Training ML model for AAPL
2025-09-22 21:58:05,169 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for AAPL
2025-09-22 21:58:05,581 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for AAPL
2025-09-22 21:58:05,789 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: Not allowed to merge between different levels. (1 levels on the left, 2 on the right)
2025-09-22 21:58:05,790 - strategy_layer.strategy_base.MLRandomForest - ERROR - Failed to train model for AAPL: 'volatility_20'
2025-09-22 21:58:05,791 - __main__ - ERROR - ❌ Model training failed for AAPL
2025-09-22 21:58:05,791 - __main__ - ERROR - ❌ Failed to train model for AAPL
2025-09-22 21:58:05,791 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 21:58:05,791 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 21:58:09,102 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 21:58:09,102 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 21:58:09,102 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 21:58:09,103 - __main__ - INFO - 🚀 Starting model training for 1 tickers: AAPL
2025-09-22 21:58:09,103 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 21:58:09,103 - __main__ - INFO - 📊 [1/1] Training model for AAPL
2025-09-22 21:58:09,103 - __main__ - INFO - 🧠 Training ML model for AAPL
2025-09-22 21:58:09,103 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for AAPL
2025-09-22 21:58:09,503 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for AAPL
2025-09-22 21:58:09,700 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: Not allowed to merge between different levels. (1 levels on the left, 2 on the right)
2025-09-22 21:58:09,701 - strategy_layer.strategy_base.MLRandomForest - ERROR - Failed to train model for AAPL: 'volatility_20'
2025-09-22 21:58:09,702 - __main__ - ERROR - ❌ Model training failed for AAPL
2025-09-22 21:58:09,702 - __main__ - ERROR - ❌ Failed to train model for AAPL
2025-09-22 21:58:09,702 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 21:58:09,702 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 21:58:30,059 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 21:58:30,060 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 21:58:30,060 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 21:58:30,060 - __main__ - INFO - 🚀 Starting model training for 1 tickers: AAPL
2025-09-22 21:58:30,060 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 21:58:30,060 - __main__ - INFO - 📊 [1/1] Training model for AAPL
2025-09-22 21:58:30,060 - __main__ - INFO - 🧠 Training ML model for AAPL
2025-09-22 21:58:30,060 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for AAPL
2025-09-22 21:58:30,774 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for AAPL
2025-09-22 21:58:30,774 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for AAPL with 115 rows
2025-09-22 21:58:30,774 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 21:58:30,997 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: Not allowed to merge between different levels. (1 levels on the left, 2 on the right)
2025-09-22 21:58:30,998 - strategy_layer.strategy_base.MLRandomForest - ERROR - Failed to train model for AAPL: 'volatility_20'
2025-09-22 21:58:30,998 - __main__ - ERROR - ❌ Model training failed for AAPL
2025-09-22 21:58:30,998 - __main__ - ERROR - ❌ Failed to train model for AAPL
2025-09-22 21:58:30,998 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 21:58:30,998 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 21:59:12,755 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 21:59:12,756 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 21:59:12,756 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 21:59:12,756 - __main__ - INFO - 🚀 Starting model training for 1 tickers: AAPL
2025-09-22 21:59:12,756 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 21:59:12,756 - __main__ - INFO - 📊 [1/1] Training model for AAPL
2025-09-22 21:59:12,756 - __main__ - INFO - 🧠 Training ML model for AAPL
2025-09-22 21:59:12,756 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for AAPL
2025-09-22 21:59:13,188 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for AAPL
2025-09-22 21:59:13,189 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for AAPL with 115 rows
2025-09-22 21:59:13,189 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 21:59:13,388 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: Cannot join tz-naive with tz-aware DatetimeIndex
2025-09-22 21:59:13,389 - strategy_layer.strategy_base.MLRandomForest - ERROR - Failed to train model for AAPL: 'volatility_20'
2025-09-22 21:59:13,389 - __main__ - ERROR - ❌ Model training failed for AAPL
2025-09-22 21:59:13,389 - __main__ - ERROR - ❌ Failed to train model for AAPL
2025-09-22 21:59:13,389 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 21:59:13,389 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 21:59:23,029 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 21:59:23,029 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 21:59:23,029 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 21:59:23,029 - __main__ - INFO - 🚀 Starting model training for 1 tickers: AAPL
2025-09-22 21:59:23,029 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 21:59:23,029 - __main__ - INFO - 📊 [1/1] Training model for AAPL
2025-09-22 21:59:23,030 - __main__ - INFO - 🧠 Training ML model for AAPL
2025-09-22 21:59:23,030 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for AAPL
2025-09-22 21:59:23,420 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for AAPL
2025-09-22 21:59:23,421 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for AAPL with 115 rows
2025-09-22 21:59:23,421 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 21:59:23,610 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'volatility_20'
2025-09-22 21:59:23,611 - strategy_layer.strategy_base.MLRandomForest - ERROR - Failed to train model for AAPL: 'volatility_20'
2025-09-22 21:59:23,611 - __main__ - ERROR - ❌ Model training failed for AAPL
2025-09-22 21:59:23,611 - __main__ - ERROR - ❌ Failed to train model for AAPL
2025-09-22 21:59:23,611 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 21:59:23,611 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 22:00:30,069 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 22:00:30,069 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 22:00:30,069 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 22:00:30,069 - __main__ - INFO - 🚀 Starting model training for 1 tickers: AAPL
2025-09-22 22:00:30,069 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 22:00:30,069 - __main__ - INFO - 📊 [1/1] Training model for AAPL
2025-09-22 22:00:30,070 - __main__ - INFO - 🧠 Training ML model for AAPL
2025-09-22 22:00:30,070 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for AAPL
2025-09-22 22:00:30,599 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for AAPL
2025-09-22 22:00:30,599 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for AAPL with 115 rows
2025-09-22 22:00:30,599 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:00:30,825 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features...
2025-09-22 22:00:30,825 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Advanced features calculated: ['atr_14', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'momentum_decay_10', 'momentum_decay_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20']
2025-09-22 22:00:30,825 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: atr_14
2025-09-22 22:00:30,825 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: bollinger_bandwidth_20
2025-09-22 22:00:30,825 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: volatility_ratio_5_20
2025-09-22 22:00:30,826 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_10
2025-09-22 22:00:30,826 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_20
2025-09-22 22:00:30,826 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_5_20
2025-09-22 22:00:30,826 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_10_20
2025-09-22 22:00:30,826 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added 7 advanced features total
2025-09-22 22:00:30,826 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (115, 80)
2025-09-22 22:00:30,826 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:00:30,827 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:00:30,829 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 88 columns
2025-09-22 22:00:30,829 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:00:30,830 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:00:30,831 - strategy_layer.strategy_base.MLRandomForest - WARNING - Insufficient samples for AAPL: 0
2025-09-22 22:00:30,832 - __main__ - ERROR - ❌ Model training failed for AAPL
2025-09-22 22:00:30,832 - __main__ - ERROR - ❌ Failed to train model for AAPL
2025-09-22 22:00:30,832 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 22:00:30,832 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 22:00:51,176 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 22:00:51,177 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 22:00:51,177 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 22:00:51,177 - __main__ - INFO - 🚀 Starting model training for 1 tickers: AAPL
2025-09-22 22:00:51,177 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 22:00:51,177 - __main__ - INFO - 📊 [1/1] Training model for AAPL
2025-09-22 22:00:51,177 - __main__ - INFO - 🧠 Training ML model for AAPL
2025-09-22 22:00:51,177 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for AAPL
2025-09-22 22:00:51,988 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for AAPL
2025-09-22 22:00:51,988 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for AAPL with 115 rows
2025-09-22 22:00:51,988 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:00:52,223 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features...
2025-09-22 22:00:52,224 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Advanced features calculated: ['atr_14', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'momentum_decay_10', 'momentum_decay_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20']
2025-09-22 22:00:52,224 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: atr_14
2025-09-22 22:00:52,224 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: bollinger_bandwidth_20
2025-09-22 22:00:52,224 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: volatility_ratio_5_20
2025-09-22 22:00:52,224 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_10
2025-09-22 22:00:52,225 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_20
2025-09-22 22:00:52,225 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_5_20
2025-09-22 22:00:52,225 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_10_20
2025-09-22 22:00:52,225 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added 7 advanced features total
2025-09-22 22:00:52,225 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (115, 80)
2025-09-22 22:00:52,225 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:00:52,226 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:00:52,228 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 88 columns
2025-09-22 22:00:52,228 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:00:52,228 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:01:10,859 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for AAPL with:
2025-09-22 22:01:10,860 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': 'balanced', 'max_depth': 10, 'max_features': None, 'min_samples_leaf': 1, 'min_samples_split': 2, 'n_estimators': 200}
2025-09-22 22:01:10,860 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.896
2025-09-22 22:01:10,860 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.846
2025-09-22 22:01:10,860 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.716
2025-09-22 22:01:10,860 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.846
2025-09-22 22:01:10,860 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.776
2025-09-22 22:01:10,882 - __main__ - INFO - ✅ Model for AAPL trained and saved successfully
2025-09-22 22:01:10,882 - __main__ - INFO - ✅ Successfully trained model for AAPL
2025-09-22 22:01:10,882 - __main__ - INFO - 🎯 Training completed: 1/1 models trained successfully
2025-09-22 22:01:10,882 - __main__ - INFO - 🎉 All models trained successfully!
2025-09-22 22:02:31,478 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 22:02:31,478 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 22:02:31,478 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 22:02:31,478 - __main__ - INFO - 🚀 Starting model training for 1 tickers: AAPL
2025-09-22 22:02:31,478 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 22:02:31,478 - __main__ - INFO - 📊 [1/1] Training model for AAPL
2025-09-22 22:02:31,478 - __main__ - INFO - 🧠 Training ML model for AAPL
2025-09-22 22:02:31,478 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for AAPL
2025-09-22 22:02:32,017 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for AAPL
2025-09-22 22:02:32,017 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for AAPL with 115 rows
2025-09-22 22:02:32,017 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:02:32,280 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features...
2025-09-22 22:02:32,281 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Advanced features calculated: ['atr_14', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'momentum_decay_10', 'momentum_decay_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20']
2025-09-22 22:02:32,281 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: atr_14
2025-09-22 22:02:32,281 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: bollinger_bandwidth_20
2025-09-22 22:02:32,282 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: volatility_ratio_5_20
2025-09-22 22:02:32,282 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_10
2025-09-22 22:02:32,282 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_20
2025-09-22 22:02:32,282 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_5_20
2025-09-22 22:02:32,282 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_10_20
2025-09-22 22:02:32,282 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added 7 advanced features total
2025-09-22 22:02:32,282 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (115, 80)
2025-09-22 22:02:32,282 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:02:32,282 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:02:32,284 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 88 columns
2025-09-22 22:02:32,284 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:02:32,284 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:02:50,937 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for AAPL with:
2025-09-22 22:02:50,937 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': 'balanced', 'max_depth': 10, 'max_features': None, 'min_samples_leaf': 1, 'min_samples_split': 2, 'n_estimators': 200}
2025-09-22 22:02:50,937 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.896
2025-09-22 22:02:50,937 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.846
2025-09-22 22:02:50,937 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.716
2025-09-22 22:02:50,937 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.846
2025-09-22 22:02:50,937 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.776
2025-09-22 22:02:50,956 - __main__ - INFO - ✅ Model for AAPL trained and saved successfully
2025-09-22 22:02:50,956 - __main__ - INFO - ✅ Successfully trained model for AAPL
2025-09-22 22:02:50,956 - __main__ - INFO - 🎯 Training completed: 1/1 models trained successfully
2025-09-22 22:02:50,956 - __main__ - INFO - 🎉 All models trained successfully!
2025-09-22 22:05:01,650 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 22:05:01,651 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 22:05:01,651 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 22:05:01,651 - __main__ - INFO - 🚀 Starting model training for 1 tickers: AAPL
2025-09-22 22:05:01,651 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 22:05:01,651 - __main__ - INFO - 📊 [1/1] Training model for AAPL
2025-09-22 22:05:01,651 - __main__ - INFO - 🧠 Training ML model for AAPL
2025-09-22 22:05:01,651 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for AAPL
2025-09-22 22:05:02,100 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for AAPL
2025-09-22 22:05:02,101 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for AAPL with 115 rows
2025-09-22 22:05:02,101 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:05:02,327 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features...
2025-09-22 22:05:02,333 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Advanced features calculated: ['atr_14', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'momentum_decay_10', 'momentum_decay_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20']
2025-09-22 22:05:02,333 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: atr_14
2025-09-22 22:05:02,333 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: bollinger_bandwidth_20
2025-09-22 22:05:02,333 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: volatility_ratio_5_20
2025-09-22 22:05:02,333 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_10
2025-09-22 22:05:02,333 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_20
2025-09-22 22:05:02,334 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_5_20
2025-09-22 22:05:02,334 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_10_20
2025-09-22 22:05:02,334 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added 7 advanced features total
2025-09-22 22:05:02,334 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (115, 80)
2025-09-22 22:05:02,334 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:05:02,334 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:05:02,335 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 88 columns
2025-09-22 22:05:02,335 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:05:02,335 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:05:20,961 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for AAPL with:
2025-09-22 22:05:20,962 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': 'log2', 'min_samples_leaf': 1, 'min_samples_split': 5, 'n_estimators': 50}
2025-09-22 22:05:20,962 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.911
2025-09-22 22:05:20,962 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.846
2025-09-22 22:05:20,962 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.716
2025-09-22 22:05:20,962 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.846
2025-09-22 22:05:20,962 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.776
2025-09-22 22:05:20,968 - __main__ - INFO - ✅ Model for AAPL trained and saved successfully
2025-09-22 22:05:20,968 - __main__ - INFO - ✅ Successfully trained model for AAPL
2025-09-22 22:05:20,968 - __main__ - INFO - 🎯 Training completed: 1/1 models trained successfully
2025-09-22 22:05:20,968 - __main__ - INFO - 🎉 All models trained successfully!
2025-09-22 22:28:48,728 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 22:28:48,728 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 22:28:48,728 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 22:28:48,728 - __main__ - INFO - 🚀 Starting model training for 2 tickers: AAPL, MSFT
2025-09-22 22:28:48,728 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 22:28:48,728 - __main__ - INFO - 📊 [1/2] Training model for AAPL
2025-09-22 22:28:48,728 - __main__ - INFO - 🧠 Training ML model for AAPL
2025-09-22 22:28:48,728 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for AAPL
2025-09-22 22:28:49,196 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for AAPL
2025-09-22 22:28:49,197 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for AAPL with 115 rows
2025-09-22 22:28:49,197 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:28:49,197 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting _calculate_technical_indicators with data shape: (115, 5)
2025-09-22 22:28:49,197 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:28:49,429 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features...
2025-09-22 22:28:49,436 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Advanced features calculated: ['atr_14', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'momentum_decay_10', 'momentum_decay_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20']
2025-09-22 22:28:49,436 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: atr_14
2025-09-22 22:28:49,436 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: bollinger_bandwidth_20
2025-09-22 22:28:49,437 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: volatility_ratio_5_20
2025-09-22 22:28:49,437 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_10
2025-09-22 22:28:49,437 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_20
2025-09-22 22:28:49,437 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_5_20
2025-09-22 22:28:49,437 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_10_20
2025-09-22 22:28:49,437 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added 7 advanced features total
2025-09-22 22:28:49,437 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (115, 80)
2025-09-22 22:28:49,437 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:28:49,437 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:28:49,439 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 88 columns
2025-09-22 22:28:49,439 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:28:49,439 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:29:08,701 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for AAPL with:
2025-09-22 22:29:08,701 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': 'log2', 'min_samples_leaf': 1, 'min_samples_split': 5, 'n_estimators': 50}
2025-09-22 22:29:08,701 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.911
2025-09-22 22:29:08,701 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.846
2025-09-22 22:29:08,701 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.716
2025-09-22 22:29:08,701 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.846
2025-09-22 22:29:08,701 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.776
2025-09-22 22:29:08,708 - __main__ - INFO - ✅ Model for AAPL trained and saved successfully
2025-09-22 22:29:08,708 - __main__ - INFO - ✅ Successfully trained model for AAPL
2025-09-22 22:29:08,708 - __main__ - INFO - 📊 [2/2] Training model for MSFT
2025-09-22 22:29:08,708 - __main__ - INFO - 🧠 Training ML model for MSFT
2025-09-22 22:29:08,708 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for MSFT
2025-09-22 22:29:08,875 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for MSFT
2025-09-22 22:29:08,876 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for MSFT with 115 rows
2025-09-22 22:29:08,876 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:29:08,876 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting _calculate_technical_indicators with data shape: (115, 5)
2025-09-22 22:29:08,876 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:29:08,904 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features...
2025-09-22 22:29:08,908 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Advanced features calculated: ['atr_14', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'momentum_decay_10', 'momentum_decay_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20']
2025-09-22 22:29:08,908 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: atr_14
2025-09-22 22:29:08,908 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: bollinger_bandwidth_20
2025-09-22 22:29:08,908 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: volatility_ratio_5_20
2025-09-22 22:29:08,909 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_10
2025-09-22 22:29:08,909 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_20
2025-09-22 22:29:08,909 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_5_20
2025-09-22 22:29:08,909 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_10_20
2025-09-22 22:29:08,909 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added 7 advanced features total
2025-09-22 22:29:08,909 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (115, 80)
2025-09-22 22:29:08,909 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:29:08,909 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:29:08,910 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 88 columns
2025-09-22 22:29:08,910 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:29:08,910 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:29:26,328 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for MSFT with:
2025-09-22 22:29:26,329 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': 'sqrt', 'min_samples_leaf': 2, 'min_samples_split': 10, 'n_estimators': 50}
2025-09-22 22:29:26,329 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.919
2025-09-22 22:29:26,329 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.846
2025-09-22 22:29:26,329 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.716
2025-09-22 22:29:26,329 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.846
2025-09-22 22:29:26,329 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.776
2025-09-22 22:29:26,336 - __main__ - INFO - ✅ Model for MSFT trained and saved successfully
2025-09-22 22:29:26,336 - __main__ - INFO - ✅ Successfully trained model for MSFT
2025-09-22 22:29:26,336 - __main__ - INFO - 🎯 Training completed: 2/2 models trained successfully
2025-09-22 22:29:26,336 - __main__ - INFO - 🎉 All models trained successfully!
2025-09-22 22:30:53,279 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 22:30:53,279 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 22:30:53,280 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 22:30:53,280 - __main__ - INFO - 🚀 Starting model training for 40 tickers: AAPL, MSFT, GOOGL, AMZN, TSLA, NVDA, META, NFLX, AMD, CRM, ORCL, INTC, CSCO, IBM, PYPL, SQ, SHOP, UBER, SPOT, JPM, V, JNJ, WMT, PG, KO, DIS, BA, XOM, CVX, HD, MCD, NKE, COST, UNH, PFE, ABT, TMO, LLY, MRK, GS
2025-09-22 22:30:53,280 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 22:30:53,280 - __main__ - INFO - 📊 [1/40] Training model for AAPL
2025-09-22 22:30:53,280 - __main__ - INFO - 🧠 Training ML model for AAPL
2025-09-22 22:30:53,280 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for AAPL
2025-09-22 22:30:53,730 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for AAPL
2025-09-22 22:30:53,730 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for AAPL with 115 rows
2025-09-22 22:30:53,730 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:30:53,731 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting _calculate_technical_indicators with data shape: (115, 5)
2025-09-22 22:30:53,731 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:30:54,036 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features...
2025-09-22 22:30:54,042 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Advanced features calculated: ['atr_14', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'momentum_decay_10', 'momentum_decay_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20']
2025-09-22 22:30:54,043 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: atr_14
2025-09-22 22:30:54,043 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: bollinger_bandwidth_20
2025-09-22 22:30:54,043 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: volatility_ratio_5_20
2025-09-22 22:30:54,043 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_10
2025-09-22 22:30:54,043 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_20
2025-09-22 22:30:54,044 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_5_20
2025-09-22 22:30:54,044 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_10_20
2025-09-22 22:30:54,044 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added 7 advanced features total
2025-09-22 22:30:54,044 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (115, 80)
2025-09-22 22:30:54,044 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:30:54,044 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:30:54,046 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 88 columns
2025-09-22 22:30:54,047 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:30:54,047 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:31:13,085 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for AAPL with:
2025-09-22 22:31:13,086 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': 'log2', 'min_samples_leaf': 1, 'min_samples_split': 5, 'n_estimators': 50}
2025-09-22 22:31:13,086 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.911
2025-09-22 22:31:13,086 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.846
2025-09-22 22:31:13,086 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.716
2025-09-22 22:31:13,086 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.846
2025-09-22 22:31:13,086 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.776
2025-09-22 22:31:13,092 - __main__ - INFO - ✅ Model for AAPL trained and saved successfully
2025-09-22 22:31:13,092 - __main__ - INFO - ✅ Successfully trained model for AAPL
2025-09-22 22:31:13,092 - __main__ - INFO - 📊 [2/40] Training model for MSFT
2025-09-22 22:31:13,092 - __main__ - INFO - 🧠 Training ML model for MSFT
2025-09-22 22:31:13,093 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for MSFT
2025-09-22 22:31:13,294 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for MSFT
2025-09-22 22:31:13,294 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for MSFT with 115 rows
2025-09-22 22:31:13,294 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:31:13,294 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting _calculate_technical_indicators with data shape: (115, 5)
2025-09-22 22:31:13,294 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:31:13,326 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features...
2025-09-22 22:31:13,330 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Advanced features calculated: ['atr_14', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'momentum_decay_10', 'momentum_decay_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20']
2025-09-22 22:31:13,330 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: atr_14
2025-09-22 22:31:13,330 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: bollinger_bandwidth_20
2025-09-22 22:31:13,330 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: volatility_ratio_5_20
2025-09-22 22:31:13,330 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_10
2025-09-22 22:31:13,330 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_20
2025-09-22 22:31:13,330 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_5_20
2025-09-22 22:31:13,331 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_10_20
2025-09-22 22:31:13,331 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added 7 advanced features total
2025-09-22 22:31:13,331 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (115, 80)
2025-09-22 22:31:13,331 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:31:13,331 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:31:13,332 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 88 columns
2025-09-22 22:31:13,332 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:31:13,332 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:31:30,728 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for MSFT with:
2025-09-22 22:31:30,728 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': 'sqrt', 'min_samples_leaf': 2, 'min_samples_split': 10, 'n_estimators': 50}
2025-09-22 22:31:30,728 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.919
2025-09-22 22:31:30,728 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.846
2025-09-22 22:31:30,728 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.716
2025-09-22 22:31:30,729 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.846
2025-09-22 22:31:30,729 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.776
2025-09-22 22:31:30,735 - __main__ - INFO - ✅ Model for MSFT trained and saved successfully
2025-09-22 22:31:30,735 - __main__ - INFO - ✅ Successfully trained model for MSFT
2025-09-22 22:31:30,735 - __main__ - INFO - 📊 [3/40] Training model for GOOGL
2025-09-22 22:31:30,735 - __main__ - INFO - 🧠 Training ML model for GOOGL
2025-09-22 22:31:30,735 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for GOOGL
2025-09-22 22:31:30,886 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for GOOGL
2025-09-22 22:31:30,886 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for GOOGL with 115 rows
2025-09-22 22:31:30,886 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:31:30,886 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting _calculate_technical_indicators with data shape: (115, 5)
2025-09-22 22:31:30,886 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:31:30,915 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features...
2025-09-22 22:31:30,919 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Advanced features calculated: ['atr_14', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'momentum_decay_10', 'momentum_decay_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20']
2025-09-22 22:31:30,919 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: atr_14
2025-09-22 22:31:30,919 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: bollinger_bandwidth_20
2025-09-22 22:31:30,919 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: volatility_ratio_5_20
2025-09-22 22:31:30,920 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_10
2025-09-22 22:31:30,920 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_20
2025-09-22 22:31:30,920 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_5_20
2025-09-22 22:31:30,920 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_10_20
2025-09-22 22:31:30,920 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added 7 advanced features total
2025-09-22 22:31:30,920 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (115, 80)
2025-09-22 22:31:30,920 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:31:30,920 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:31:30,921 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 88 columns
2025-09-22 22:31:30,922 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:31:30,922 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:31:48,579 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for GOOGL with:
2025-09-22 22:31:48,579 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': 'balanced', 'max_depth': 10, 'max_features': 'sqrt', 'min_samples_leaf': 1, 'min_samples_split': 10, 'n_estimators': 100}
2025-09-22 22:31:48,580 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.878
2025-09-22 22:31:48,580 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.846
2025-09-22 22:31:48,580 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.716
2025-09-22 22:31:48,580 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.846
2025-09-22 22:31:48,580 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.776
2025-09-22 22:31:48,590 - __main__ - INFO - ✅ Model for GOOGL trained and saved successfully
2025-09-22 22:31:48,590 - __main__ - INFO - ✅ Successfully trained model for GOOGL
2025-09-22 22:31:48,590 - __main__ - INFO - 📊 [4/40] Training model for AMZN
2025-09-22 22:31:48,590 - __main__ - INFO - 🧠 Training ML model for AMZN
2025-09-22 22:31:48,590 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for AMZN
2025-09-22 22:31:48,738 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for AMZN
2025-09-22 22:31:48,738 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for AMZN with 115 rows
2025-09-22 22:31:48,738 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:31:48,738 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting _calculate_technical_indicators with data shape: (115, 5)
2025-09-22 22:31:48,738 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:31:48,765 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features...
2025-09-22 22:31:48,769 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Advanced features calculated: ['atr_14', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'momentum_decay_10', 'momentum_decay_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20']
2025-09-22 22:31:48,769 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: atr_14
2025-09-22 22:31:48,769 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: bollinger_bandwidth_20
2025-09-22 22:31:48,769 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: volatility_ratio_5_20
2025-09-22 22:31:48,769 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_10
2025-09-22 22:31:48,769 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_20
2025-09-22 22:31:48,769 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_5_20
2025-09-22 22:31:48,770 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_10_20
2025-09-22 22:31:48,770 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added 7 advanced features total
2025-09-22 22:31:48,770 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (115, 80)
2025-09-22 22:31:48,770 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:31:48,770 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:31:48,771 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 88 columns
2025-09-22 22:31:48,771 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:31:48,771 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:32:06,505 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for AMZN with:
2025-09-22 22:32:06,506 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': 'sqrt', 'min_samples_leaf': 1, 'min_samples_split': 2, 'n_estimators': 50}
2025-09-22 22:32:06,506 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.968
2025-09-22 22:32:06,506 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.923
2025-09-22 22:32:06,506 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.852
2025-09-22 22:32:06,506 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.923
2025-09-22 22:32:06,506 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.886
2025-09-22 22:32:06,513 - __main__ - INFO - ✅ Model for AMZN trained and saved successfully
2025-09-22 22:32:06,513 - __main__ - INFO - ✅ Successfully trained model for AMZN
2025-09-22 22:32:06,513 - __main__ - INFO - 📊 [5/40] Training model for TSLA
2025-09-22 22:32:06,513 - __main__ - INFO - 🧠 Training ML model for TSLA
2025-09-22 22:32:06,513 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for TSLA
2025-09-22 22:32:06,695 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for TSLA
2025-09-22 22:32:06,696 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for TSLA with 115 rows
2025-09-22 22:32:06,696 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:32:06,696 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting _calculate_technical_indicators with data shape: (115, 5)
2025-09-22 22:32:06,696 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:32:06,728 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features...
2025-09-22 22:32:06,732 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Advanced features calculated: ['atr_14', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'momentum_decay_10', 'momentum_decay_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20']
2025-09-22 22:32:06,732 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: atr_14
2025-09-22 22:32:06,732 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: bollinger_bandwidth_20
2025-09-22 22:32:06,732 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: volatility_ratio_5_20
2025-09-22 22:32:06,732 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_10
2025-09-22 22:32:06,732 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_20
2025-09-22 22:32:06,732 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_5_20
2025-09-22 22:32:06,732 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_10_20
2025-09-22 22:32:06,732 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added 7 advanced features total
2025-09-22 22:32:06,732 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (115, 80)
2025-09-22 22:32:06,733 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:32:06,733 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:32:06,734 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 88 columns
2025-09-22 22:32:06,734 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:32:06,734 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:32:24,208 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for TSLA with:
2025-09-22 22:32:24,208 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': 'sqrt', 'min_samples_leaf': 1, 'min_samples_split': 2, 'n_estimators': 50}
2025-09-22 22:32:24,208 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.959
2025-09-22 22:32:24,208 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.769
2025-09-22 22:32:24,208 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.592
2025-09-22 22:32:24,208 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.769
2025-09-22 22:32:24,208 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.669
2025-09-22 22:32:24,215 - __main__ - INFO - ✅ Model for TSLA trained and saved successfully
2025-09-22 22:32:24,215 - __main__ - INFO - ✅ Successfully trained model for TSLA
2025-09-22 22:32:24,215 - __main__ - INFO - 📊 [6/40] Training model for NVDA
2025-09-22 22:32:24,215 - __main__ - INFO - 🧠 Training ML model for NVDA
2025-09-22 22:32:24,215 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for NVDA
2025-09-22 22:32:24,390 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for NVDA
2025-09-22 22:32:24,390 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for NVDA with 115 rows
2025-09-22 22:32:24,390 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:32:24,390 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting _calculate_technical_indicators with data shape: (115, 5)
2025-09-22 22:32:24,390 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:32:24,420 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features...
2025-09-22 22:32:24,424 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Advanced features calculated: ['atr_14', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'momentum_decay_10', 'momentum_decay_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20']
2025-09-22 22:32:24,424 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: atr_14
2025-09-22 22:32:24,424 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: bollinger_bandwidth_20
2025-09-22 22:32:24,424 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: volatility_ratio_5_20
2025-09-22 22:32:24,424 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_10
2025-09-22 22:32:24,424 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_20
2025-09-22 22:32:24,425 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_5_20
2025-09-22 22:32:24,425 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_10_20
2025-09-22 22:32:24,425 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added 7 advanced features total
2025-09-22 22:32:24,425 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (115, 80)
2025-09-22 22:32:24,425 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:32:24,425 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:32:24,426 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 88 columns
2025-09-22 22:32:24,426 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:32:24,426 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:32:42,748 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for NVDA with:
2025-09-22 22:32:42,749 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': 'balanced', 'max_depth': 10, 'max_features': 'sqrt', 'min_samples_leaf': 1, 'min_samples_split': 10, 'n_estimators': 200}
2025-09-22 22:32:42,749 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.935
2025-09-22 22:32:42,749 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.846
2025-09-22 22:32:42,749 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.716
2025-09-22 22:32:42,749 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.846
2025-09-22 22:32:42,749 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.776
2025-09-22 22:32:42,768 - __main__ - INFO - ✅ Model for NVDA trained and saved successfully
2025-09-22 22:32:42,768 - __main__ - INFO - ✅ Successfully trained model for NVDA
2025-09-22 22:32:42,768 - __main__ - INFO - 📊 [7/40] Training model for META
2025-09-22 22:32:42,768 - __main__ - INFO - 🧠 Training ML model for META
2025-09-22 22:32:42,769 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for META
2025-09-22 22:32:42,989 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for META
2025-09-22 22:32:42,989 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for META with 115 rows
2025-09-22 22:32:42,989 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:32:42,989 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting _calculate_technical_indicators with data shape: (115, 5)
2025-09-22 22:32:42,989 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:32:43,019 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features...
2025-09-22 22:32:43,023 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Advanced features calculated: ['atr_14', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'momentum_decay_10', 'momentum_decay_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20']
2025-09-22 22:32:43,023 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: atr_14
2025-09-22 22:32:43,023 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: bollinger_bandwidth_20
2025-09-22 22:32:43,023 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: volatility_ratio_5_20
2025-09-22 22:32:43,023 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_10
2025-09-22 22:32:43,023 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_20
2025-09-22 22:32:43,024 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_5_20
2025-09-22 22:32:43,024 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_10_20
2025-09-22 22:32:43,024 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added 7 advanced features total
2025-09-22 22:32:43,024 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (115, 80)
2025-09-22 22:32:43,024 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:32:43,024 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:32:43,025 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 88 columns
2025-09-22 22:32:43,025 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:32:43,025 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:33:00,514 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for META with:
2025-09-22 22:33:00,515 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': 'sqrt', 'min_samples_leaf': 1, 'min_samples_split': 2, 'n_estimators': 50}
2025-09-22 22:33:00,515 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.959
2025-09-22 22:33:00,515 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 1.000
2025-09-22 22:33:00,515 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 1.000
2025-09-22 22:33:00,515 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 1.000
2025-09-22 22:33:00,515 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 1.000
2025-09-22 22:33:00,521 - __main__ - INFO - ✅ Model for META trained and saved successfully
2025-09-22 22:33:00,521 - __main__ - INFO - ✅ Successfully trained model for META
2025-09-22 22:33:00,521 - __main__ - INFO - 📊 [8/40] Training model for NFLX
2025-09-22 22:33:00,522 - __main__ - INFO - 🧠 Training ML model for NFLX
2025-09-22 22:33:00,522 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for NFLX
2025-09-22 22:33:00,693 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for NFLX
2025-09-22 22:33:00,693 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for NFLX with 115 rows
2025-09-22 22:33:00,693 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:33:00,693 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting _calculate_technical_indicators with data shape: (115, 5)
2025-09-22 22:33:00,693 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:33:00,724 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features...
2025-09-22 22:33:00,728 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Advanced features calculated: ['atr_14', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'momentum_decay_10', 'momentum_decay_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20']
2025-09-22 22:33:00,728 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: atr_14
2025-09-22 22:33:00,728 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: bollinger_bandwidth_20
2025-09-22 22:33:00,729 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: volatility_ratio_5_20
2025-09-22 22:33:00,729 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_10
2025-09-22 22:33:00,729 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_20
2025-09-22 22:33:00,729 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_5_20
2025-09-22 22:33:00,729 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_10_20
2025-09-22 22:33:00,729 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added 7 advanced features total
2025-09-22 22:33:00,729 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (115, 80)
2025-09-22 22:33:00,729 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:33:00,729 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:33:00,731 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 88 columns
2025-09-22 22:33:00,731 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:33:00,731 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:33:18,344 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for NFLX with:
2025-09-22 22:33:18,345 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': 'sqrt', 'min_samples_leaf': 1, 'min_samples_split': 2, 'n_estimators': 50}
2025-09-22 22:33:18,345 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 1.000
2025-09-22 22:33:18,345 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.846
2025-09-22 22:33:18,345 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.716
2025-09-22 22:33:18,345 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.846
2025-09-22 22:33:18,345 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.776
2025-09-22 22:33:18,351 - __main__ - INFO - ✅ Model for NFLX trained and saved successfully
2025-09-22 22:33:18,351 - __main__ - INFO - ✅ Successfully trained model for NFLX
2025-09-22 22:33:18,351 - __main__ - INFO - 📊 [9/40] Training model for AMD
2025-09-22 22:33:18,351 - __main__ - INFO - 🧠 Training ML model for AMD
2025-09-22 22:33:18,351 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for AMD
2025-09-22 22:33:18,508 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for AMD
2025-09-22 22:33:18,508 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for AMD with 115 rows
2025-09-22 22:33:18,508 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:33:18,508 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting _calculate_technical_indicators with data shape: (115, 5)
2025-09-22 22:33:18,508 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:33:18,539 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features...
2025-09-22 22:33:18,543 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Advanced features calculated: ['atr_14', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'momentum_decay_10', 'momentum_decay_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20']
2025-09-22 22:33:18,543 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: atr_14
2025-09-22 22:33:18,543 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: bollinger_bandwidth_20
2025-09-22 22:33:18,543 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: volatility_ratio_5_20
2025-09-22 22:33:18,543 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_10
2025-09-22 22:33:18,544 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_20
2025-09-22 22:33:18,544 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_5_20
2025-09-22 22:33:18,544 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_10_20
2025-09-22 22:33:18,544 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added 7 advanced features total
2025-09-22 22:33:18,544 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (115, 80)
2025-09-22 22:33:18,544 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:33:18,544 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:33:18,545 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 88 columns
2025-09-22 22:33:18,546 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:33:18,546 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:33:36,592 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for AMD with:
2025-09-22 22:33:36,592 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': None, 'min_samples_leaf': 1, 'min_samples_split': 5, 'n_estimators': 50}
2025-09-22 22:33:36,592 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.873
2025-09-22 22:33:36,592 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.923
2025-09-22 22:33:36,592 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 1.000
2025-09-22 22:33:36,592 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.923
2025-09-22 22:33:36,592 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.960
2025-09-22 22:33:36,599 - __main__ - INFO - ✅ Model for AMD trained and saved successfully
2025-09-22 22:33:36,599 - __main__ - INFO - ✅ Successfully trained model for AMD
2025-09-22 22:33:36,599 - __main__ - INFO - 📊 [10/40] Training model for CRM
2025-09-22 22:33:36,599 - __main__ - INFO - 🧠 Training ML model for CRM
2025-09-22 22:33:36,599 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for CRM
2025-09-22 22:33:36,770 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for CRM
2025-09-22 22:33:36,771 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for CRM with 115 rows
2025-09-22 22:33:36,771 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:33:36,771 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting _calculate_technical_indicators with data shape: (115, 5)
2025-09-22 22:33:36,771 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:33:36,806 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features...
2025-09-22 22:33:36,810 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Advanced features calculated: ['atr_14', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'momentum_decay_10', 'momentum_decay_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20']
2025-09-22 22:33:36,811 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: atr_14
2025-09-22 22:33:36,811 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: bollinger_bandwidth_20
2025-09-22 22:33:36,811 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: volatility_ratio_5_20
2025-09-22 22:33:36,811 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_10
2025-09-22 22:33:36,811 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_20
2025-09-22 22:33:36,812 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_5_20
2025-09-22 22:33:36,812 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_10_20
2025-09-22 22:33:36,812 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added 7 advanced features total
2025-09-22 22:33:36,812 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (115, 80)
2025-09-22 22:33:36,812 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:33:36,812 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:33:36,813 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 88 columns
2025-09-22 22:33:36,813 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:33:36,813 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:33:55,533 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for CRM with:
2025-09-22 22:33:55,534 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': 'sqrt', 'min_samples_leaf': 1, 'min_samples_split': 2, 'n_estimators': 50}
2025-09-22 22:33:55,534 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.959
2025-09-22 22:33:55,534 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 1.000
2025-09-22 22:33:55,534 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 1.000
2025-09-22 22:33:55,534 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 1.000
2025-09-22 22:33:55,534 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 1.000
2025-09-22 22:33:55,540 - __main__ - INFO - ✅ Model for CRM trained and saved successfully
2025-09-22 22:33:55,540 - __main__ - INFO - ✅ Successfully trained model for CRM
2025-09-22 22:33:55,541 - __main__ - INFO - 📊 [11/40] Training model for ORCL
2025-09-22 22:33:55,541 - __main__ - INFO - 🧠 Training ML model for ORCL
2025-09-22 22:33:55,541 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for ORCL
2025-09-22 22:33:55,754 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for ORCL
2025-09-22 22:33:55,754 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for ORCL with 115 rows
2025-09-22 22:33:55,754 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:33:55,754 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting _calculate_technical_indicators with data shape: (115, 5)
2025-09-22 22:33:55,755 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:33:55,787 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features...
2025-09-22 22:33:55,790 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Advanced features calculated: ['atr_14', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'momentum_decay_10', 'momentum_decay_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20']
2025-09-22 22:33:55,791 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: atr_14
2025-09-22 22:33:55,791 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: bollinger_bandwidth_20
2025-09-22 22:33:55,791 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: volatility_ratio_5_20
2025-09-22 22:33:55,791 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_10
2025-09-22 22:33:55,791 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_20
2025-09-22 22:33:55,791 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_5_20
2025-09-22 22:33:55,791 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_10_20
2025-09-22 22:33:55,791 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added 7 advanced features total
2025-09-22 22:33:55,791 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (115, 80)
2025-09-22 22:33:55,792 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:33:55,792 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:33:55,793 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 88 columns
2025-09-22 22:33:55,793 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:33:55,793 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:34:12,761 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for ORCL with:
2025-09-22 22:34:12,762 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': 'sqrt', 'min_samples_leaf': 1, 'min_samples_split': 2, 'n_estimators': 50}
2025-09-22 22:34:12,762 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.959
2025-09-22 22:34:12,762 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.846
2025-09-22 22:34:12,762 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.716
2025-09-22 22:34:12,762 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.846
2025-09-22 22:34:12,762 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.776
2025-09-22 22:34:12,768 - __main__ - INFO - ✅ Model for ORCL trained and saved successfully
2025-09-22 22:34:12,768 - __main__ - INFO - ✅ Successfully trained model for ORCL
2025-09-22 22:34:12,768 - __main__ - INFO - 📊 [12/40] Training model for INTC
2025-09-22 22:34:12,768 - __main__ - INFO - 🧠 Training ML model for INTC
2025-09-22 22:34:12,768 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for INTC
2025-09-22 22:34:12,996 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for INTC
2025-09-22 22:34:12,996 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for INTC with 115 rows
2025-09-22 22:34:12,996 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:34:12,996 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting _calculate_technical_indicators with data shape: (115, 5)
2025-09-22 22:34:12,996 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:34:13,031 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features...
2025-09-22 22:34:13,035 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Advanced features calculated: ['atr_14', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'momentum_decay_10', 'momentum_decay_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20']
2025-09-22 22:34:13,036 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: atr_14
2025-09-22 22:34:13,036 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: bollinger_bandwidth_20
2025-09-22 22:34:13,036 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: volatility_ratio_5_20
2025-09-22 22:34:13,036 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_10
2025-09-22 22:34:13,036 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_20
2025-09-22 22:34:13,036 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_5_20
2025-09-22 22:34:13,036 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_10_20
2025-09-22 22:34:13,036 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added 7 advanced features total
2025-09-22 22:34:13,036 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (115, 80)
2025-09-22 22:34:13,036 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:34:13,037 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:34:13,038 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 88 columns
2025-09-22 22:34:13,038 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:34:13,038 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:34:30,827 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for INTC with:
2025-09-22 22:34:30,828 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': 'balanced', 'max_depth': 10, 'max_features': 'sqrt', 'min_samples_leaf': 4, 'min_samples_split': 10, 'n_estimators': 100}
2025-09-22 22:34:30,828 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.880
2025-09-22 22:34:30,828 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.923
2025-09-22 22:34:30,828 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.852
2025-09-22 22:34:30,828 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.923
2025-09-22 22:34:30,828 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.886
2025-09-22 22:34:30,838 - __main__ - INFO - ✅ Model for INTC trained and saved successfully
2025-09-22 22:34:30,838 - __main__ - INFO - ✅ Successfully trained model for INTC
2025-09-22 22:34:30,838 - __main__ - INFO - 📊 [13/40] Training model for CSCO
2025-09-22 22:34:30,839 - __main__ - INFO - 🧠 Training ML model for CSCO
2025-09-22 22:34:30,839 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for CSCO
2025-09-22 22:34:31,021 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for CSCO
2025-09-22 22:34:31,021 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for CSCO with 115 rows
2025-09-22 22:34:31,021 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:34:31,021 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting _calculate_technical_indicators with data shape: (115, 5)
2025-09-22 22:34:31,021 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:34:31,050 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features...
2025-09-22 22:34:31,054 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Advanced features calculated: ['atr_14', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'momentum_decay_10', 'momentum_decay_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20']
2025-09-22 22:34:31,054 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: atr_14
2025-09-22 22:34:31,054 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: bollinger_bandwidth_20
2025-09-22 22:34:31,054 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: volatility_ratio_5_20
2025-09-22 22:34:31,054 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_10
2025-09-22 22:34:31,054 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_20
2025-09-22 22:34:31,054 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_5_20
2025-09-22 22:34:31,055 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_10_20
2025-09-22 22:34:31,055 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added 7 advanced features total
2025-09-22 22:34:31,055 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (115, 80)
2025-09-22 22:34:31,055 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:34:31,055 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:34:31,056 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 88 columns
2025-09-22 22:34:31,056 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:34:31,056 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:34:48,711 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for CSCO with:
2025-09-22 22:34:48,712 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': 'sqrt', 'min_samples_leaf': 2, 'min_samples_split': 2, 'n_estimators': 50}
2025-09-22 22:34:48,712 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.881
2025-09-22 22:34:48,712 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 1.000
2025-09-22 22:34:48,712 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 1.000
2025-09-22 22:34:48,712 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 1.000
2025-09-22 22:34:48,712 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 1.000
2025-09-22 22:34:48,719 - __main__ - INFO - ✅ Model for CSCO trained and saved successfully
2025-09-22 22:34:48,719 - __main__ - INFO - ✅ Successfully trained model for CSCO
2025-09-22 22:34:48,719 - __main__ - INFO - 📊 [14/40] Training model for IBM
2025-09-22 22:34:48,719 - __main__ - INFO - 🧠 Training ML model for IBM
2025-09-22 22:34:48,719 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for IBM
2025-09-22 22:34:48,947 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for IBM
2025-09-22 22:34:48,948 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for IBM with 115 rows
2025-09-22 22:34:48,948 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:34:48,948 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting _calculate_technical_indicators with data shape: (115, 5)
2025-09-22 22:34:48,948 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:34:48,983 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features...
2025-09-22 22:34:48,987 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Advanced features calculated: ['atr_14', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'momentum_decay_10', 'momentum_decay_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20']
2025-09-22 22:34:48,987 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: atr_14
2025-09-22 22:34:48,987 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: bollinger_bandwidth_20
2025-09-22 22:34:48,987 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: volatility_ratio_5_20
2025-09-22 22:34:48,987 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_10
2025-09-22 22:34:48,987 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_20
2025-09-22 22:34:48,988 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_5_20
2025-09-22 22:34:48,988 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_10_20
2025-09-22 22:34:48,988 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added 7 advanced features total
2025-09-22 22:34:48,988 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (115, 80)
2025-09-22 22:34:48,988 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:34:48,988 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:34:48,989 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 88 columns
2025-09-22 22:34:48,989 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:34:48,989 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:35:06,854 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for IBM with:
2025-09-22 22:35:06,854 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': 'sqrt', 'min_samples_leaf': 1, 'min_samples_split': 2, 'n_estimators': 50}
2025-09-22 22:35:06,854 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 1.000
2025-09-22 22:35:06,854 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.846
2025-09-22 22:35:06,854 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.716
2025-09-22 22:35:06,854 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.846
2025-09-22 22:35:06,854 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.776
2025-09-22 22:35:06,862 - __main__ - INFO - ✅ Model for IBM trained and saved successfully
2025-09-22 22:35:06,862 - __main__ - INFO - ✅ Successfully trained model for IBM
2025-09-22 22:35:06,862 - __main__ - INFO - 📊 [15/40] Training model for PYPL
2025-09-22 22:35:06,862 - __main__ - INFO - 🧠 Training ML model for PYPL
2025-09-22 22:35:06,862 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for PYPL
2025-09-22 22:35:07,039 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for PYPL
2025-09-22 22:35:07,039 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for PYPL with 115 rows
2025-09-22 22:35:07,039 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:35:07,039 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting _calculate_technical_indicators with data shape: (115, 5)
2025-09-22 22:35:07,039 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:35:07,069 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features...
2025-09-22 22:35:07,073 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Advanced features calculated: ['atr_14', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'momentum_decay_10', 'momentum_decay_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20']
2025-09-22 22:35:07,073 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: atr_14
2025-09-22 22:35:07,073 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: bollinger_bandwidth_20
2025-09-22 22:35:07,073 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: volatility_ratio_5_20
2025-09-22 22:35:07,073 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_10
2025-09-22 22:35:07,074 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_20
2025-09-22 22:35:07,074 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_5_20
2025-09-22 22:35:07,074 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_10_20
2025-09-22 22:35:07,074 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added 7 advanced features total
2025-09-22 22:35:07,074 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (115, 80)
2025-09-22 22:35:07,074 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:35:07,074 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:35:07,075 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 88 columns
2025-09-22 22:35:07,075 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:35:07,075 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:35:25,409 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for PYPL with:
2025-09-22 22:35:25,410 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': 'sqrt', 'min_samples_leaf': 1, 'min_samples_split': 2, 'n_estimators': 50}
2025-09-22 22:35:25,410 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.918
2025-09-22 22:35:25,410 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.846
2025-09-22 22:35:25,410 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.716
2025-09-22 22:35:25,410 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.846
2025-09-22 22:35:25,410 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.776
2025-09-22 22:35:25,416 - __main__ - INFO - ✅ Model for PYPL trained and saved successfully
2025-09-22 22:35:25,416 - __main__ - INFO - ✅ Successfully trained model for PYPL
2025-09-22 22:35:25,416 - __main__ - INFO - 📊 [16/40] Training model for SQ
2025-09-22 22:35:25,416 - __main__ - INFO - 🧠 Training ML model for SQ
2025-09-22 22:35:25,416 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for SQ
2025-09-22 22:35:28,447 - yfinance - ERROR - $SQ: possibly delisted; no timezone found
2025-09-22 22:35:28,447 - core.error_handler - WARNING - [DATA] No data found for SQ (Context: ticker=SQ, start_date=2025-04-05) | Exception: ValueError
2025-09-22 22:35:28,448 - strategy_layer.strategy_base.MLRandomForest - WARNING - Insufficient data for SQ
2025-09-22 22:35:28,448 - __main__ - ERROR - ❌ Model training failed for SQ
2025-09-22 22:35:28,448 - __main__ - ERROR - ❌ Failed to train model for SQ
2025-09-22 22:35:28,448 - __main__ - INFO - 📊 [17/40] Training model for SHOP
2025-09-22 22:35:28,449 - __main__ - INFO - 🧠 Training ML model for SHOP
2025-09-22 22:35:28,449 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for SHOP
2025-09-22 22:35:28,530 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for SHOP
2025-09-22 22:35:28,531 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for SHOP with 115 rows
2025-09-22 22:35:28,531 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:35:28,531 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting _calculate_technical_indicators with data shape: (115, 5)
2025-09-22 22:35:28,531 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:35:28,574 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features...
2025-09-22 22:35:28,579 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Advanced features calculated: ['atr_14', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'momentum_decay_10', 'momentum_decay_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20']
2025-09-22 22:35:28,579 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: atr_14
2025-09-22 22:35:28,579 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: bollinger_bandwidth_20
2025-09-22 22:35:28,580 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: volatility_ratio_5_20
2025-09-22 22:35:28,580 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_10
2025-09-22 22:35:28,580 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_20
2025-09-22 22:35:28,580 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_5_20
2025-09-22 22:35:28,580 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_10_20
2025-09-22 22:35:28,580 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added 7 advanced features total
2025-09-22 22:35:28,580 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (115, 80)
2025-09-22 22:35:28,580 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:35:28,580 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:35:28,582 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 88 columns
2025-09-22 22:35:28,582 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:35:28,582 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:35:49,252 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for SHOP with:
2025-09-22 22:35:49,252 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': 'sqrt', 'min_samples_leaf': 1, 'min_samples_split': 2, 'n_estimators': 50}
2025-09-22 22:35:49,252 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.800
2025-09-22 22:35:49,252 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.923
2025-09-22 22:35:49,253 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.852
2025-09-22 22:35:49,253 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.923
2025-09-22 22:35:49,253 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.886
2025-09-22 22:35:49,260 - __main__ - INFO - ✅ Model for SHOP trained and saved successfully
2025-09-22 22:35:49,260 - __main__ - INFO - ✅ Successfully trained model for SHOP
2025-09-22 22:35:49,260 - __main__ - INFO - 📊 [18/40] Training model for UBER
2025-09-22 22:35:49,261 - __main__ - INFO - 🧠 Training ML model for UBER
2025-09-22 22:35:49,261 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for UBER
2025-09-22 22:35:49,411 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for UBER
2025-09-22 22:35:49,412 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for UBER with 115 rows
2025-09-22 22:35:49,412 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:35:49,412 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting _calculate_technical_indicators with data shape: (115, 5)
2025-09-22 22:35:49,412 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:35:49,445 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features...
2025-09-22 22:35:49,449 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Advanced features calculated: ['atr_14', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'momentum_decay_10', 'momentum_decay_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20']
2025-09-22 22:35:49,449 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: atr_14
2025-09-22 22:35:49,450 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: bollinger_bandwidth_20
2025-09-22 22:35:49,450 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: volatility_ratio_5_20
2025-09-22 22:35:49,450 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_10
2025-09-22 22:35:49,450 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_20
2025-09-22 22:35:49,450 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_5_20
2025-09-22 22:35:49,450 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_10_20
2025-09-22 22:35:49,450 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added 7 advanced features total
2025-09-22 22:35:49,450 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (115, 80)
2025-09-22 22:35:49,450 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:35:49,450 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:35:49,451 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 88 columns
2025-09-22 22:35:49,452 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:35:49,452 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:36:10,987 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for UBER with:
2025-09-22 22:36:10,988 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': 'sqrt', 'min_samples_leaf': 1, 'min_samples_split': 2, 'n_estimators': 50}
2025-09-22 22:36:10,988 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.959
2025-09-22 22:36:10,988 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.769
2025-09-22 22:36:10,988 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.592
2025-09-22 22:36:10,988 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.769
2025-09-22 22:36:10,988 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.669
2025-09-22 22:36:10,995 - __main__ - INFO - ✅ Model for UBER trained and saved successfully
2025-09-22 22:36:10,995 - __main__ - INFO - ✅ Successfully trained model for UBER
2025-09-22 22:36:10,995 - __main__ - INFO - 📊 [19/40] Training model for SPOT
2025-09-22 22:36:10,995 - __main__ - INFO - 🧠 Training ML model for SPOT
2025-09-22 22:36:10,995 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for SPOT
2025-09-22 22:36:11,117 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for SPOT
2025-09-22 22:36:11,117 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for SPOT with 115 rows
2025-09-22 22:36:11,117 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:36:11,117 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting _calculate_technical_indicators with data shape: (115, 5)
2025-09-22 22:36:11,117 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:36:11,144 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features...
2025-09-22 22:36:11,147 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Advanced features calculated: ['atr_14', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'momentum_decay_10', 'momentum_decay_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20']
2025-09-22 22:36:11,148 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: atr_14
2025-09-22 22:36:11,148 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: bollinger_bandwidth_20
2025-09-22 22:36:11,148 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: volatility_ratio_5_20
2025-09-22 22:36:11,148 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_10
2025-09-22 22:36:11,149 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_20
2025-09-22 22:36:11,149 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_5_20
2025-09-22 22:36:11,149 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_10_20
2025-09-22 22:36:11,149 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added 7 advanced features total
2025-09-22 22:36:11,149 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (115, 80)
2025-09-22 22:36:11,149 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:36:11,149 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:36:11,151 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 88 columns
2025-09-22 22:36:11,151 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:36:11,151 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:36:31,857 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for SPOT with:
2025-09-22 22:36:31,858 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': 'sqrt', 'min_samples_leaf': 1, 'min_samples_split': 2, 'n_estimators': 50}
2025-09-22 22:36:31,858 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.959
2025-09-22 22:36:31,858 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.923
2025-09-22 22:36:31,858 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.852
2025-09-22 22:36:31,858 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.923
2025-09-22 22:36:31,858 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.886
2025-09-22 22:36:31,864 - __main__ - INFO - ✅ Model for SPOT trained and saved successfully
2025-09-22 22:36:31,864 - __main__ - INFO - ✅ Successfully trained model for SPOT
2025-09-22 22:36:31,864 - __main__ - INFO - 📊 [20/40] Training model for JPM
2025-09-22 22:36:31,864 - __main__ - INFO - 🧠 Training ML model for JPM
2025-09-22 22:36:31,864 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for JPM
2025-09-22 22:36:32,038 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for JPM
2025-09-22 22:36:32,038 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for JPM with 115 rows
2025-09-22 22:36:32,038 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:36:32,038 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting _calculate_technical_indicators with data shape: (115, 5)
2025-09-22 22:36:32,038 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:36:32,069 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features...
2025-09-22 22:36:32,073 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Advanced features calculated: ['atr_14', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'momentum_decay_10', 'momentum_decay_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20']
2025-09-22 22:36:32,073 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: atr_14
2025-09-22 22:36:32,073 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: bollinger_bandwidth_20
2025-09-22 22:36:32,073 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: volatility_ratio_5_20
2025-09-22 22:36:32,073 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_10
2025-09-22 22:36:32,074 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_20
2025-09-22 22:36:32,074 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_5_20
2025-09-22 22:36:32,074 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_10_20
2025-09-22 22:36:32,074 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added 7 advanced features total
2025-09-22 22:36:32,074 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (115, 80)
2025-09-22 22:36:32,074 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:36:32,074 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:36:32,075 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 88 columns
2025-09-22 22:36:32,075 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:36:32,076 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:36:51,173 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for JPM with:
2025-09-22 22:36:51,174 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': 'sqrt', 'min_samples_leaf': 1, 'min_samples_split': 2, 'n_estimators': 50}
2025-09-22 22:36:51,174 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.959
2025-09-22 22:36:51,174 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.923
2025-09-22 22:36:51,174 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.852
2025-09-22 22:36:51,174 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.923
2025-09-22 22:36:51,174 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.886
2025-09-22 22:36:51,180 - __main__ - INFO - ✅ Model for JPM trained and saved successfully
2025-09-22 22:36:51,180 - __main__ - INFO - ✅ Successfully trained model for JPM
2025-09-22 22:36:51,180 - __main__ - INFO - 📊 [21/40] Training model for V
2025-09-22 22:36:51,181 - __main__ - INFO - 🧠 Training ML model for V
2025-09-22 22:36:51,181 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for V
2025-09-22 22:36:51,332 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 115 days of data for V
2025-09-22 22:36:51,332 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for V with 115 rows
2025-09-22 22:36:51,332 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:36:51,332 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting _calculate_technical_indicators with data shape: (115, 5)
2025-09-22 22:36:51,332 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:36:51,361 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features...
2025-09-22 22:36:51,364 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Advanced features calculated: ['atr_14', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'momentum_decay_10', 'momentum_decay_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20']
2025-09-22 22:36:51,364 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: atr_14
2025-09-22 22:36:51,364 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: bollinger_bandwidth_20
2025-09-22 22:36:51,365 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: volatility_ratio_5_20
2025-09-22 22:36:51,365 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_10
2025-09-22 22:36:51,365 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_20
2025-09-22 22:36:51,365 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_5_20
2025-09-22 22:36:51,365 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_10_20
2025-09-22 22:36:51,365 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added 7 advanced features total
2025-09-22 22:36:51,365 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (115, 80)
2025-09-22 22:36:51,365 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:36:51,365 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:36:51,366 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 88 columns
2025-09-22 22:36:51,367 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:36:51,367 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:38:43,333 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 22:38:43,333 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 22:38:43,333 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 22:38:43,333 - __main__ - INFO - 🚀 Starting model training for 1 tickers: META
2025-09-22 22:38:43,333 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 22:38:43,333 - __main__ - INFO - 📊 [1/1] Training model for META
2025-09-22 22:38:43,333 - __main__ - INFO - 🧠 Training ML model for META
2025-09-22 22:38:43,334 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for META
2025-09-22 22:38:44,108 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for META
2025-09-22 22:38:44,109 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for META with 1255 rows
2025-09-22 22:38:44,109 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:38:44,109 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting _calculate_technical_indicators with data shape: (1255, 5)
2025-09-22 22:38:44,109 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:38:44,413 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features...
2025-09-22 22:38:44,438 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Advanced features calculated: ['atr_14', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'momentum_decay_10', 'momentum_decay_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20']
2025-09-22 22:38:44,439 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: atr_14
2025-09-22 22:38:44,439 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: bollinger_bandwidth_20
2025-09-22 22:38:44,439 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: volatility_ratio_5_20
2025-09-22 22:38:44,439 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_10
2025-09-22 22:38:44,439 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: momentum_decay_20
2025-09-22 22:38:44,439 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_5_20
2025-09-22 22:38:44,439 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added feature: roc_acceleration_10_20
2025-09-22 22:38:44,439 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Added 7 advanced features total
2025-09-22 22:38:44,439 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (1255, 80)
2025-09-22 22:38:44,439 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:38:44,439 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:38:44,440 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 88 columns
2025-09-22 22:38:44,441 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:38:44,441 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:38:44,442 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Train/Test Split for META:
2025-09-22 22:38:44,442 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Training samples: 963 (2020-12-03 00:00:00-05:00 to 2024-10-02 00:00:00-04:00)
2025-09-22 22:38:44,442 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test samples: 241 (2024-10-03 00:00:00-04:00 to 2025-09-19 00:00:00-04:00)
2025-09-22 22:38:44,442 - strategy_layer.strategy_base.MLRandomForest - INFO -   - No overlap: Training ends 2024-10-02 00:00:00-04:00, Test starts 2024-10-03 00:00:00-04:00
2025-09-22 22:40:20,563 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for META with:
2025-09-22 22:40:20,563 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': 'sqrt', 'min_samples_leaf': 4, 'min_samples_split': 2, 'n_estimators': 100}
2025-09-22 22:40:20,563 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.913
2025-09-22 22:40:20,563 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.946
2025-09-22 22:40:20,563 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.895
2025-09-22 22:40:20,563 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.946
2025-09-22 22:40:20,563 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.920
2025-09-22 22:40:20,591 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Top 10 Feature Importances for META:
2025-09-22 22:40:20,591 - strategy_layer.strategy_base.MLRandomForest - INFO -    1. volume_ratio              0.0416
2025-09-22 22:40:20,591 - strategy_layer.strategy_base.MLRandomForest - INFO -    2. market_volatility_ratio   0.0394
2025-09-22 22:40:20,591 - strategy_layer.strategy_base.MLRandomForest - INFO -    3. bollinger_bandwidth_20    0.0359
2025-09-22 22:40:20,591 - strategy_layer.strategy_base.MLRandomForest - INFO -    4. volatility_20             0.0347
2025-09-22 22:40:20,591 - strategy_layer.strategy_base.MLRandomForest - INFO -    5. bb_width                  0.0344
2025-09-22 22:40:20,591 - strategy_layer.strategy_base.MLRandomForest - INFO -    6. upper_shadow              0.0289
2025-09-22 22:40:20,591 - strategy_layer.strategy_base.MLRandomForest - INFO -    7. cmf                       0.0236
2025-09-22 22:40:20,591 - strategy_layer.strategy_base.MLRandomForest - INFO -    8. volume_sma_20             0.0210
2025-09-22 22:40:20,591 - strategy_layer.strategy_base.MLRandomForest - INFO -    9. atr_14                    0.0204
2025-09-22 22:40:20,591 - strategy_layer.strategy_base.MLRandomForest - INFO -   10. volatility_50             0.0201
2025-09-22 22:40:20,619 - __main__ - INFO - ✅ Model for META trained and saved successfully
2025-09-22 22:40:20,619 - __main__ - INFO - ✅ Successfully trained model for META
2025-09-22 22:40:20,620 - __main__ - INFO - 🎯 Training completed: 1/1 models trained successfully
2025-09-22 22:40:20,620 - __main__ - INFO - 🎉 All models trained successfully!
2025-09-22 22:44:49,565 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 22:44:49,565 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 22:44:49,565 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 22:44:49,565 - __main__ - INFO - 🚀 Starting model training for 1 tickers: META
2025-09-22 22:44:49,565 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 22:44:49,565 - __main__ - INFO - 📊 [1/1] Training model for META
2025-09-22 22:44:49,565 - __main__ - INFO - 🧠 Training ML model for META
2025-09-22 22:44:49,565 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for META
2025-09-22 22:44:50,192 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for META
2025-09-22 22:44:50,193 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for META with 1255 rows
2025-09-22 22:44:50,193 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:44:50,193 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (1255, 5)
2025-09-22 22:44:50,193 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:44:50,193 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 22:44:50,194 - strategy_layer.strategy_base.MLRandomForest - ERROR - Failed to train model for META: 'obv'
2025-09-22 22:44:50,194 - __main__ - ERROR - ❌ Model training failed for META
2025-09-22 22:44:50,194 - __main__ - ERROR - ❌ Failed to train model for META
2025-09-22 22:44:50,194 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 22:44:50,194 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 22:45:00,200 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 22:45:00,200 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 22:45:00,200 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 22:45:00,200 - __main__ - INFO - 🚀 Starting model training for 1 tickers: META
2025-09-22 22:45:00,201 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 22:45:00,201 - __main__ - INFO - 📊 [1/1] Training model for META
2025-09-22 22:45:00,201 - __main__ - INFO - 🧠 Training ML model for META
2025-09-22 22:45:00,201 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for META
2025-09-22 22:45:00,924 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for META
2025-09-22 22:45:00,925 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for META with 1255 rows
2025-09-22 22:45:00,925 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:45:00,925 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (1255, 5)
2025-09-22 22:45:00,925 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:45:00,932 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 22:45:00,937 - strategy_layer.strategy_base.MLRandomForest - ERROR - Failed to train model for META: single positional indexer is out-of-bounds
2025-09-22 22:45:00,938 - __main__ - ERROR - ❌ Model training failed for META
2025-09-22 22:45:00,938 - __main__ - ERROR - ❌ Failed to train model for META
2025-09-22 22:45:00,938 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 22:45:00,938 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 22:45:30,539 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 22:45:30,539 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 22:45:30,539 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 22:45:30,539 - __main__ - INFO - 🚀 Starting model training for 1 tickers: META
2025-09-22 22:45:30,539 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 22:45:30,539 - __main__ - INFO - 📊 [1/1] Training model for META
2025-09-22 22:45:30,539 - __main__ - INFO - 🧠 Training ML model for META
2025-09-22 22:45:30,539 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for META
2025-09-22 22:45:31,075 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for META
2025-09-22 22:45:31,076 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for META with 1255 rows
2025-09-22 22:45:31,076 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:45:31,076 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (1255, 5)
2025-09-22 22:45:31,076 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:45:31,081 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 22:45:31,107 - strategy_layer.strategy_base.MLRandomForest - ERROR - Failed to train model for META: 'numpy.float64' object has no attribute 'tail'
2025-09-22 22:45:31,107 - __main__ - ERROR - ❌ Model training failed for META
2025-09-22 22:45:31,107 - __main__ - ERROR - ❌ Failed to train model for META
2025-09-22 22:45:31,107 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 22:45:31,107 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 22:45:39,955 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 22:45:39,955 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 22:45:39,955 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 22:45:39,955 - __main__ - INFO - 🚀 Starting model training for 1 tickers: META
2025-09-22 22:45:39,955 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 22:45:39,956 - __main__ - INFO - 📊 [1/1] Training model for META
2025-09-22 22:45:39,956 - __main__ - INFO - 🧠 Training ML model for META
2025-09-22 22:45:39,956 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for META
2025-09-22 22:45:40,527 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for META
2025-09-22 22:45:40,527 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for META with 1255 rows
2025-09-22 22:45:40,527 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:45:40,527 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (1255, 5)
2025-09-22 22:45:40,527 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:45:40,534 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 22:45:48,174 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features with causality...
2025-09-22 22:45:59,830 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Advanced features calculated with strict causality
2025-09-22 22:45:59,830 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (1255, 79)
2025-09-22 22:45:59,830 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (1255, 79)
2025-09-22 22:45:59,830 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:45:59,830 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:45:59,831 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 87 columns
2025-09-22 22:45:59,831 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:45:59,831 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:45:59,833 - strategy_layer.strategy_base.MLRandomForest - WARNING - Insufficient total samples for META: 0
2025-09-22 22:45:59,833 - __main__ - ERROR - ❌ Model training failed for META
2025-09-22 22:45:59,833 - __main__ - ERROR - ❌ Failed to train model for META
2025-09-22 22:45:59,833 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 22:45:59,833 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 22:46:28,537 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 22:46:28,537 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 22:46:28,537 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 22:46:28,537 - __main__ - INFO - 🚀 Starting model training for 1 tickers: META
2025-09-22 22:46:28,537 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 22:46:28,537 - __main__ - INFO - 📊 [1/1] Training model for META
2025-09-22 22:46:28,538 - __main__ - INFO - 🧠 Training ML model for META
2025-09-22 22:46:28,538 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for META
2025-09-22 22:46:29,073 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for META
2025-09-22 22:46:29,073 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for META with 1255 rows
2025-09-22 22:46:29,073 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:46:29,073 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (1255, 5)
2025-09-22 22:46:29,073 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:46:29,076 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 22:46:37,544 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Calculating advanced features with causality...
2025-09-22 22:46:50,117 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Advanced features calculated with strict causality
2025-09-22 22:46:50,117 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (1255, 79)
2025-09-22 22:46:50,117 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (1255, 79)
2025-09-22 22:46:50,117 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:46:50,117 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:46:50,119 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 74 features from dataframe with 87 columns
2025-09-22 22:46:50,119 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Available columns: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'high', 'low', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'next_return', 'next_return_2d', 'next_return_5d', 'obv', 'open', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sharpe_1d', 'sharpe_5d', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'target', 'target_multiclass', 'target_risk_adjusted', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:46:50,119 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Requested features: ['acceleration', 'adx', 'atr', 'atr_14', 'atr_ratio', 'bb_lower', 'bb_middle', 'bb_position', 'bb_upper', 'bb_width', 'body_size', 'bollinger_bandwidth_20', 'cci', 'close_zscore_20', 'cmf', 'daily_range', 'ema_10', 'ema_20', 'ema_5', 'ema_50', 'gap_down', 'gap_up', 'lower_shadow', 'macd', 'macd_histogram', 'macd_signal', 'market_trend', 'market_volatility_ratio', 'momentum_10', 'momentum_20', 'momentum_decay_10', 'momentum_decay_20', 'obv', 'price_change_10d', 'price_change_1d', 'price_change_3d', 'price_change_5d', 'price_to_sma_20', 'price_to_sma_50', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'returns_kurtosis_20', 'returns_skew_20', 'roc_10', 'roc_20', 'roc_5', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi', 'rsi_overbought', 'rsi_oversold', 'sma_10', 'sma_20', 'sma_20_to_sma_50', 'sma_5', 'sma_50', 'spy_close', 'spy_returns', 'spy_volatility', 'stoch_d', 'stoch_k', 'trend_strength', 'trend_up', 'upper_shadow', 'volatility_10', 'volatility_20', 'volatility_50', 'volatility_ratio_5_20', 'volume_ratio', 'volume_sma_10', 'volume_sma_20', 'vpt', 'williams_r']
2025-09-22 22:46:50,120 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Train/Test Split for META:
2025-09-22 22:46:50,120 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Training samples: 1003 (2020-09-23 00:00:00-04:00 to 2024-09-18 00:00:00-04:00)
2025-09-22 22:46:50,120 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test samples: 251 (2024-09-19 00:00:00-04:00 to 2025-09-19 00:00:00-04:00)
2025-09-22 22:46:50,120 - strategy_layer.strategy_base.MLRandomForest - INFO -   - No overlap: Training ends 2024-09-18 00:00:00-04:00, Test starts 2024-09-19 00:00:00-04:00
2025-09-22 22:48:12,730 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for META with:
2025-09-22 22:48:12,731 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': 'sqrt', 'min_samples_leaf': 4, 'min_samples_split': 2, 'n_estimators': 200}
2025-09-22 22:48:12,731 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.913
2025-09-22 22:48:12,731 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.948
2025-09-22 22:48:12,731 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.899
2025-09-22 22:48:12,731 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.948
2025-09-22 22:48:12,731 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.923
2025-09-22 22:48:12,759 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Top 10 Feature Importances for META:
2025-09-22 22:48:12,759 - strategy_layer.strategy_base.MLRandomForest - INFO -    1. upper_shadow              0.0354
2025-09-22 22:48:12,759 - strategy_layer.strategy_base.MLRandomForest - INFO -    2. volume_ratio              0.0349
2025-09-22 22:48:12,759 - strategy_layer.strategy_base.MLRandomForest - INFO -    3. market_volatility_ratio   0.0337
2025-09-22 22:48:12,759 - strategy_layer.strategy_base.MLRandomForest - INFO -    4. bb_width                  0.0293
2025-09-22 22:48:12,759 - strategy_layer.strategy_base.MLRandomForest - INFO -    5. volatility_20             0.0284
2025-09-22 22:48:12,759 - strategy_layer.strategy_base.MLRandomForest - INFO -    6. cmf                       0.0278
2025-09-22 22:48:12,759 - strategy_layer.strategy_base.MLRandomForest - INFO -    7. lower_shadow              0.0248
2025-09-22 22:48:12,759 - strategy_layer.strategy_base.MLRandomForest - INFO -    8. bollinger_bandwidth_20    0.0246
2025-09-22 22:48:12,759 - strategy_layer.strategy_base.MLRandomForest - INFO -    9. returns_kurtosis_20       0.0237
2025-09-22 22:48:12,759 - strategy_layer.strategy_base.MLRandomForest - INFO -   10. atr_14                    0.0227
2025-09-22 22:48:12,788 - __main__ - INFO - ✅ Model for META trained and saved successfully
2025-09-22 22:48:12,788 - __main__ - INFO - ✅ Successfully trained model for META
2025-09-22 22:48:12,788 - __main__ - INFO - 🎯 Training completed: 1/1 models trained successfully
2025-09-22 22:48:12,788 - __main__ - INFO - 🎉 All models trained successfully!
2025-09-22 22:52:20,540 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 22:52:20,540 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 22:52:20,540 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 22:52:20,540 - __main__ - INFO - 🚀 Starting model training for 1 tickers: META
2025-09-22 22:52:20,540 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 22:52:20,540 - __main__ - INFO - 📊 [1/1] Training model for META
2025-09-22 22:52:20,540 - __main__ - INFO - 🧠 Training ML model for META
2025-09-22 22:52:20,540 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for META
2025-09-22 22:52:20,969 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for META
2025-09-22 22:52:20,969 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for META: [Timestamp('2020-09-23 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-24 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-25 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-28 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-29 00:00:00-0400', tz='America/New_York')]
2025-09-22 22:52:20,970 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for META with 1255 rows
2025-09-22 22:52:20,970 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:52:20,970 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (1255, 5)
2025-09-22 22:52:20,970 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:52:20,976 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 22:52:21,005 - strategy_layer.strategy_base.MLRandomForest - ERROR - Failed to train model for META: 'rsi_14'
2025-09-22 22:52:21,005 - __main__ - ERROR - ❌ Model training failed for META
2025-09-22 22:52:21,005 - __main__ - ERROR - ❌ Failed to train model for META
2025-09-22 22:52:21,005 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 22:52:21,005 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 22:53:19,281 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 22:53:19,281 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 22:53:19,281 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 22:53:19,281 - __main__ - INFO - 🚀 Starting model training for 1 tickers: META
2025-09-22 22:53:19,281 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 22:53:19,281 - __main__ - INFO - 📊 [1/1] Training model for META
2025-09-22 22:53:19,281 - __main__ - INFO - 🧠 Training ML model for META
2025-09-22 22:53:19,281 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for META
2025-09-22 22:53:19,688 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for META
2025-09-22 22:53:19,688 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for META: [Timestamp('2020-09-23 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-24 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-25 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-28 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-29 00:00:00-0400', tz='America/New_York')]
2025-09-22 22:53:19,688 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for META with 1255 rows
2025-09-22 22:53:19,688 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:53:19,688 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (1255, 5)
2025-09-22 22:53:19,688 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:53:19,689 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 22:53:19,690 - strategy_layer.strategy_base.MLRandomForest - ERROR - Failed to train model for META: 'acceleration'
2025-09-22 22:53:19,690 - __main__ - ERROR - ❌ Model training failed for META
2025-09-22 22:53:19,690 - __main__ - ERROR - ❌ Failed to train model for META
2025-09-22 22:53:19,690 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 22:53:19,690 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 22:53:27,531 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 22:53:27,531 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 22:53:27,531 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 22:53:27,531 - __main__ - INFO - 🚀 Starting model training for 1 tickers: META
2025-09-22 22:53:27,531 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 22:53:27,531 - __main__ - INFO - 📊 [1/1] Training model for META
2025-09-22 22:53:27,531 - __main__ - INFO - 🧠 Training ML model for META
2025-09-22 22:53:27,531 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for META
2025-09-22 22:53:27,953 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for META
2025-09-22 22:53:27,953 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for META: [Timestamp('2020-09-23 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-24 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-25 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-28 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-29 00:00:00-0400', tz='America/New_York')]
2025-09-22 22:53:27,953 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for META with 1255 rows
2025-09-22 22:53:27,954 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:53:27,954 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (1255, 5)
2025-09-22 22:53:27,954 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:53:27,955 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 22:53:28,004 - strategy_layer.strategy_base.MLRandomForest - ERROR - Failed to train model for META: 'sma_50'
2025-09-22 22:53:28,004 - __main__ - ERROR - ❌ Model training failed for META
2025-09-22 22:53:28,004 - __main__ - ERROR - ❌ Failed to train model for META
2025-09-22 22:53:28,004 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 22:53:28,004 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 22:53:45,915 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 22:53:45,916 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 22:53:45,916 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 22:53:45,916 - __main__ - INFO - 🚀 Starting model training for 1 tickers: META
2025-09-22 22:53:45,916 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 22:53:45,916 - __main__ - INFO - 📊 [1/1] Training model for META
2025-09-22 22:53:45,916 - __main__ - INFO - 🧠 Training ML model for META
2025-09-22 22:53:45,916 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for META
2025-09-22 22:53:46,408 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for META
2025-09-22 22:53:46,408 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for META: [Timestamp('2020-09-23 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-24 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-25 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-28 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-29 00:00:00-0400', tz='America/New_York')]
2025-09-22 22:53:46,408 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for META with 1255 rows
2025-09-22 22:53:46,408 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:53:46,408 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (1255, 5)
2025-09-22 22:53:46,408 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:53:46,409 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 22:53:47,972 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'spy_close'
2025-09-22 22:53:47,972 - strategy_layer.strategy_base.MLRandomForest - ERROR - Failed to train model for META: 'volatility_20'
2025-09-22 22:53:47,972 - __main__ - ERROR - ❌ Model training failed for META
2025-09-22 22:53:47,972 - __main__ - ERROR - ❌ Failed to train model for META
2025-09-22 22:53:47,972 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 22:53:47,972 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 22:54:24,842 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 22:54:24,842 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 22:54:24,842 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 22:54:24,842 - __main__ - INFO - 🚀 Starting model training for 1 tickers: META
2025-09-22 22:54:24,842 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 22:54:24,842 - __main__ - INFO - 📊 [1/1] Training model for META
2025-09-22 22:54:24,842 - __main__ - INFO - 🧠 Training ML model for META
2025-09-22 22:54:24,842 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for META
2025-09-22 22:54:25,421 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for META
2025-09-22 22:54:25,421 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for META: [Timestamp('2020-09-23 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-24 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-25 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-28 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-29 00:00:00-0400', tz='America/New_York')]
2025-09-22 22:54:25,421 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for META with 1255 rows
2025-09-22 22:54:25,421 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:54:25,421 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (1255, 5)
2025-09-22 22:54:25,421 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:54:25,422 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 22:54:26,761 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (1255, 13)
2025-09-22 22:54:26,761 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (1255, 13)
2025-09-22 22:54:26,761 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['atr_14', 'close', 'high', 'low', 'macd_hist', 'open', 'price_to_sma_50', 'rsi_14', 'sma_50', 'sma_50_slope', 'spy_returns', 'volume', 'volume_ratio_20']
2025-09-22 22:54:26,761 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:54:26,761 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 7 core features from dataframe
2025-09-22 22:54:26,761 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50']
2025-09-22 22:54:26,762 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Train/Test Split for META:
2025-09-22 22:54:26,762 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Training samples: 1000 (2020-09-23 00:00:00-04:00 to 2024-09-13 00:00:00-04:00)
2025-09-22 22:54:26,762 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test samples: 250 (2024-09-16 00:00:00-04:00 to 2025-09-15 00:00:00-04:00)
2025-09-22 22:54:26,762 - strategy_layer.strategy_base.MLRandomForest - INFO -   - No overlap: Training ends 2024-09-13 00:00:00-04:00, Test starts 2024-09-16 00:00:00-04:00
2025-09-22 22:54:58,149 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for META with:
2025-09-22 22:54:58,149 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': 'balanced', 'max_depth': 20, 'max_features': None, 'min_samples_leaf': 1, 'min_samples_split': 5, 'n_estimators': 200}
2025-09-22 22:54:58,149 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.454
2025-09-22 22:54:58,149 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.412
2025-09-22 22:54:58,149 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.452
2025-09-22 22:54:58,149 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.412
2025-09-22 22:54:58,149 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.409
2025-09-22 22:54:58,177 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Top 10 Feature Importances for META:
2025-09-22 22:54:58,177 - strategy_layer.strategy_base.MLRandomForest - INFO -    1. atr_14                    0.2269
2025-09-22 22:54:58,177 - strategy_layer.strategy_base.MLRandomForest - INFO -    2. sma_50_slope              0.2110
2025-09-22 22:54:58,177 - strategy_layer.strategy_base.MLRandomForest - INFO -    3. price_to_sma_50           0.1623
2025-09-22 22:54:58,177 - strategy_layer.strategy_base.MLRandomForest - INFO -    4. rsi_14                    0.1534
2025-09-22 22:54:58,177 - strategy_layer.strategy_base.MLRandomForest - INFO -    5. volume_ratio_20           0.1254
2025-09-22 22:54:58,177 - strategy_layer.strategy_base.MLRandomForest - INFO -    6. spy_returns               0.1211
2025-09-22 22:54:58,177 - strategy_layer.strategy_base.MLRandomForest - INFO -    7. macd_hist                 0.0000
2025-09-22 22:54:58,177 - strategy_layer.strategy_base.MLRandomForest - WARNING - Model for META did not meet performance threshold (F1: 0.409)
2025-09-22 22:54:58,178 - __main__ - ERROR - ❌ Model training failed for META
2025-09-22 22:54:58,178 - __main__ - ERROR - ❌ Failed to train model for META
2025-09-22 22:54:58,178 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 22:54:58,178 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 22:56:22,073 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 22:56:22,073 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 22:56:22,074 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 22:56:22,074 - __main__ - INFO - 🚀 Starting model training for 1 tickers: META
2025-09-22 22:56:22,074 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 22:56:22,074 - __main__ - INFO - 📊 [1/1] Training model for META
2025-09-22 22:56:22,074 - __main__ - INFO - 🧠 Training ML model for META
2025-09-22 22:56:22,074 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for META
2025-09-22 22:56:22,583 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for META
2025-09-22 22:56:22,583 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for META: [Timestamp('2020-09-23 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-24 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-25 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-28 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-29 00:00:00-0400', tz='America/New_York')]
2025-09-22 22:56:22,583 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for META with 1255 rows
2025-09-22 22:56:22,583 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:56:22,583 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (1255, 5)
2025-09-22 22:56:22,583 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:56:22,585 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 22:56:23,963 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (1255, 13)
2025-09-22 22:56:23,963 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (1255, 13)
2025-09-22 22:56:23,963 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['atr_14', 'close', 'high', 'low', 'macd_hist', 'open', 'price_to_sma_50', 'rsi_14', 'sma_50', 'sma_50_slope', 'spy_returns', 'volume', 'volume_ratio_20']
2025-09-22 22:56:23,963 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:56:23,963 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 7 core features from dataframe
2025-09-22 22:56:23,963 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50']
2025-09-22 22:56:23,965 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Train/Test Split for META:
2025-09-22 22:56:23,965 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Training samples: 1000 (2020-09-23 00:00:00-04:00 to 2024-09-13 00:00:00-04:00)
2025-09-22 22:56:23,965 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test samples: 250 (2024-09-16 00:00:00-04:00 to 2025-09-15 00:00:00-04:00)
2025-09-22 22:56:23,965 - strategy_layer.strategy_base.MLRandomForest - INFO -   - No overlap: Training ends 2024-09-13 00:00:00-04:00, Test starts 2024-09-16 00:00:00-04:00
2025-09-22 22:56:54,831 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for META with:
2025-09-22 22:56:54,831 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': 'balanced', 'max_depth': 20, 'max_features': None, 'min_samples_leaf': 1, 'min_samples_split': 5, 'n_estimators': 200}
2025-09-22 22:56:54,831 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.451
2025-09-22 22:56:54,831 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.412
2025-09-22 22:56:54,831 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.452
2025-09-22 22:56:54,831 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.412
2025-09-22 22:56:54,831 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.409
2025-09-22 22:56:54,860 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Top 10 Feature Importances for META:
2025-09-22 22:56:54,860 - strategy_layer.strategy_base.MLRandomForest - INFO -    1. atr_14                    0.2268
2025-09-22 22:56:54,860 - strategy_layer.strategy_base.MLRandomForest - INFO -    2. sma_50_slope              0.2106
2025-09-22 22:56:54,860 - strategy_layer.strategy_base.MLRandomForest - INFO -    3. price_to_sma_50           0.1625
2025-09-22 22:56:54,860 - strategy_layer.strategy_base.MLRandomForest - INFO -    4. rsi_14                    0.1538
2025-09-22 22:56:54,860 - strategy_layer.strategy_base.MLRandomForest - INFO -    5. volume_ratio_20           0.1250
2025-09-22 22:56:54,860 - strategy_layer.strategy_base.MLRandomForest - INFO -    6. spy_returns               0.1212
2025-09-22 22:56:54,860 - strategy_layer.strategy_base.MLRandomForest - INFO -    7. macd_hist                 0.0000
2025-09-22 22:56:54,882 - __main__ - INFO - ✅ Model for META trained and saved successfully
2025-09-22 22:56:54,882 - __main__ - INFO - ✅ Successfully trained model for META
2025-09-22 22:56:54,882 - __main__ - INFO - 🎯 Training completed: 1/1 models trained successfully
2025-09-22 22:56:54,882 - __main__ - INFO - 🎉 All models trained successfully!
2025-09-22 22:57:24,716 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 22:57:24,716 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 22:57:24,716 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 22:57:24,716 - __main__ - INFO - 🚀 Starting model training for 1 tickers: META
2025-09-22 22:57:24,716 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 22:57:24,716 - __main__ - INFO - 📊 [1/1] Training model for META
2025-09-22 22:57:24,716 - __main__ - INFO - 🧠 Training ML model for META
2025-09-22 22:57:24,716 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for META
2025-09-22 22:57:25,173 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for META
2025-09-22 22:57:25,173 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for META: [Timestamp('2020-09-23 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-24 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-25 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-28 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-29 00:00:00-0400', tz='America/New_York')]
2025-09-22 22:57:25,174 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for META with 1255 rows
2025-09-22 22:57:25,174 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:57:25,174 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (1255, 5)
2025-09-22 22:57:25,174 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:57:25,175 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 22:57:27,026 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (1255, 17)
2025-09-22 22:57:27,027 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (1255, 17)
2025-09-22 22:57:27,027 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['atr_14', 'close', 'high', 'low', 'macd_hist', 'open', 'price_to_sma_50', 'regime_bear', 'regime_bull', 'regime_neutral', 'rsi_14', 'sma_50', 'sma_50_slope', 'spy_returns', 'volatility_regime', 'volume', 'volume_ratio_20']
2025-09-22 22:57:27,027 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:57:27,027 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 11 core features from dataframe
2025-09-22 22:57:27,027 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime']
2025-09-22 22:57:27,028 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Train/Test Split for META:
2025-09-22 22:57:27,028 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Training samples: 1000 (2020-09-23 00:00:00-04:00 to 2024-09-13 00:00:00-04:00)
2025-09-22 22:57:27,028 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test samples: 250 (2024-09-16 00:00:00-04:00 to 2025-09-15 00:00:00-04:00)
2025-09-22 22:57:27,028 - strategy_layer.strategy_base.MLRandomForest - INFO -   - No overlap: Training ends 2024-09-13 00:00:00-04:00, Test starts 2024-09-16 00:00:00-04:00
2025-09-22 22:58:02,775 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for META with:
2025-09-22 22:58:02,776 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': 'sqrt', 'min_samples_leaf': 1, 'min_samples_split': 5, 'n_estimators': 50}
2025-09-22 22:58:02,776 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.446
2025-09-22 22:58:02,776 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.428
2025-09-22 22:58:02,776 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.453
2025-09-22 22:58:02,776 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.428
2025-09-22 22:58:02,776 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.434
2025-09-22 22:58:02,802 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Top 10 Feature Importances for META:
2025-09-22 22:58:02,802 - strategy_layer.strategy_base.MLRandomForest - INFO -    1. atr_14                    0.1979
2025-09-22 22:58:02,802 - strategy_layer.strategy_base.MLRandomForest - INFO -    2. sma_50_slope              0.1896
2025-09-22 22:58:02,802 - strategy_layer.strategy_base.MLRandomForest - INFO -    3. price_to_sma_50           0.1595
2025-09-22 22:58:02,802 - strategy_layer.strategy_base.MLRandomForest - INFO -    4. rsi_14                    0.1383
2025-09-22 22:58:02,802 - strategy_layer.strategy_base.MLRandomForest - INFO -    5. spy_returns               0.1315
2025-09-22 22:58:02,802 - strategy_layer.strategy_base.MLRandomForest - INFO -    6. volume_ratio_20           0.1258
2025-09-22 22:58:02,802 - strategy_layer.strategy_base.MLRandomForest - INFO -    7. volatility_regime         0.0257
2025-09-22 22:58:02,802 - strategy_layer.strategy_base.MLRandomForest - INFO -    8. regime_neutral            0.0155
2025-09-22 22:58:02,802 - strategy_layer.strategy_base.MLRandomForest - INFO -    9. regime_bull               0.0121
2025-09-22 22:58:02,802 - strategy_layer.strategy_base.MLRandomForest - INFO -   10. regime_bear               0.0041
2025-09-22 22:58:02,809 - __main__ - INFO - ✅ Model for META trained and saved successfully
2025-09-22 22:58:02,809 - __main__ - INFO - ✅ Successfully trained model for META
2025-09-22 22:58:02,809 - __main__ - INFO - 🎯 Training completed: 1/1 models trained successfully
2025-09-22 22:58:02,809 - __main__ - INFO - 🎉 All models trained successfully!
2025-09-22 22:58:41,830 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 22:58:41,830 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 22:58:41,830 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 22:58:41,830 - __main__ - INFO - 🚀 Starting model training for 1 tickers: META
2025-09-22 22:58:41,830 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 22:58:41,830 - __main__ - INFO - 📊 [1/1] Training model for META
2025-09-22 22:58:41,830 - __main__ - INFO - 🧠 Training ML model for META
2025-09-22 22:58:41,830 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for META
2025-09-22 22:58:42,376 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for META
2025-09-22 22:58:42,376 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for META: [Timestamp('2020-09-23 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-24 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-25 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-28 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-29 00:00:00-0400', tz='America/New_York')]
2025-09-22 22:58:42,377 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for META with 1255 rows
2025-09-22 22:58:42,377 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:58:42,377 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (1255, 5)
2025-09-22 22:58:42,377 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:58:42,379 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 22:58:44,555 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: Invalid comparison between dtype=datetime64[ns] and Timestamp
2025-09-22 22:58:44,766 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (1255, 20)
2025-09-22 22:58:44,766 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (1255, 20)
2025-09-22 22:58:44,766 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['atr_14', 'close', 'high', 'low', 'macd_hist', 'open', 'price_to_sma_50', 'regime_bear', 'regime_bull', 'regime_neutral', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'rsi_14', 'sma_50', 'sma_50_slope', 'spy_returns', 'volatility_regime', 'volume', 'volume_ratio_20']
2025-09-22 22:58:44,766 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:58:44,767 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 14 core features from dataframe
2025-09-22 22:58:44,767 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20']
2025-09-22 22:58:44,767 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Train/Test Split for META:
2025-09-22 22:58:44,767 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Training samples: 1000 (2020-09-23 00:00:00-04:00 to 2024-09-13 00:00:00-04:00)
2025-09-22 22:58:44,767 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test samples: 250 (2024-09-16 00:00:00-04:00 to 2025-09-15 00:00:00-04:00)
2025-09-22 22:58:44,767 - strategy_layer.strategy_base.MLRandomForest - INFO -   - No overlap: Training ends 2024-09-13 00:00:00-04:00, Test starts 2024-09-16 00:00:00-04:00
2025-09-22 22:59:16,947 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for META with:
2025-09-22 22:59:16,947 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': None, 'min_samples_leaf': 1, 'min_samples_split': 2, 'n_estimators': 50}
2025-09-22 22:59:16,947 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.449
2025-09-22 22:59:16,947 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.380
2025-09-22 22:59:16,947 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.421
2025-09-22 22:59:16,947 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.380
2025-09-22 22:59:16,947 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.356
2025-09-22 22:59:16,974 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Top 10 Feature Importances for META:
2025-09-22 22:59:16,974 - strategy_layer.strategy_base.MLRandomForest - INFO -    1. atr_14                    0.2480
2025-09-22 22:59:16,974 - strategy_layer.strategy_base.MLRandomForest - INFO -    2. sma_50_slope              0.2406
2025-09-22 22:59:16,974 - strategy_layer.strategy_base.MLRandomForest - INFO -    3. price_to_sma_50           0.1803
2025-09-22 22:59:16,974 - strategy_layer.strategy_base.MLRandomForest - INFO -    4. rsi_14                    0.1644
2025-09-22 22:59:16,974 - strategy_layer.strategy_base.MLRandomForest - INFO -    5. volume_ratio_20           0.1322
2025-09-22 22:59:16,974 - strategy_layer.strategy_base.MLRandomForest - INFO -    6. volatility_regime         0.0164
2025-09-22 22:59:16,974 - strategy_layer.strategy_base.MLRandomForest - INFO -    7. regime_neutral            0.0094
2025-09-22 22:59:16,974 - strategy_layer.strategy_base.MLRandomForest - INFO -    8. regime_bull               0.0067
2025-09-22 22:59:16,974 - strategy_layer.strategy_base.MLRandomForest - INFO -    9. regime_bear               0.0016
2025-09-22 22:59:16,974 - strategy_layer.strategy_base.MLRandomForest - INFO -   10. relative_strength         0.0002
2025-09-22 22:59:16,974 - strategy_layer.strategy_base.MLRandomForest - WARNING - Model for META did not meet performance threshold (F1: 0.356)
2025-09-22 22:59:16,975 - __main__ - ERROR - ❌ Model training failed for META
2025-09-22 22:59:16,975 - __main__ - ERROR - ❌ Failed to train model for META
2025-09-22 22:59:16,975 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 22:59:16,975 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 22:59:52,205 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 22:59:52,206 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 22:59:52,206 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 22:59:52,206 - __main__ - INFO - 🚀 Starting model training for 1 tickers: META
2025-09-22 22:59:52,206 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 22:59:52,206 - __main__ - INFO - 📊 [1/1] Training model for META
2025-09-22 22:59:52,206 - __main__ - INFO - 🧠 Training ML model for META
2025-09-22 22:59:52,206 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for META
2025-09-22 22:59:52,659 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for META
2025-09-22 22:59:52,659 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for META: [Timestamp('2020-09-23 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-24 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-25 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-28 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-29 00:00:00-0400', tz='America/New_York')]
2025-09-22 22:59:52,660 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for META with 1255 rows
2025-09-22 22:59:52,660 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 22:59:52,660 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (1255, 5)
2025-09-22 22:59:52,660 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 22:59:52,661 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 22:59:54,695 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: Invalid comparison between dtype=datetime64[ns] and Timestamp
2025-09-22 22:59:55,234 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (1255, 20)
2025-09-22 22:59:55,234 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (1255, 20)
2025-09-22 22:59:55,234 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['atr_14', 'close', 'high', 'low', 'macd_hist', 'open', 'price_to_sma_50', 'regime_bear', 'regime_bull', 'regime_neutral', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'rsi_14', 'sma_50', 'sma_50_slope', 'spy_returns', 'volatility_regime', 'volume', 'volume_ratio_20']
2025-09-22 22:59:55,234 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 22:59:55,234 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 14 core features from dataframe
2025-09-22 22:59:55,234 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20']
2025-09-22 22:59:55,235 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Train/Test Split for META:
2025-09-22 22:59:55,235 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Training samples: 1000 (2020-09-23 00:00:00-04:00 to 2024-09-13 00:00:00-04:00)
2025-09-22 22:59:55,235 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test samples: 250 (2024-09-16 00:00:00-04:00 to 2025-09-15 00:00:00-04:00)
2025-09-22 22:59:55,235 - strategy_layer.strategy_base.MLRandomForest - INFO -   - No overlap: Training ends 2024-09-13 00:00:00-04:00, Test starts 2024-09-16 00:00:00-04:00
2025-09-22 23:00:29,232 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for META with:
2025-09-22 23:00:29,232 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 20, 'max_features': 'sqrt', 'min_samples_leaf': 1, 'min_samples_split': 5, 'n_estimators': 50}
2025-09-22 23:00:29,232 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.475
2025-09-22 23:00:29,232 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.428
2025-09-22 23:00:29,232 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.441
2025-09-22 23:00:29,232 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.428
2025-09-22 23:00:29,232 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.433
2025-09-22 23:00:29,264 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Top 10 Feature Importances for META:
2025-09-22 23:00:29,265 - strategy_layer.strategy_base.MLRandomForest - INFO -    1. atr_14                    0.1461
2025-09-22 23:00:29,265 - strategy_layer.strategy_base.MLRandomForest - INFO -    2. sma_50_slope              0.1358
2025-09-22 23:00:29,265 - strategy_layer.strategy_base.MLRandomForest - INFO -    3. relative_momentum_5       0.1124
2025-09-22 23:00:29,265 - strategy_layer.strategy_base.MLRandomForest - INFO -    4. price_to_sma_50           0.1102
2025-09-22 23:00:29,265 - strategy_layer.strategy_base.MLRandomForest - INFO -    5. relative_momentum_20      0.1062
2025-09-22 23:00:29,265 - strategy_layer.strategy_base.MLRandomForest - INFO -    6. rsi_14                    0.0986
2025-09-22 23:00:29,265 - strategy_layer.strategy_base.MLRandomForest - INFO -    7. volume_ratio_20           0.0888
2025-09-22 23:00:29,265 - strategy_layer.strategy_base.MLRandomForest - INFO -    8. spy_returns               0.0838
2025-09-22 23:00:29,265 - strategy_layer.strategy_base.MLRandomForest - INFO -    9. relative_strength         0.0764
2025-09-22 23:00:29,265 - strategy_layer.strategy_base.MLRandomForest - INFO -   10. volatility_regime         0.0171
2025-09-22 23:00:29,285 - __main__ - INFO - ✅ Model for META trained and saved successfully
2025-09-22 23:00:29,285 - __main__ - INFO - ✅ Successfully trained model for META
2025-09-22 23:00:29,285 - __main__ - INFO - 🎯 Training completed: 1/1 models trained successfully
2025-09-22 23:00:29,285 - __main__ - INFO - 🎉 All models trained successfully!
2025-09-22 23:00:58,903 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 23:00:58,903 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 23:00:58,904 - __main__ - INFO - ✅ ML Strategy initialized with confidence threshold: 0.6
2025-09-22 23:00:58,904 - __main__ - INFO - 🚀 Starting model training for 1 tickers: META
2025-09-22 23:00:58,904 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 23:00:58,904 - __main__ - INFO - 📊 [1/1] Training model for META
2025-09-22 23:00:58,904 - __main__ - INFO - 🧠 Training ML model for META
2025-09-22 23:00:58,904 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for META
2025-09-22 23:00:59,374 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for META
2025-09-22 23:00:59,374 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for META: [Timestamp('2020-09-23 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-24 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-25 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-28 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-29 00:00:00-0400', tz='America/New_York')]
2025-09-22 23:00:59,374 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for META with 1255 rows
2025-09-22 23:00:59,375 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 23:00:59,375 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (1255, 5)
2025-09-22 23:00:59,375 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:00:59,377 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:01:02,494 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: Invalid comparison between dtype=datetime64[ns] and Timestamp
2025-09-22 23:01:03,045 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (1255, 24)
2025-09-22 23:01:03,045 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (1255, 24)
2025-09-22 23:01:03,045 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['atr_14', 'close', 'high', 'low', 'macd_hist', 'momentum_acceleration_10_20', 'momentum_acceleration_5_10', 'momentum_decay_10', 'momentum_decay_5', 'open', 'price_to_sma_50', 'regime_bear', 'regime_bull', 'regime_neutral', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'rsi_14', 'sma_50', 'sma_50_slope', 'spy_returns', 'volatility_regime', 'volume', 'volume_ratio_20']
2025-09-22 23:01:03,045 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 23:01:03,045 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:01:03,045 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:01:03,046 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Train/Test Split for META:
2025-09-22 23:01:03,046 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Training samples: 1000 (2020-09-23 00:00:00-04:00 to 2024-09-13 00:00:00-04:00)
2025-09-22 23:01:03,046 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test samples: 250 (2024-09-16 00:00:00-04:00 to 2025-09-15 00:00:00-04:00)
2025-09-22 23:01:03,046 - strategy_layer.strategy_base.MLRandomForest - INFO -   - No overlap: Training ends 2024-09-13 00:00:00-04:00, Test starts 2024-09-16 00:00:00-04:00
2025-09-22 23:01:44,467 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for META with:
2025-09-22 23:01:44,468 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': 'balanced', 'max_depth': None, 'max_features': 'sqrt', 'min_samples_leaf': 2, 'min_samples_split': 2, 'n_estimators': 50}
2025-09-22 23:01:44,468 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.508
2025-09-22 23:01:44,468 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.468
2025-09-22 23:01:44,468 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.457
2025-09-22 23:01:44,468 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.468
2025-09-22 23:01:44,468 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.462
2025-09-22 23:01:44,494 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Top 10 Feature Importances for META:
2025-09-22 23:01:44,494 - strategy_layer.strategy_base.MLRandomForest - INFO -    1. atr_14                    0.1147
2025-09-22 23:01:44,494 - strategy_layer.strategy_base.MLRandomForest - INFO -    2. sma_50_slope              0.0944
2025-09-22 23:01:44,494 - strategy_layer.strategy_base.MLRandomForest - INFO -    3. relative_momentum_20      0.0817
2025-09-22 23:01:44,494 - strategy_layer.strategy_base.MLRandomForest - INFO -    4. price_to_sma_50           0.0795
2025-09-22 23:01:44,494 - strategy_layer.strategy_base.MLRandomForest - INFO -    5. momentum_decay_10         0.0763
2025-09-22 23:01:44,494 - strategy_layer.strategy_base.MLRandomForest - INFO -    6. momentum_decay_5          0.0742
2025-09-22 23:01:44,495 - strategy_layer.strategy_base.MLRandomForest - INFO -    7. momentum_acceleration_10_20 0.0700
2025-09-22 23:01:44,495 - strategy_layer.strategy_base.MLRandomForest - INFO -    8. rsi_14                    0.0691
2025-09-22 23:01:44,495 - strategy_layer.strategy_base.MLRandomForest - INFO -    9. relative_momentum_5       0.0666
2025-09-22 23:01:44,495 - strategy_layer.strategy_base.MLRandomForest - INFO -   10. volume_ratio_20           0.0642
2025-09-22 23:01:44,510 - __main__ - INFO - ✅ Model for META trained and saved successfully
2025-09-22 23:01:44,510 - __main__ - INFO - ✅ Successfully trained model for META
2025-09-22 23:01:44,510 - __main__ - INFO - 🎯 Training completed: 1/1 models trained successfully
2025-09-22 23:01:44,510 - __main__ - INFO - 🎉 All models trained successfully!
2025-09-22 23:07:24,030 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 23:07:24,030 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 23:07:24,030 - __main__ - INFO - ✅ RandomForest Strategy initialized with confidence threshold: 0.6
2025-09-22 23:07:24,030 - __main__ - INFO - 🚀 Starting model training for 1 tickers: META
2025-09-22 23:07:24,030 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 23:07:24,030 - __main__ - INFO - 📊 [1/1] Training model for META
2025-09-22 23:07:24,030 - __main__ - INFO - 🧠 Training ML model for META
2025-09-22 23:07:24,030 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for META
2025-09-22 23:07:24,515 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for META
2025-09-22 23:07:24,515 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for META: [Timestamp('2020-09-23 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-24 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-25 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-28 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-29 00:00:00-0400', tz='America/New_York')]
2025-09-22 23:07:24,515 - strategy_layer.strategy_base.MLRandomForest - INFO - 🕒 Data time interval verified: 1 days 00:00:00
2025-09-22 23:07:24,515 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for META with 1255 rows
2025-09-22 23:07:24,515 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 23:07:24,515 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (1255, 5)
2025-09-22 23:07:24,516 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:07:24,518 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:07:27,525 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:07:28,034 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (1255, 24)
2025-09-22 23:07:28,034 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (1255, 24)
2025-09-22 23:07:28,034 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['atr_14', 'close', 'high', 'low', 'macd_hist', 'momentum_acceleration_10_20', 'momentum_acceleration_5_10', 'momentum_decay_10', 'momentum_decay_5', 'open', 'price_to_sma_50', 'regime_bear', 'regime_bull', 'regime_neutral', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'rsi_14', 'sma_50', 'sma_50_slope', 'spy_returns', 'volatility_regime', 'volume', 'volume_ratio_20']
2025-09-22 23:07:28,034 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 23:07:28,034 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:07:28,034 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:07:28,035 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Train/Test Split for META:
2025-09-22 23:07:28,035 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Training samples: 1000 (2020-09-23 00:00:00-04:00 to 2024-09-13 00:00:00-04:00)
2025-09-22 23:07:28,035 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test samples: 250 (2024-09-16 00:00:00-04:00 to 2025-09-15 00:00:00-04:00)
2025-09-22 23:07:28,035 - strategy_layer.strategy_base.MLRandomForest - INFO -   - No overlap: Training ends 2024-09-13 00:00:00-04:00, Test starts 2024-09-16 00:00:00-04:00
2025-09-22 23:08:07,074 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for META with:
2025-09-22 23:08:07,074 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 20, 'max_features': 'sqrt', 'min_samples_leaf': 1, 'min_samples_split': 2, 'n_estimators': 50}
2025-09-22 23:08:07,074 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.509
2025-09-22 23:08:07,074 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.476
2025-09-22 23:08:07,074 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.469
2025-09-22 23:08:07,074 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.476
2025-09-22 23:08:07,075 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.472
2025-09-22 23:08:07,099 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Top 10 Feature Importances for META:
2025-09-22 23:08:07,099 - strategy_layer.strategy_base.MLRandomForest - INFO -    1. atr_14                    0.1120
2025-09-22 23:08:07,099 - strategy_layer.strategy_base.MLRandomForest - INFO -    2. sma_50_slope              0.1035
2025-09-22 23:08:07,099 - strategy_layer.strategy_base.MLRandomForest - INFO -    3. price_to_sma_50           0.0784
2025-09-22 23:08:07,099 - strategy_layer.strategy_base.MLRandomForest - INFO -    4. momentum_decay_10         0.0747
2025-09-22 23:08:07,099 - strategy_layer.strategy_base.MLRandomForest - INFO -    5. momentum_acceleration_10_20 0.0742
2025-09-22 23:08:07,099 - strategy_layer.strategy_base.MLRandomForest - INFO -    6. relative_momentum_20      0.0719
2025-09-22 23:08:07,099 - strategy_layer.strategy_base.MLRandomForest - INFO -    7. rsi_14                    0.0705
2025-09-22 23:08:07,099 - strategy_layer.strategy_base.MLRandomForest - INFO -    8. relative_momentum_5       0.0689
2025-09-22 23:08:07,099 - strategy_layer.strategy_base.MLRandomForest - INFO -    9. momentum_decay_5          0.0676
2025-09-22 23:08:07,099 - strategy_layer.strategy_base.MLRandomForest - INFO -   10. volume_ratio_20           0.0642
2025-09-22 23:08:07,106 - __main__ - INFO - ✅ Model for META trained and saved successfully
2025-09-22 23:08:07,106 - __main__ - INFO - ✅ Successfully trained model for META
2025-09-22 23:08:07,106 - __main__ - INFO - 🎯 Training completed: 1/1 models trained successfully
2025-09-22 23:08:07,106 - __main__ - INFO - 🎉 All models trained successfully!
2025-09-22 23:08:11,123 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 23:08:11,124 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 23:08:11,124 - __main__ - INFO - ✅ LightGBM Strategy initialized with confidence threshold: 0.6
2025-09-22 23:08:11,124 - __main__ - INFO - 🚀 Starting model training for 1 tickers: META
2025-09-22 23:08:11,124 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 23:08:11,124 - __main__ - INFO - 📊 [1/1] Training model for META
2025-09-22 23:08:11,124 - __main__ - INFO - 🧠 Training ML model for META
2025-09-22 23:08:11,124 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for META
2025-09-22 23:08:12,177 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for META
2025-09-22 23:08:12,178 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for META: [Timestamp('2020-09-23 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-24 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-25 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-28 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-29 00:00:00-0400', tz='America/New_York')]
2025-09-22 23:08:12,178 - strategy_layer.strategy_base.MLRandomForest - INFO - 🕒 Data time interval verified: 1 days 00:00:00
2025-09-22 23:08:12,178 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for META with 1255 rows
2025-09-22 23:08:12,178 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 23:08:12,178 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (1255, 5)
2025-09-22 23:08:12,178 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:08:12,180 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:08:15,128 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:08:15,676 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (1255, 24)
2025-09-22 23:08:15,676 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (1255, 24)
2025-09-22 23:08:15,676 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['atr_14', 'close', 'high', 'low', 'macd_hist', 'momentum_acceleration_10_20', 'momentum_acceleration_5_10', 'momentum_decay_10', 'momentum_decay_5', 'open', 'price_to_sma_50', 'regime_bear', 'regime_bull', 'regime_neutral', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'rsi_14', 'sma_50', 'sma_50_slope', 'spy_returns', 'volatility_regime', 'volume', 'volume_ratio_20']
2025-09-22 23:08:15,676 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 23:08:15,676 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:08:15,676 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:08:15,677 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Train/Test Split for META:
2025-09-22 23:08:15,677 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Training samples: 1000 (2020-09-23 00:00:00-04:00 to 2024-09-13 00:00:00-04:00)
2025-09-22 23:08:15,677 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test samples: 250 (2024-09-16 00:00:00-04:00 to 2025-09-15 00:00:00-04:00)
2025-09-22 23:08:15,677 - strategy_layer.strategy_base.MLRandomForest - INFO -   - No overlap: Training ends 2024-09-13 00:00:00-04:00, Test starts 2024-09-16 00:00:00-04:00
2025-09-22 23:29:44,163 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for META with:
2025-09-22 23:29:44,163 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'colsample_bytree': 0.9, 'learning_rate': 0.2, 'max_depth': -1, 'min_child_samples': 20, 'n_estimators': 200, 'num_leaves': 31, 'subsample': 0.8}
2025-09-22 23:29:44,163 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.529
2025-09-22 23:29:44,163 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.440
2025-09-22 23:29:44,163 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.449
2025-09-22 23:29:44,163 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.440
2025-09-22 23:29:44,163 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.444
2025-09-22 23:29:44,164 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Top 10 Feature Importances for META:
2025-09-22 23:29:44,164 - strategy_layer.strategy_base.MLRandomForest - INFO -    1. atr_14                    785.0000
2025-09-22 23:29:44,164 - strategy_layer.strategy_base.MLRandomForest - INFO -    2. sma_50_slope              620.0000
2025-09-22 23:29:44,164 - strategy_layer.strategy_base.MLRandomForest - INFO -    3. spy_returns               548.0000
2025-09-22 23:29:44,164 - strategy_layer.strategy_base.MLRandomForest - INFO -    4. rsi_14                    530.0000
2025-09-22 23:29:44,164 - strategy_layer.strategy_base.MLRandomForest - INFO -    5. relative_momentum_5       492.0000
2025-09-22 23:29:44,164 - strategy_layer.strategy_base.MLRandomForest - INFO -    6. price_to_sma_50           474.0000
2025-09-22 23:29:44,164 - strategy_layer.strategy_base.MLRandomForest - INFO -    7. volume_ratio_20           437.0000
2025-09-22 23:29:44,164 - strategy_layer.strategy_base.MLRandomForest - INFO -    8. relative_momentum_20      437.0000
2025-09-22 23:29:44,164 - strategy_layer.strategy_base.MLRandomForest - INFO -    9. momentum_decay_10         408.0000
2025-09-22 23:29:44,164 - strategy_layer.strategy_base.MLRandomForest - INFO -   10. momentum_decay_5          390.0000
2025-09-22 23:29:44,164 - strategy_layer.strategy_base.MLRandomForest - WARNING - ⚠️  POTENTIAL DATA LEAKAGE: atr_14 has 785.000 importance (>50%)
2025-09-22 23:29:44,164 - strategy_layer.strategy_base.MLRandomForest - WARNING -    This feature may be directly correlated with the target variable
2025-09-22 23:29:44,168 - __main__ - INFO - ✅ Model for META trained and saved successfully
2025-09-22 23:29:44,168 - __main__ - INFO - ✅ Successfully trained model for META
2025-09-22 23:29:44,168 - __main__ - INFO - 🎯 Training completed: 1/1 models trained successfully
2025-09-22 23:29:44,168 - __main__ - INFO - 🎉 All models trained successfully!
2025-09-22 23:52:18,296 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 23:52:18,297 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 23:52:18,297 - __main__ - INFO - ✅ LightGBM Strategy initialized with confidence threshold: 0.6
2025-09-22 23:52:18,297 - __main__ - INFO - 🚀 Starting model training for 1 tickers: META
2025-09-22 23:52:18,297 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 23:52:18,297 - __main__ - INFO - 🔄 Walk-forward validation: True
2025-09-22 23:52:18,297 - __main__ - INFO - 📊 Walk-forward parameters:
2025-09-22 23:52:18,297 - __main__ - INFO -    - Training window: 500 days
2025-09-22 23:52:18,297 - __main__ - INFO -    - Retrain every: 21 days
2025-09-22 23:52:18,297 - __main__ - INFO -    - Test period: 252 days
2025-09-22 23:52:18,297 - __main__ - INFO - 📊 [1/1] Training model for META
2025-09-22 23:52:18,297 - __main__ - INFO - 🧠 Training ML model for META using Walk-Forward Validation
2025-09-22 23:52:18,297 - __main__ - INFO - 📊 Fetching complete dataset for META
2025-09-22 23:52:18,757 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for META
2025-09-22 23:52:18,757 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for META: [Timestamp('2020-09-23 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-24 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-25 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-28 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-29 00:00:00-0400', tz='America/New_York')]
2025-09-22 23:52:18,757 - strategy_layer.strategy_base.MLRandomForest - INFO - 🕒 Data time interval verified: 1 days 00:00:00
2025-09-22 23:52:18,757 - __main__ - INFO - ✅ Loaded 1255 days of data for META
2025-09-22 23:52:18,757 - __main__ - INFO - 📅 Data range: 2020-09-23 00:00:00-04:00 to 2025-09-22 00:00:00-04:00
2025-09-22 23:52:18,757 - __main__ - INFO - 🔄 Fold 1: Train[503:1003] (500 samples), Test[1003:1024] (21 samples)
2025-09-22 23:52:18,758 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:52:18,758 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:52:18,759 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:52:19,991 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:52:20,201 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:52:20,202 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:52:20,202 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:52:20,202 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:52:20,202 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:52:20,203 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:52:20,425 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:52:20,435 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:52:20,436 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:52:20,436 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:52:20,669 - __main__ - INFO - 🔄 Fold 2: Train[524:1024] (500 samples), Test[1024:1045] (21 samples)
2025-09-22 23:52:20,669 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:52:20,669 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:52:20,670 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:52:21,974 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:52:22,180 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:52:22,180 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:52:22,181 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:52:22,181 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:52:22,181 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:52:22,182 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:52:22,454 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:52:22,465 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:52:22,466 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:52:22,466 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:52:22,720 - __main__ - INFO - 🔄 Fold 3: Train[545:1045] (500 samples), Test[1045:1066] (21 samples)
2025-09-22 23:52:22,720 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:52:22,720 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:52:22,721 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:52:23,970 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:52:24,173 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:52:24,173 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:52:24,173 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:52:24,174 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:52:24,174 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:52:24,174 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:52:24,435 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:52:24,447 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:52:24,447 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:52:24,447 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:52:24,674 - __main__ - INFO - 🔄 Fold 4: Train[566:1066] (500 samples), Test[1066:1087] (21 samples)
2025-09-22 23:52:24,674 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:52:24,674 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:52:24,675 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:52:25,852 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:52:26,057 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:52:26,057 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:52:26,057 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:52:26,058 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:52:26,058 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:52:26,059 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:52:26,256 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:52:26,266 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:52:26,267 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:52:26,267 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:52:26,488 - __main__ - INFO - 🔄 Fold 5: Train[587:1087] (500 samples), Test[1087:1108] (21 samples)
2025-09-22 23:52:26,488 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:52:26,488 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:52:26,489 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:52:27,675 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:52:27,881 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:52:27,882 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:52:27,882 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:52:27,882 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:52:27,882 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:52:27,883 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:52:28,073 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:52:28,084 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:52:28,084 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:52:28,084 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:52:28,301 - __main__ - INFO - 🔄 Fold 6: Train[608:1108] (500 samples), Test[1108:1129] (21 samples)
2025-09-22 23:52:28,301 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:52:28,301 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:52:28,302 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:52:29,537 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:52:29,740 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:52:29,740 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:52:29,740 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:52:29,741 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:52:29,741 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:52:29,742 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:52:29,935 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:52:29,946 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:52:29,946 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:52:29,946 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:52:30,189 - __main__ - INFO - 🔄 Fold 7: Train[629:1129] (500 samples), Test[1129:1150] (21 samples)
2025-09-22 23:52:30,189 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:52:30,189 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:52:30,190 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:52:31,461 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:52:31,675 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:52:31,676 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:52:31,676 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:52:31,676 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:52:31,676 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:52:31,677 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:52:31,867 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:52:31,877 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:52:31,877 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:52:31,877 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:52:32,094 - __main__ - INFO - 🔄 Fold 8: Train[650:1150] (500 samples), Test[1150:1171] (21 samples)
2025-09-22 23:52:32,094 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:52:32,094 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:52:32,095 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:52:33,314 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:52:33,514 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:52:33,514 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:52:33,514 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:52:33,515 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:52:33,515 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:52:33,516 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:52:33,710 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:52:33,721 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:52:33,721 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:52:33,721 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:52:33,944 - __main__ - INFO - 🔄 Fold 9: Train[671:1171] (500 samples), Test[1171:1192] (21 samples)
2025-09-22 23:52:33,945 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:52:33,945 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:52:33,945 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:52:35,254 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:52:35,458 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:52:35,459 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:52:35,459 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:52:35,459 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:52:35,459 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:52:35,460 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:52:35,642 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:52:35,652 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:52:35,652 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:52:35,652 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:52:35,871 - __main__ - INFO - 🔄 Fold 10: Train[692:1192] (500 samples), Test[1192:1213] (21 samples)
2025-09-22 23:52:35,871 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:52:35,871 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:52:35,872 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:52:37,202 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:52:37,413 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:52:37,414 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:52:37,414 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:52:37,414 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:52:37,414 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:52:37,415 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:52:37,629 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:52:37,640 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:52:37,641 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:52:37,641 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:52:37,860 - __main__ - INFO - 🔄 Fold 11: Train[713:1213] (500 samples), Test[1213:1234] (21 samples)
2025-09-22 23:52:37,860 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:52:37,860 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:52:37,861 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:52:39,094 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:52:39,306 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:52:39,306 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:52:39,306 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:52:39,307 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:52:39,307 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:52:39,307 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:52:39,503 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:52:39,514 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:52:39,514 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:52:39,514 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:52:39,735 - __main__ - INFO - 🔄 Fold 12: Train[734:1234] (500 samples), Test[1234:1255] (21 samples)
2025-09-22 23:52:39,735 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:52:39,735 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:52:39,736 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:53:02,538 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 23:53:02,539 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 23:53:02,539 - __main__ - INFO - ✅ LightGBM Strategy initialized with confidence threshold: 0.6
2025-09-22 23:53:02,539 - __main__ - INFO - 🚀 Starting model training for 1 tickers: META
2025-09-22 23:53:02,539 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 23:53:02,539 - __main__ - INFO - 🔄 Walk-forward validation: True
2025-09-22 23:53:02,539 - __main__ - INFO - 📊 Walk-forward parameters:
2025-09-22 23:53:02,539 - __main__ - INFO -    - Training window: 500 days
2025-09-22 23:53:02,539 - __main__ - INFO -    - Retrain every: 21 days
2025-09-22 23:53:02,539 - __main__ - INFO -    - Test period: 252 days
2025-09-22 23:53:02,539 - __main__ - INFO - 📊 [1/1] Training model for META
2025-09-22 23:53:02,539 - __main__ - INFO - 🧠 Training ML model for META using Walk-Forward Validation
2025-09-22 23:53:02,539 - __main__ - INFO - 📊 Fetching complete dataset for META
2025-09-22 23:53:03,017 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for META
2025-09-22 23:53:03,018 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for META: [Timestamp('2020-09-23 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-24 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-25 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-28 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-29 00:00:00-0400', tz='America/New_York')]
2025-09-22 23:53:03,018 - strategy_layer.strategy_base.MLRandomForest - INFO - 🕒 Data time interval verified: 1 days 00:00:00
2025-09-22 23:53:03,018 - __main__ - INFO - ✅ Loaded 1255 days of data for META
2025-09-22 23:53:03,018 - __main__ - INFO - 📅 Data range: 2020-09-23 00:00:00-04:00 to 2025-09-22 00:00:00-04:00
2025-09-22 23:53:03,018 - __main__ - INFO - 🔄 Fold 1: Train[503:1003] (500 samples), Test[1003:1024] (21 samples)
2025-09-22 23:53:03,018 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:53:03,018 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:53:03,019 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:53:04,243 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:53:04,449 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:53:04,450 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:53:04,450 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:53:04,450 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:53:04,450 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:53:04,451 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:53:04,673 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:53:04,684 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:53:04,685 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:53:04,685 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:53:04,915 - __main__ - INFO - 🔄 Fold 2: Train[524:1024] (500 samples), Test[1024:1045] (21 samples)
2025-09-22 23:53:04,915 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:53:04,915 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:53:04,916 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:53:06,188 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:53:06,403 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:53:06,404 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:53:06,404 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:53:06,404 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:53:06,409 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:53:06,410 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:53:06,630 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:53:06,646 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:53:06,647 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:53:06,647 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:53:06,873 - __main__ - INFO - 🔄 Fold 3: Train[545:1045] (500 samples), Test[1045:1066] (21 samples)
2025-09-22 23:53:06,873 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:53:06,873 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:53:06,874 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:53:43,812 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 23:53:43,812 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 23:53:43,812 - __main__ - INFO - ✅ RandomForest Strategy initialized with confidence threshold: 0.6
2025-09-22 23:53:43,812 - __main__ - INFO - 🚀 Starting model training for 1 tickers: MSFT
2025-09-22 23:53:43,812 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 23:53:43,812 - __main__ - INFO - 🔄 Walk-forward validation: True
2025-09-22 23:53:43,812 - __main__ - INFO - 📊 Walk-forward parameters:
2025-09-22 23:53:43,812 - __main__ - INFO -    - Training window: 500 days
2025-09-22 23:53:43,812 - __main__ - INFO -    - Retrain every: 21 days
2025-09-22 23:53:43,812 - __main__ - INFO -    - Test period: 252 days
2025-09-22 23:53:43,812 - __main__ - INFO - 📊 [1/1] Training model for MSFT
2025-09-22 23:53:43,812 - __main__ - INFO - 🧠 Training ML model for MSFT using Walk-Forward Validation
2025-09-22 23:53:43,812 - __main__ - INFO - 📊 Fetching complete dataset for MSFT
2025-09-22 23:53:44,342 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for MSFT
2025-09-22 23:53:44,342 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for MSFT: [Timestamp('2020-09-23 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-24 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-25 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-28 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-29 00:00:00-0400', tz='America/New_York')]
2025-09-22 23:53:44,342 - strategy_layer.strategy_base.MLRandomForest - INFO - 🕒 Data time interval verified: 1 days 00:00:00
2025-09-22 23:53:44,342 - __main__ - INFO - ✅ Loaded 1255 days of data for MSFT
2025-09-22 23:53:44,342 - __main__ - INFO - 📅 Data range: 2020-09-23 00:00:00-04:00 to 2025-09-22 00:00:00-04:00
2025-09-22 23:53:44,342 - __main__ - INFO - 🔄 Fold 1: Train[503:1003] (500 samples), Test[1003:1024] (21 samples)
2025-09-22 23:53:44,342 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:53:44,342 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:53:44,343 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:53:45,614 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:53:45,823 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:53:45,823 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:53:45,823 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:53:45,824 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:53:45,824 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:53:45,825 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:53:46,019 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:53:46,029 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:53:46,029 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:53:46,030 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:53:46,115 - __main__ - INFO - 🔄 Fold 2: Train[524:1024] (500 samples), Test[1024:1045] (21 samples)
2025-09-22 23:53:46,115 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:53:46,115 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:53:46,116 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:53:47,379 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:53:47,594 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:53:47,594 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:53:47,594 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:53:47,595 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:53:47,595 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:53:47,596 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:53:47,795 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:53:47,806 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:53:47,807 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:53:47,807 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:53:47,878 - __main__ - INFO - 🔄 Fold 3: Train[545:1045] (500 samples), Test[1045:1066] (21 samples)
2025-09-22 23:53:47,878 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:53:47,878 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:53:47,879 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:53:49,086 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:53:49,283 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:53:49,283 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:53:49,284 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:53:49,284 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:53:49,284 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:53:49,285 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:53:49,493 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:53:49,501 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:53:49,502 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:53:49,502 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:53:49,567 - __main__ - INFO - 🔄 Fold 4: Train[566:1066] (500 samples), Test[1066:1087] (21 samples)
2025-09-22 23:53:49,567 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:53:49,567 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:53:49,568 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:53:50,813 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:53:51,027 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:53:51,027 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:53:51,027 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:53:51,028 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:53:51,028 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:53:51,029 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:53:51,244 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:53:51,254 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:53:51,255 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:53:51,255 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:53:51,323 - __main__ - INFO - 🔄 Fold 5: Train[587:1087] (500 samples), Test[1087:1108] (21 samples)
2025-09-22 23:53:51,323 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:53:51,323 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:53:51,324 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:53:52,534 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:53:52,745 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:53:52,745 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:53:52,745 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:53:52,746 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:53:52,746 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:53:52,747 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:53:52,947 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:53:52,957 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:53:52,958 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:53:52,958 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:53:53,036 - __main__ - INFO - 🔄 Fold 6: Train[608:1108] (500 samples), Test[1108:1129] (21 samples)
2025-09-22 23:53:53,036 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:53:53,036 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:53:53,038 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:53:54,299 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:53:54,514 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:53:54,514 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:53:54,514 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:53:54,515 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:53:54,515 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:53:54,516 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:02,136 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:02,147 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:54:02,147 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:02,148 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:02,217 - __main__ - INFO - 🔄 Fold 7: Train[629:1129] (500 samples), Test[1129:1150] (21 samples)
2025-09-22 23:54:02,217 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:54:02,217 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:02,218 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:03,438 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:03,642 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:54:03,643 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:03,643 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:03,643 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:54:03,643 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:03,644 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:03,873 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:03,884 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:54:03,884 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:03,884 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:03,954 - __main__ - INFO - 🔄 Fold 8: Train[650:1150] (500 samples), Test[1150:1171] (21 samples)
2025-09-22 23:54:03,954 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:54:03,954 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:03,955 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:05,208 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:18,992 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 23:54:18,992 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 23:54:18,992 - __main__ - INFO - ✅ RandomForest Strategy initialized with confidence threshold: 0.6
2025-09-22 23:54:18,992 - __main__ - INFO - 🚀 Starting model training for 1 tickers: MSFT
2025-09-22 23:54:18,992 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 23:54:18,992 - __main__ - INFO - 🔄 Walk-forward validation: True
2025-09-22 23:54:18,992 - __main__ - INFO - 📊 Walk-forward parameters:
2025-09-22 23:54:18,992 - __main__ - INFO -    - Training window: 500 days
2025-09-22 23:54:18,992 - __main__ - INFO -    - Retrain every: 21 days
2025-09-22 23:54:18,992 - __main__ - INFO -    - Test period: 252 days
2025-09-22 23:54:18,992 - __main__ - INFO - 📊 [1/1] Training model for MSFT
2025-09-22 23:54:18,992 - __main__ - INFO - 🧠 Training ML model for MSFT using Walk-Forward Validation
2025-09-22 23:54:18,992 - __main__ - INFO - 📊 Fetching complete dataset for MSFT
2025-09-22 23:54:19,439 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for MSFT
2025-09-22 23:54:19,440 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for MSFT: [Timestamp('2020-09-23 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-24 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-25 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-28 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-29 00:00:00-0400', tz='America/New_York')]
2025-09-22 23:54:19,440 - strategy_layer.strategy_base.MLRandomForest - INFO - 🕒 Data time interval verified: 1 days 00:00:00
2025-09-22 23:54:19,440 - __main__ - INFO - ✅ Loaded 1255 days of data for MSFT
2025-09-22 23:54:19,440 - __main__ - INFO - 📅 Data range: 2020-09-23 00:00:00-04:00 to 2025-09-22 00:00:00-04:00
2025-09-22 23:54:19,440 - __main__ - INFO - 🔄 Fold 1: Train[503:1003] (500 samples), Test[1003:1024] (21 samples)
2025-09-22 23:54:19,440 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:54:19,440 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:19,442 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:20,696 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:20,905 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:54:20,905 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:20,905 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:20,906 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:54:20,906 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:20,906 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:21,103 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:21,114 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:54:21,114 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:21,114 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:21,189 - __main__ - INFO - 🔄 Fold 2: Train[524:1024] (500 samples), Test[1024:1045] (21 samples)
2025-09-22 23:54:21,190 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:54:21,190 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:21,191 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:22,503 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:22,706 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:54:22,707 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:22,707 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:22,707 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:54:22,707 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:22,708 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:22,951 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:22,961 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:54:22,962 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:22,962 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:23,035 - __main__ - INFO - 🔄 Fold 3: Train[545:1045] (500 samples), Test[1045:1066] (21 samples)
2025-09-22 23:54:23,035 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:54:23,035 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:23,036 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:24,260 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:24,468 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:54:24,468 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:24,468 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:24,469 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:54:24,469 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:24,469 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:24,667 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:24,678 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:54:24,679 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:24,679 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:24,746 - __main__ - INFO - 🔄 Fold 4: Train[566:1066] (500 samples), Test[1066:1087] (21 samples)
2025-09-22 23:54:24,747 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:54:24,747 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:24,747 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:25,997 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:26,204 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:54:26,206 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:26,206 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:26,206 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:54:26,206 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:26,207 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:26,419 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:26,430 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:54:26,430 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:26,430 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:26,500 - __main__ - INFO - 🔄 Fold 5: Train[587:1087] (500 samples), Test[1087:1108] (21 samples)
2025-09-22 23:54:26,500 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:54:26,500 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:26,501 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:27,714 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:27,924 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:54:27,924 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:27,925 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:27,925 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:54:27,925 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:27,926 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:28,114 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:28,125 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:54:28,125 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:28,125 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:28,196 - __main__ - INFO - 🔄 Fold 6: Train[608:1108] (500 samples), Test[1108:1129] (21 samples)
2025-09-22 23:54:28,196 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:54:28,196 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:28,197 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:29,445 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:29,650 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:54:29,650 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:29,650 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:29,651 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:54:29,651 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:29,652 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:29,875 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:29,886 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:54:29,887 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:29,887 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:29,956 - __main__ - INFO - 🔄 Fold 7: Train[629:1129] (500 samples), Test[1129:1150] (21 samples)
2025-09-22 23:54:29,956 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:54:29,956 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:29,957 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:31,181 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:31,395 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:54:31,395 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:31,395 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:31,396 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:54:31,396 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:31,397 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:31,615 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:31,624 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:54:31,624 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:31,624 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:31,695 - __main__ - INFO - 🔄 Fold 8: Train[650:1150] (500 samples), Test[1150:1171] (21 samples)
2025-09-22 23:54:31,695 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:54:31,695 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:31,696 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:32,991 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:33,203 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:54:33,204 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:33,204 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:33,204 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:54:33,204 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:33,205 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:33,389 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:33,399 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:54:33,399 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:33,399 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:33,466 - __main__ - INFO - 🔄 Fold 9: Train[671:1171] (500 samples), Test[1171:1192] (21 samples)
2025-09-22 23:54:33,466 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:54:33,466 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:33,467 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:34,806 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:35,014 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:54:35,015 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:35,015 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:35,015 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:54:35,015 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:35,016 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:35,203 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:35,212 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:54:35,213 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:35,213 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:35,281 - __main__ - INFO - 🔄 Fold 10: Train[692:1192] (500 samples), Test[1192:1213] (21 samples)
2025-09-22 23:54:35,281 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:54:35,281 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:35,282 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:36,647 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:36,854 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:54:36,855 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:36,855 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:36,855 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:54:36,855 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:36,856 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:37,055 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:37,066 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:54:37,066 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:37,066 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:37,136 - __main__ - INFO - 🔄 Fold 11: Train[713:1213] (500 samples), Test[1213:1234] (21 samples)
2025-09-22 23:54:37,137 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:54:37,137 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:37,138 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:38,406 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:38,613 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:54:38,613 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:38,613 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:38,614 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:54:38,614 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:38,615 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:38,836 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:38,847 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:54:38,848 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:38,848 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:38,916 - __main__ - INFO - 🔄 Fold 12: Train[734:1234] (500 samples), Test[1234:1255] (21 samples)
2025-09-22 23:54:38,916 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:54:38,916 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:38,917 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:40,170 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:40,379 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:54:40,380 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:40,380 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:40,380 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:54:40,380 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:40,381 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:40,634 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:40,644 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:54:40,645 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:40,645 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:40,713 - __main__ - INFO - 📊 Aggregating results from 12 successful folds
2025-09-22 23:54:40,716 - __main__ - INFO - 🎯 Walk-Forward Validation Results:
2025-09-22 23:54:40,716 - __main__ - INFO -   - Total folds: 12
2025-09-22 23:54:40,716 - __main__ - INFO -   - Total predictions: 192
2025-09-22 23:54:40,716 - __main__ - INFO -   - Final Accuracy: 0.474
2025-09-22 23:54:40,716 - __main__ - INFO -   - Final Precision: 0.559
2025-09-22 23:54:40,716 - __main__ - INFO -   - Final Recall: 0.544
2025-09-22 23:54:40,716 - __main__ - INFO -   - Final F1-Score: 0.551
2025-09-22 23:54:40,716 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-22 23:54:40,716 - __main__ - INFO - ✅ Walk-forward F1 (0.551) meets threshold (0.500)
2025-09-22 23:54:40,716 - strategy_layer.strategy_base.MLRandomForest - INFO - Training final deployment model for MSFT
2025-09-22 23:54:40,716 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for MSFT with 500 rows
2025-09-22 23:54:40,716 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 23:54:40,716 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:54:40,716 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:54:40,717 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:54:41,930 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to add market data features: 'close'
2025-09-22 23:54:42,163 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:54:42,163 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (500, 24)
2025-09-22 23:54:42,163 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['atr_14', 'close', 'high', 'low', 'macd_hist', 'momentum_acceleration_10_20', 'momentum_acceleration_5_10', 'momentum_decay_10', 'momentum_decay_5', 'open', 'price_to_sma_50', 'regime_bear', 'regime_bull', 'regime_neutral', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'rsi_14', 'sma_50', 'sma_50_slope', 'spy_returns', 'volatility_regime', 'volume', 'volume_ratio_20']
2025-09-22 23:54:42,163 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 23:54:42,163 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:54:42,163 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:54:42,164 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Train/Test Split for MSFT:
2025-09-22 23:54:42,164 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Training samples: 396 (2023-09-25 00:00:00-04:00 to 2025-04-23 00:00:00-04:00)
2025-09-22 23:54:42,164 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test samples: 99 (2025-04-24 00:00:00-04:00 to 2025-09-15 00:00:00-04:00)
2025-09-22 23:54:42,164 - strategy_layer.strategy_base.MLRandomForest - INFO -   - No overlap: Training ends 2025-04-23 00:00:00-04:00, Test starts 2025-04-24 00:00:00-04:00
2025-09-22 23:55:07,150 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for MSFT with:
2025-09-22 23:55:07,150 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': 'sqrt', 'min_samples_leaf': 1, 'min_samples_split': 2, 'n_estimators': 50}
2025-09-22 23:55:07,150 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.515
2025-09-22 23:55:07,150 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.374
2025-09-22 23:55:07,150 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.598
2025-09-22 23:55:07,150 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.374
2025-09-22 23:55:07,150 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.371
2025-09-22 23:55:07,176 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Top 10 Feature Importances for MSFT:
2025-09-22 23:55:07,177 - strategy_layer.strategy_base.MLRandomForest - INFO -    1. atr_14                    0.0962
2025-09-22 23:55:07,177 - strategy_layer.strategy_base.MLRandomForest - INFO -    2. sma_50_slope              0.0935
2025-09-22 23:55:07,177 - strategy_layer.strategy_base.MLRandomForest - INFO -    3. rsi_14                    0.0907
2025-09-22 23:55:07,177 - strategy_layer.strategy_base.MLRandomForest - INFO -    4. price_to_sma_50           0.0859
2025-09-22 23:55:07,177 - strategy_layer.strategy_base.MLRandomForest - INFO -    5. volume_ratio_20           0.0778
2025-09-22 23:55:07,177 - strategy_layer.strategy_base.MLRandomForest - INFO -    6. momentum_acceleration_10_20 0.0735
2025-09-22 23:55:07,177 - strategy_layer.strategy_base.MLRandomForest - INFO -    7. relative_momentum_20      0.0702
2025-09-22 23:55:07,177 - strategy_layer.strategy_base.MLRandomForest - INFO -    8. momentum_decay_10         0.0682
2025-09-22 23:55:07,177 - strategy_layer.strategy_base.MLRandomForest - INFO -    9. momentum_decay_5          0.0682
2025-09-22 23:55:07,177 - strategy_layer.strategy_base.MLRandomForest - INFO -   10. relative_momentum_5       0.0675
2025-09-22 23:55:07,177 - strategy_layer.strategy_base.MLRandomForest - WARNING - Model for MSFT did not meet performance threshold (F1: 0.371)
2025-09-22 23:55:07,177 - __main__ - ERROR - ❌ Failed to train final deployment model
2025-09-22 23:55:07,178 - __main__ - ERROR - ❌ Model training failed for MSFT
2025-09-22 23:55:07,178 - __main__ - ERROR - ❌ Failed to train model for MSFT
2025-09-22 23:55:07,178 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 23:55:07,178 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 23:55:31,738 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 23:55:31,738 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 23:55:31,738 - __main__ - INFO - ✅ RandomForest Strategy initialized with confidence threshold: 0.6
2025-09-22 23:55:31,738 - __main__ - INFO - 🚀 Starting model training for 1 tickers: MSFT
2025-09-22 23:55:31,738 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 23:55:31,738 - __main__ - INFO - 🔄 Walk-forward validation: True
2025-09-22 23:55:31,738 - __main__ - INFO - 📊 Walk-forward parameters:
2025-09-22 23:55:31,738 - __main__ - INFO -    - Training window: 500 days
2025-09-22 23:55:31,738 - __main__ - INFO -    - Retrain every: 21 days
2025-09-22 23:55:31,738 - __main__ - INFO -    - Test period: 252 days
2025-09-22 23:55:31,738 - __main__ - INFO - 📊 [1/1] Training model for MSFT
2025-09-22 23:55:31,738 - __main__ - INFO - 🧠 Training ML model for MSFT using Walk-Forward Validation
2025-09-22 23:55:31,738 - __main__ - INFO - 📊 Fetching complete dataset for MSFT
2025-09-22 23:55:32,192 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for MSFT
2025-09-22 23:55:32,192 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for MSFT: [Timestamp('2020-09-23 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-24 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-25 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-28 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-29 00:00:00-0400', tz='America/New_York')]
2025-09-22 23:55:32,192 - strategy_layer.strategy_base.MLRandomForest - INFO - 🕒 Data time interval verified: 1 days 00:00:00
2025-09-22 23:55:32,193 - __main__ - INFO - ✅ Loaded 1255 days of data for MSFT
2025-09-22 23:55:32,193 - __main__ - INFO - 📅 Data range: 2020-09-23 00:00:00-04:00 to 2025-09-22 00:00:00-04:00
2025-09-22 23:55:32,193 - __main__ - INFO - 🔄 Fold 1: Train[503:1003] (500 samples), Test[1003:1024] (21 samples)
2025-09-22 23:55:32,193 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:55:32,193 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:55:32,194 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:55:33,819 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:55:33,820 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:55:33,820 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:55:33,820 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:55:33,820 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:55:33,821 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:55:34,024 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:55:34,025 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:55:34,025 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:55:34,122 - __main__ - INFO - 🔄 Fold 2: Train[524:1024] (500 samples), Test[1024:1045] (21 samples)
2025-09-22 23:55:34,122 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:55:34,123 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:55:34,124 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:55:35,672 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:55:35,672 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:55:35,672 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:55:35,673 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:55:35,673 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:55:35,674 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:55:35,979 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:55:35,979 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:55:35,979 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:55:36,077 - __main__ - INFO - 🔄 Fold 3: Train[545:1045] (500 samples), Test[1045:1066] (21 samples)
2025-09-22 23:55:36,077 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:55:36,077 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:55:36,078 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:55:37,794 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:55:37,794 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:55:37,794 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:55:37,795 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:55:37,795 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:55:37,796 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:55:38,052 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:55:38,052 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:55:38,052 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:55:38,140 - __main__ - INFO - 🔄 Fold 4: Train[566:1066] (500 samples), Test[1066:1087] (21 samples)
2025-09-22 23:55:38,140 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:55:38,140 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:55:38,142 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:55:39,745 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:55:39,745 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:55:39,745 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:55:39,746 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:55:39,746 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:55:39,747 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:55:39,951 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:55:39,951 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:55:39,951 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:55:40,032 - __main__ - INFO - 🔄 Fold 5: Train[587:1087] (500 samples), Test[1087:1108] (21 samples)
2025-09-22 23:55:40,033 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:55:40,033 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:55:40,034 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:55:41,622 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:55:41,622 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:55:41,622 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:55:41,623 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:55:41,623 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:55:41,624 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:55:41,836 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:55:41,836 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:55:41,837 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:55:41,907 - __main__ - INFO - 🔄 Fold 6: Train[608:1108] (500 samples), Test[1108:1129] (21 samples)
2025-09-22 23:55:41,907 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:55:41,908 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:55:41,909 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:55:43,528 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:55:43,528 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:55:43,528 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:55:43,529 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:55:43,529 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:55:43,530 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:55:43,734 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:55:43,735 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:55:43,735 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:55:43,816 - __main__ - INFO - 🔄 Fold 7: Train[629:1129] (500 samples), Test[1129:1150] (21 samples)
2025-09-22 23:55:43,817 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:55:43,817 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:55:43,818 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:55:45,500 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:55:45,500 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:55:45,500 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:55:45,501 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:55:45,501 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:55:45,502 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:55:45,705 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:55:45,706 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:55:45,706 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:55:45,788 - __main__ - INFO - 🔄 Fold 8: Train[650:1150] (500 samples), Test[1150:1171] (21 samples)
2025-09-22 23:55:45,788 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:55:45,788 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:55:45,790 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:55:47,365 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:55:47,366 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:55:47,366 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:55:47,366 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:55:47,366 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:55:47,367 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:55:47,570 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:55:47,571 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:55:47,571 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:55:47,653 - __main__ - INFO - 🔄 Fold 9: Train[671:1171] (500 samples), Test[1171:1192] (21 samples)
2025-09-22 23:55:47,653 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:55:47,653 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:55:47,655 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:55:49,239 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:55:49,240 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:55:49,240 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:55:49,240 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:55:49,241 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:55:49,241 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:55:49,451 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:55:49,451 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:55:49,451 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:55:49,531 - __main__ - INFO - 🔄 Fold 10: Train[692:1192] (500 samples), Test[1192:1213] (21 samples)
2025-09-22 23:55:49,532 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:55:49,532 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:55:49,533 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:55:51,096 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:55:51,097 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:55:51,097 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:55:51,098 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:55:51,098 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:55:51,099 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:55:51,310 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:55:51,311 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:55:51,311 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:55:51,394 - __main__ - INFO - 🔄 Fold 11: Train[713:1213] (500 samples), Test[1213:1234] (21 samples)
2025-09-22 23:55:51,394 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:55:51,394 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:55:51,395 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:55:52,980 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:55:52,980 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:55:52,980 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:55:52,981 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:55:52,981 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:55:52,982 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:55:53,202 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:55:53,202 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:55:53,202 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:55:53,284 - __main__ - INFO - 🔄 Fold 12: Train[734:1234] (500 samples), Test[1234:1255] (21 samples)
2025-09-22 23:55:53,284 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:55:53,284 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:55:53,285 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:55:54,839 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:55:54,839 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:55:54,839 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:55:54,840 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:55:54,840 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:55:54,841 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:55:55,059 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:55:55,060 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:55:55,060 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:55:55,180 - __main__ - INFO - 📊 Aggregating results from 12 successful folds
2025-09-22 23:55:55,183 - __main__ - INFO - 🎯 Walk-Forward Validation Results:
2025-09-22 23:55:55,183 - __main__ - INFO -   - Total folds: 12
2025-09-22 23:55:55,183 - __main__ - INFO -   - Total predictions: 192
2025-09-22 23:55:55,183 - __main__ - INFO -   - Final Accuracy: 0.536
2025-09-22 23:55:55,183 - __main__ - INFO -   - Final Precision: 0.615
2025-09-22 23:55:55,183 - __main__ - INFO -   - Final Recall: 0.588
2025-09-22 23:55:55,183 - __main__ - INFO -   - Final F1-Score: 0.601
2025-09-22 23:55:55,183 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-22 23:55:55,183 - __main__ - INFO - ✅ Walk-forward F1 (0.601) meets threshold (0.500)
2025-09-22 23:55:55,183 - strategy_layer.strategy_base.MLRandomForest - INFO - Training final deployment model for MSFT
2025-09-22 23:55:55,184 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for MSFT with 500 rows
2025-09-22 23:55:55,184 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 23:55:55,184 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:55:55,184 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:55:55,185 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:55:56,765 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:55:56,766 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (500, 24)
2025-09-22 23:55:56,766 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['atr_14', 'close', 'high', 'low', 'macd_hist', 'momentum_acceleration_10_20', 'momentum_acceleration_5_10', 'momentum_decay_10', 'momentum_decay_5', 'open', 'price_to_sma_50', 'regime_bear', 'regime_bull', 'regime_neutral', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'rsi_14', 'sma_50', 'sma_50_slope', 'spy_returns', 'volatility_regime', 'volume', 'volume_ratio_20']
2025-09-22 23:55:56,766 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 23:55:56,766 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:55:56,766 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:55:56,767 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Train/Test Split for MSFT:
2025-09-22 23:55:56,767 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Training samples: 396 (2023-09-25 00:00:00-04:00 to 2025-04-23 00:00:00-04:00)
2025-09-22 23:55:56,767 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test samples: 99 (2025-04-24 00:00:00-04:00 to 2025-09-15 00:00:00-04:00)
2025-09-22 23:55:56,767 - strategy_layer.strategy_base.MLRandomForest - INFO -   - No overlap: Training ends 2025-04-23 00:00:00-04:00, Test starts 2025-04-24 00:00:00-04:00
2025-09-22 23:56:27,954 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for MSFT with:
2025-09-22 23:56:27,954 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 20, 'max_features': 'sqrt', 'min_samples_leaf': 1, 'min_samples_split': 2, 'n_estimators': 50}
2025-09-22 23:56:27,954 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.476
2025-09-22 23:56:27,954 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.343
2025-09-22 23:56:27,954 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.568
2025-09-22 23:56:27,954 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.343
2025-09-22 23:56:27,954 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.330
2025-09-22 23:56:27,981 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Top 10 Feature Importances for MSFT:
2025-09-22 23:56:27,981 - strategy_layer.strategy_base.MLRandomForest - INFO -    1. sma_50_slope              0.1039
2025-09-22 23:56:27,981 - strategy_layer.strategy_base.MLRandomForest - INFO -    2. atr_14                    0.0889
2025-09-22 23:56:27,981 - strategy_layer.strategy_base.MLRandomForest - INFO -    3. price_to_sma_50           0.0875
2025-09-22 23:56:27,981 - strategy_layer.strategy_base.MLRandomForest - INFO -    4. relative_momentum_5       0.0814
2025-09-22 23:56:27,981 - strategy_layer.strategy_base.MLRandomForest - INFO -    5. relative_momentum_20      0.0799
2025-09-22 23:56:27,981 - strategy_layer.strategy_base.MLRandomForest - INFO -    6. volume_ratio_20           0.0757
2025-09-22 23:56:27,981 - strategy_layer.strategy_base.MLRandomForest - INFO -    7. momentum_acceleration_10_20 0.0735
2025-09-22 23:56:27,981 - strategy_layer.strategy_base.MLRandomForest - INFO -    8. rsi_14                    0.0724
2025-09-22 23:56:27,981 - strategy_layer.strategy_base.MLRandomForest - INFO -    9. momentum_decay_5          0.0697
2025-09-22 23:56:27,981 - strategy_layer.strategy_base.MLRandomForest - INFO -   10. momentum_acceleration_5_10 0.0619
2025-09-22 23:56:27,981 - strategy_layer.strategy_base.MLRandomForest - WARNING - Model for MSFT did not meet performance threshold (F1: 0.330)
2025-09-22 23:56:27,982 - __main__ - ERROR - ❌ Failed to train final deployment model
2025-09-22 23:56:27,982 - __main__ - ERROR - ❌ Model training failed for MSFT
2025-09-22 23:56:27,982 - __main__ - ERROR - ❌ Failed to train model for MSFT
2025-09-22 23:56:27,982 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-22 23:56:27,982 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-22 23:58:59,250 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-22 23:58:59,250 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-22 23:58:59,251 - __main__ - INFO - ✅ RandomForest Strategy initialized with confidence threshold: 0.6
2025-09-22 23:58:59,251 - __main__ - INFO - 🚀 Starting model training for 1 tickers: MSFT
2025-09-22 23:58:59,251 - __main__ - INFO - 🔄 Force retrain: True
2025-09-22 23:58:59,251 - __main__ - INFO - 🔄 Walk-forward validation: True
2025-09-22 23:58:59,251 - __main__ - INFO - 📊 Walk-forward parameters:
2025-09-22 23:58:59,251 - __main__ - INFO -    - Training window: 500 days
2025-09-22 23:58:59,251 - __main__ - INFO -    - Retrain every: 21 days
2025-09-22 23:58:59,251 - __main__ - INFO -    - Test period: 252 days
2025-09-22 23:58:59,251 - __main__ - INFO - 📊 [1/1] Training model for MSFT
2025-09-22 23:58:59,251 - __main__ - INFO - 🧠 Training ML model for MSFT using Walk-Forward Validation
2025-09-22 23:58:59,251 - __main__ - INFO - 📊 Fetching complete dataset for MSFT
2025-09-22 23:58:59,678 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for MSFT
2025-09-22 23:58:59,678 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for MSFT: [Timestamp('2020-09-23 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-24 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-25 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-28 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-29 00:00:00-0400', tz='America/New_York')]
2025-09-22 23:58:59,678 - strategy_layer.strategy_base.MLRandomForest - INFO - 🕒 Data time interval verified: 1 days 00:00:00
2025-09-22 23:58:59,678 - __main__ - INFO - ✅ Loaded 1255 days of data for MSFT
2025-09-22 23:58:59,678 - __main__ - INFO - 📅 Data range: 2020-09-23 00:00:00-04:00 to 2025-09-22 00:00:00-04:00
2025-09-22 23:58:59,678 - __main__ - INFO - 🔄 Fold 1: Train[503:1003] (500 samples), Test[1003:1024] (21 samples)
2025-09-22 23:58:59,678 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:58:59,678 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:58:59,680 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:59:01,187 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:59:01,187 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:59:01,187 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:59:01,188 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:59:01,188 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:59:01,189 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:59:01,445 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:59:01,445 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:59:01,445 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:59:01,574 - __main__ - INFO - 🔄 Fold 2: Train[524:1024] (500 samples), Test[1024:1045] (21 samples)
2025-09-22 23:59:01,574 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:59:01,574 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:59:01,575 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:59:03,054 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:59:03,054 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:59:03,054 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:59:03,055 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:59:03,055 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:59:03,056 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:59:03,293 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:59:03,294 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:59:03,294 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:59:03,362 - __main__ - INFO - 🔄 Fold 3: Train[545:1045] (500 samples), Test[1045:1066] (21 samples)
2025-09-22 23:59:03,362 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:59:03,363 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:59:03,364 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:59:04,809 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:59:04,809 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:59:04,809 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:59:04,810 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:59:04,810 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:59:04,811 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:59:05,081 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:59:05,081 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:59:05,081 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:59:05,150 - __main__ - INFO - 🔄 Fold 4: Train[566:1066] (500 samples), Test[1066:1087] (21 samples)
2025-09-22 23:59:05,150 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:59:05,151 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:59:05,152 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:59:06,645 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:59:06,646 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:59:06,646 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:59:06,646 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:59:06,646 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:59:06,647 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:59:06,881 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:59:06,881 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:59:06,881 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:59:06,949 - __main__ - INFO - 🔄 Fold 5: Train[587:1087] (500 samples), Test[1087:1108] (21 samples)
2025-09-22 23:59:06,949 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:59:06,949 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:59:06,950 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:59:08,532 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:59:08,532 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:59:08,532 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:59:08,533 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:59:08,533 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:59:08,534 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:59:08,741 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:59:08,741 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:59:08,741 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:59:08,808 - __main__ - INFO - 🔄 Fold 6: Train[608:1108] (500 samples), Test[1108:1129] (21 samples)
2025-09-22 23:59:08,808 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:59:08,808 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:59:08,809 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:59:10,298 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:59:10,299 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:59:10,299 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:59:10,299 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:59:10,299 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:59:10,300 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:59:10,513 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:59:10,513 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:59:10,513 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:59:10,581 - __main__ - INFO - 🔄 Fold 7: Train[629:1129] (500 samples), Test[1129:1150] (21 samples)
2025-09-22 23:59:10,581 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:59:10,581 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:59:10,582 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:59:12,074 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:59:12,075 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:59:12,075 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:59:12,075 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:59:12,075 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:59:12,076 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:59:12,278 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:59:12,278 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:59:12,278 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:59:12,354 - __main__ - INFO - 🔄 Fold 8: Train[650:1150] (500 samples), Test[1150:1171] (21 samples)
2025-09-22 23:59:12,354 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:59:12,354 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:59:12,355 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:59:14,005 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:59:14,005 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:59:14,005 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:59:14,006 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:59:14,006 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:59:14,007 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:59:14,230 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:59:14,231 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:59:14,231 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:59:14,298 - __main__ - INFO - 🔄 Fold 9: Train[671:1171] (500 samples), Test[1171:1192] (21 samples)
2025-09-22 23:59:14,299 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:59:14,299 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:59:14,300 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:59:15,820 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:59:15,821 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:59:15,821 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:59:15,821 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:59:15,821 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:59:15,822 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:59:16,036 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:59:16,037 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:59:16,037 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:59:16,116 - __main__ - INFO - 🔄 Fold 10: Train[692:1192] (500 samples), Test[1192:1213] (21 samples)
2025-09-22 23:59:16,116 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:59:16,116 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:59:16,117 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:59:17,580 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:59:17,580 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:59:17,580 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:59:17,581 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:59:17,581 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:59:17,582 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:59:17,775 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:59:17,775 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:59:17,775 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:59:17,845 - __main__ - INFO - 🔄 Fold 11: Train[713:1213] (500 samples), Test[1213:1234] (21 samples)
2025-09-22 23:59:17,845 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:59:17,845 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:59:17,846 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:59:19,315 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:59:19,316 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:59:19,316 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:59:19,316 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:59:19,316 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:59:19,317 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:59:19,516 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:59:19,517 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:59:19,517 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:59:19,584 - __main__ - INFO - 🔄 Fold 12: Train[734:1234] (500 samples), Test[1234:1255] (21 samples)
2025-09-22 23:59:19,584 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:59:19,584 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:59:19,585 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:59:21,054 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:59:21,055 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:59:21,055 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:59:21,055 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-22 23:59:21,055 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:59:21,056 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:59:21,278 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 24)
2025-09-22 23:59:21,278 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:59:21,278 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:59:21,345 - __main__ - INFO - 📊 Aggregating results from 12 successful folds
2025-09-22 23:59:21,348 - __main__ - INFO - 🎯 Walk-Forward Validation Results:
2025-09-22 23:59:21,348 - __main__ - INFO -   - Total folds: 12
2025-09-22 23:59:21,348 - __main__ - INFO -   - Total predictions: 192
2025-09-22 23:59:21,348 - __main__ - INFO -   - Final Accuracy: 0.536
2025-09-22 23:59:21,348 - __main__ - INFO -   - Final Precision: 0.615
2025-09-22 23:59:21,348 - __main__ - INFO -   - Final Recall: 0.588
2025-09-22 23:59:21,348 - __main__ - INFO -   - Final F1-Score: 0.601
2025-09-22 23:59:21,348 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-22 23:59:21,349 - __main__ - INFO - ✅ Walk-forward F1 (0.601) meets threshold (0.500)
2025-09-22 23:59:21,349 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-22 23:59:21,349 - strategy_layer.strategy_base.MLRandomForest - INFO - Training final deployment model for MSFT
2025-09-22 23:59:21,349 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for MSFT with 500 rows
2025-09-22 23:59:21,349 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-22 23:59:21,349 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-22 23:59:21,349 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-22 23:59:21,350 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-22 23:59:22,822 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 24)
2025-09-22 23:59:22,822 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (500, 24)
2025-09-22 23:59:22,822 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['atr_14', 'close', 'high', 'low', 'macd_hist', 'momentum_acceleration_10_20', 'momentum_acceleration_5_10', 'momentum_decay_10', 'momentum_decay_5', 'open', 'price_to_sma_50', 'regime_bear', 'regime_bull', 'regime_neutral', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'rsi_14', 'sma_50', 'sma_50_slope', 'spy_returns', 'volatility_regime', 'volume', 'volume_ratio_20']
2025-09-22 23:59:22,822 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-22 23:59:22,822 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 18 core features from dataframe
2025-09-22 23:59:22,822 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20']
2025-09-22 23:59:22,823 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Train/Test Split for MSFT:
2025-09-22 23:59:22,823 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Training samples: 396 (2023-09-25 00:00:00-04:00 to 2025-04-23 00:00:00-04:00)
2025-09-22 23:59:22,823 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test samples: 99 (2025-04-24 00:00:00-04:00 to 2025-09-15 00:00:00-04:00)
2025-09-22 23:59:22,823 - strategy_layer.strategy_base.MLRandomForest - INFO -   - No overlap: Training ends 2025-04-23 00:00:00-04:00, Test starts 2025-04-24 00:00:00-04:00
2025-09-22 23:59:47,516 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for MSFT with:
2025-09-22 23:59:47,517 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 20, 'max_features': 'sqrt', 'min_samples_leaf': 1, 'min_samples_split': 2, 'n_estimators': 50}
2025-09-22 23:59:47,517 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.476
2025-09-22 23:59:47,517 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.343
2025-09-22 23:59:47,517 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.568
2025-09-22 23:59:47,517 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.343
2025-09-22 23:59:47,517 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.330
2025-09-22 23:59:47,543 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Top 10 Feature Importances for MSFT:
2025-09-22 23:59:47,543 - strategy_layer.strategy_base.MLRandomForest - INFO -    1. sma_50_slope              0.1039
2025-09-22 23:59:47,543 - strategy_layer.strategy_base.MLRandomForest - INFO -    2. atr_14                    0.0889
2025-09-22 23:59:47,543 - strategy_layer.strategy_base.MLRandomForest - INFO -    3. price_to_sma_50           0.0875
2025-09-22 23:59:47,543 - strategy_layer.strategy_base.MLRandomForest - INFO -    4. relative_momentum_5       0.0814
2025-09-22 23:59:47,543 - strategy_layer.strategy_base.MLRandomForest - INFO -    5. relative_momentum_20      0.0799
2025-09-22 23:59:47,543 - strategy_layer.strategy_base.MLRandomForest - INFO -    6. volume_ratio_20           0.0757
2025-09-22 23:59:47,543 - strategy_layer.strategy_base.MLRandomForest - INFO -    7. momentum_acceleration_10_20 0.0735
2025-09-22 23:59:47,543 - strategy_layer.strategy_base.MLRandomForest - INFO -    8. rsi_14                    0.0724
2025-09-22 23:59:47,543 - strategy_layer.strategy_base.MLRandomForest - INFO -    9. momentum_decay_5          0.0697
2025-09-22 23:59:47,543 - strategy_layer.strategy_base.MLRandomForest - INFO -   10. momentum_acceleration_5_10 0.0619
2025-09-22 23:59:47,550 - __main__ - INFO - 💾 Final model saved for MSFT deployment
2025-09-22 23:59:47,550 - __main__ - INFO - ✅ Successfully trained model for MSFT
2025-09-22 23:59:47,550 - __main__ - INFO - ✅ Successfully trained model for MSFT
2025-09-22 23:59:47,550 - __main__ - INFO - 🎯 Training completed: 1/1 models trained successfully
2025-09-22 23:59:47,550 - __main__ - INFO - 🎉 All models trained successfully!
2025-09-23 00:00:51,948 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-23 00:00:51,948 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-23 00:00:51,949 - __main__ - INFO - ✅ RandomForest Strategy initialized with confidence threshold: 0.6
2025-09-23 00:00:51,949 - __main__ - INFO - 🚀 Starting model training for 1 tickers: MSFT
2025-09-23 00:00:51,949 - __main__ - INFO - 🔄 Force retrain: True
2025-09-23 00:00:51,949 - __main__ - INFO - 🔄 Walk-forward validation: True
2025-09-23 00:00:51,949 - __main__ - INFO - 📊 Walk-forward parameters:
2025-09-23 00:00:51,949 - __main__ - INFO -    - Training window: 500 days
2025-09-23 00:00:51,949 - __main__ - INFO -    - Retrain every: 21 days
2025-09-23 00:00:51,949 - __main__ - INFO -    - Test period: 252 days
2025-09-23 00:00:51,949 - __main__ - INFO - 📊 [1/1] Training model for MSFT
2025-09-23 00:00:51,949 - __main__ - INFO - 🧠 Training ML model for MSFT using Walk-Forward Validation
2025-09-23 00:00:51,949 - __main__ - INFO - 📊 Fetching complete dataset for MSFT
2025-09-23 00:00:52,454 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for MSFT
2025-09-23 00:00:52,454 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for MSFT: [Timestamp('2020-09-23 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-24 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-25 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-28 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-29 00:00:00-0400', tz='America/New_York')]
2025-09-23 00:00:52,454 - strategy_layer.strategy_base.MLRandomForest - INFO - 🕒 Data time interval verified: 1 days 00:00:00
2025-09-23 00:00:52,455 - __main__ - INFO - ✅ Loaded 1255 days of data for MSFT
2025-09-23 00:00:52,455 - __main__ - INFO - 📅 Data range: 2020-09-23 00:00:00-04:00 to 2025-09-22 00:00:00-04:00
2025-09-23 00:00:52,455 - __main__ - INFO - 🔄 Fold 1: Train[503:1003] (500 samples), Test[1003:1024] (21 samples)
2025-09-23 00:00:52,455 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-23 00:00:52,455 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:00:52,457 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:00:54,233 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 29)
2025-09-23 00:00:54,234 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 23 core features from dataframe
2025-09-23 00:00:54,234 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r']
2025-09-23 00:00:54,234 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-23 00:00:54,235 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:00:54,236 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:00:54,450 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 29)
2025-09-23 00:00:54,451 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 23 core features from dataframe
2025-09-23 00:00:54,451 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r']
2025-09-23 00:00:54,537 - __main__ - INFO - 🔄 Fold 2: Train[524:1024] (500 samples), Test[1024:1045] (21 samples)
2025-09-23 00:00:54,538 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-23 00:00:54,538 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:00:54,539 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:00:56,379 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 29)
2025-09-23 00:00:56,379 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 23 core features from dataframe
2025-09-23 00:00:56,379 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r']
2025-09-23 00:00:56,380 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-23 00:00:56,380 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:00:56,381 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:00:56,599 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 29)
2025-09-23 00:00:56,599 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 23 core features from dataframe
2025-09-23 00:00:56,599 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r']
2025-09-23 00:00:56,667 - __main__ - INFO - 🔄 Fold 3: Train[545:1045] (500 samples), Test[1045:1066] (21 samples)
2025-09-23 00:00:56,667 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-23 00:00:56,667 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:00:56,669 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:00:58,453 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 29)
2025-09-23 00:00:58,454 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 23 core features from dataframe
2025-09-23 00:00:58,454 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r']
2025-09-23 00:00:58,454 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-23 00:00:58,454 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:00:58,455 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:00:58,659 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 29)
2025-09-23 00:00:58,659 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 23 core features from dataframe
2025-09-23 00:00:58,659 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r']
2025-09-23 00:00:58,730 - __main__ - INFO - 🔄 Fold 4: Train[566:1066] (500 samples), Test[1066:1087] (21 samples)
2025-09-23 00:00:58,730 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-23 00:00:58,730 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:00:58,731 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:01:00,562 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 29)
2025-09-23 00:01:00,563 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 23 core features from dataframe
2025-09-23 00:01:00,563 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r']
2025-09-23 00:01:00,564 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-23 00:01:00,564 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:01:00,565 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:01:00,844 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 29)
2025-09-23 00:01:00,844 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 23 core features from dataframe
2025-09-23 00:01:00,844 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r']
2025-09-23 00:01:00,919 - __main__ - INFO - 🔄 Fold 5: Train[587:1087] (500 samples), Test[1087:1108] (21 samples)
2025-09-23 00:01:00,919 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-23 00:01:00,919 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:01:00,920 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:01:02,701 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 29)
2025-09-23 00:01:02,702 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 23 core features from dataframe
2025-09-23 00:01:02,702 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r']
2025-09-23 00:01:02,702 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-23 00:01:02,702 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:01:02,703 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:01:02,951 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 29)
2025-09-23 00:01:02,952 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 23 core features from dataframe
2025-09-23 00:01:02,952 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r']
2025-09-23 00:01:03,020 - __main__ - INFO - 🔄 Fold 6: Train[608:1108] (500 samples), Test[1108:1129] (21 samples)
2025-09-23 00:01:03,021 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-23 00:01:03,021 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:01:03,022 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:01:04,813 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 29)
2025-09-23 00:01:04,814 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 23 core features from dataframe
2025-09-23 00:01:04,814 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r']
2025-09-23 00:01:04,814 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-23 00:01:04,814 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:01:04,815 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:01:05,045 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 29)
2025-09-23 00:01:05,045 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 23 core features from dataframe
2025-09-23 00:01:05,045 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r']
2025-09-23 00:01:05,113 - __main__ - INFO - 🔄 Fold 7: Train[629:1129] (500 samples), Test[1129:1150] (21 samples)
2025-09-23 00:01:05,113 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-23 00:01:05,113 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:01:05,115 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:01:06,913 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 29)
2025-09-23 00:01:06,914 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 23 core features from dataframe
2025-09-23 00:01:06,914 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r']
2025-09-23 00:01:06,914 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-23 00:01:06,915 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:01:06,916 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:01:07,133 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 29)
2025-09-23 00:01:07,133 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 23 core features from dataframe
2025-09-23 00:01:07,133 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r']
2025-09-23 00:01:07,204 - __main__ - INFO - 🔄 Fold 8: Train[650:1150] (500 samples), Test[1150:1171] (21 samples)
2025-09-23 00:01:07,204 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-23 00:01:07,204 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:01:07,205 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:01:09,057 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 29)
2025-09-23 00:01:09,058 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 23 core features from dataframe
2025-09-23 00:01:09,058 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r']
2025-09-23 00:01:09,058 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-23 00:01:09,058 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:01:09,059 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:01:09,276 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 29)
2025-09-23 00:01:09,276 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 23 core features from dataframe
2025-09-23 00:01:09,276 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r']
2025-09-23 00:01:09,347 - __main__ - INFO - 🔄 Fold 9: Train[671:1171] (500 samples), Test[1171:1192] (21 samples)
2025-09-23 00:01:09,347 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-23 00:01:09,347 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:01:09,348 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:01:11,109 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 29)
2025-09-23 00:01:11,109 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 23 core features from dataframe
2025-09-23 00:01:11,109 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r']
2025-09-23 00:01:11,109 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-23 00:01:11,110 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:01:11,111 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:01:11,327 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 29)
2025-09-23 00:01:11,327 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 23 core features from dataframe
2025-09-23 00:01:11,327 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r']
2025-09-23 00:01:11,395 - __main__ - INFO - 🔄 Fold 10: Train[692:1192] (500 samples), Test[1192:1213] (21 samples)
2025-09-23 00:01:11,395 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-23 00:01:11,396 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:01:11,397 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:01:13,217 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 29)
2025-09-23 00:01:13,218 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 23 core features from dataframe
2025-09-23 00:01:13,218 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r']
2025-09-23 00:01:13,218 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-23 00:01:13,218 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:01:13,220 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:01:13,421 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 29)
2025-09-23 00:01:13,422 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 23 core features from dataframe
2025-09-23 00:01:13,422 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r']
2025-09-23 00:01:13,490 - __main__ - INFO - 🔄 Fold 11: Train[713:1213] (500 samples), Test[1213:1234] (21 samples)
2025-09-23 00:01:13,490 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-23 00:01:13,490 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:01:13,491 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:01:15,305 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 29)
2025-09-23 00:01:15,305 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 23 core features from dataframe
2025-09-23 00:01:15,305 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r']
2025-09-23 00:01:15,307 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-23 00:01:15,307 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:01:15,308 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:01:15,523 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 29)
2025-09-23 00:01:15,523 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 23 core features from dataframe
2025-09-23 00:01:15,523 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r']
2025-09-23 00:01:15,595 - __main__ - INFO - 🔄 Fold 12: Train[734:1234] (500 samples), Test[1234:1255] (21 samples)
2025-09-23 00:01:15,595 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-23 00:01:15,595 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:01:15,596 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:01:17,380 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 29)
2025-09-23 00:01:17,381 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 23 core features from dataframe
2025-09-23 00:01:17,381 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r']
2025-09-23 00:01:17,381 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-23 00:01:17,381 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:01:17,382 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:01:17,622 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 29)
2025-09-23 00:01:17,622 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 23 core features from dataframe
2025-09-23 00:01:17,622 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r']
2025-09-23 00:01:17,695 - __main__ - INFO - 📊 Aggregating results from 12 successful folds
2025-09-23 00:01:17,698 - __main__ - INFO - 🎯 Walk-Forward Validation Results:
2025-09-23 00:01:17,698 - __main__ - INFO -   - Total folds: 12
2025-09-23 00:01:17,698 - __main__ - INFO -   - Total predictions: 192
2025-09-23 00:01:17,698 - __main__ - INFO -   - Final Accuracy: 0.562
2025-09-23 00:01:17,698 - __main__ - INFO -   - Final Precision: 0.623
2025-09-23 00:01:17,698 - __main__ - INFO -   - Final Recall: 0.667
2025-09-23 00:01:17,698 - __main__ - INFO -   - Final F1-Score: 0.644
2025-09-23 00:01:17,698 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-23 00:01:17,698 - __main__ - INFO - ✅ Walk-forward F1 (0.644) meets threshold (0.500)
2025-09-23 00:01:17,698 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-23 00:01:17,698 - strategy_layer.strategy_base.MLRandomForest - INFO - Training final deployment model for MSFT
2025-09-23 00:01:17,698 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for MSFT with 500 rows
2025-09-23 00:01:17,698 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-23 00:01:17,698 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-23 00:01:17,698 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:01:17,700 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:01:19,498 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 29)
2025-09-23 00:01:19,499 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (500, 29)
2025-09-23 00:01:19,499 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['atr_14', 'bb_position', 'close', 'ema_20', 'high', 'low', 'macd_hist', 'momentum_acceleration_10_20', 'momentum_acceleration_5_10', 'momentum_decay_10', 'momentum_decay_5', 'open', 'price_to_sma_50', 'regime_bear', 'regime_bull', 'regime_neutral', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'rsi_14', 'rsi_7', 'sma_50', 'sma_50_slope', 'spy_returns', 'stoch_k', 'volatility_regime', 'volume', 'volume_ratio_20', 'williams_r']
2025-09-23 00:01:19,499 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-23 00:01:19,499 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 23 core features from dataframe
2025-09-23 00:01:19,499 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r']
2025-09-23 00:01:19,500 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Train/Test Split for MSFT:
2025-09-23 00:01:19,500 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Training samples: 396 (2023-09-25 00:00:00-04:00 to 2025-04-23 00:00:00-04:00)
2025-09-23 00:01:19,500 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test samples: 99 (2025-04-24 00:00:00-04:00 to 2025-09-15 00:00:00-04:00)
2025-09-23 00:01:19,500 - strategy_layer.strategy_base.MLRandomForest - INFO -   - No overlap: Training ends 2025-04-23 00:00:00-04:00, Test starts 2025-04-24 00:00:00-04:00
2025-09-23 00:01:45,367 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for MSFT with:
2025-09-23 00:01:45,367 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 20, 'max_features': None, 'min_samples_leaf': 2, 'min_samples_split': 5, 'n_estimators': 50}
2025-09-23 00:01:45,367 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.508
2025-09-23 00:01:45,368 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.333
2025-09-23 00:01:45,368 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.812
2025-09-23 00:01:45,368 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.333
2025-09-23 00:01:45,368 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.245
2025-09-23 00:01:45,395 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Top 10 Feature Importances for MSFT:
2025-09-23 00:01:45,396 - strategy_layer.strategy_base.MLRandomForest - INFO -    1. ema_20                    0.1742
2025-09-23 00:01:45,396 - strategy_layer.strategy_base.MLRandomForest - INFO -    2. sma_50_slope              0.0849
2025-09-23 00:01:45,396 - strategy_layer.strategy_base.MLRandomForest - INFO -    3. atr_14                    0.0771
2025-09-23 00:01:45,396 - strategy_layer.strategy_base.MLRandomForest - INFO -    4. volume_ratio_20           0.0692
2025-09-23 00:01:45,396 - strategy_layer.strategy_base.MLRandomForest - INFO -    5. relative_momentum_20      0.0604
2025-09-23 00:01:45,396 - strategy_layer.strategy_base.MLRandomForest - INFO -    6. price_to_sma_50           0.0596
2025-09-23 00:01:45,396 - strategy_layer.strategy_base.MLRandomForest - INFO -    7. rsi_14                    0.0593
2025-09-23 00:01:45,396 - strategy_layer.strategy_base.MLRandomForest - INFO -    8. momentum_decay_5          0.0566
2025-09-23 00:01:45,396 - strategy_layer.strategy_base.MLRandomForest - INFO -    9. relative_momentum_5       0.0551
2025-09-23 00:01:45,396 - strategy_layer.strategy_base.MLRandomForest - INFO -   10. rsi_7                     0.0407
2025-09-23 00:01:45,420 - __main__ - INFO - 💾 Final model saved for MSFT deployment
2025-09-23 00:01:45,420 - __main__ - INFO - ✅ Successfully trained model for MSFT
2025-09-23 00:01:45,420 - __main__ - INFO - ✅ Successfully trained model for MSFT
2025-09-23 00:01:45,420 - __main__ - INFO - 🎯 Training completed: 1/1 models trained successfully
2025-09-23 00:01:45,420 - __main__ - INFO - 🎉 All models trained successfully!
2025-09-23 00:07:05,602 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-23 00:07:05,602 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-23 00:07:05,602 - __main__ - INFO - ✅ RandomForest Strategy initialized with confidence threshold: 0.6
2025-09-23 00:07:05,602 - __main__ - INFO - 🚀 Starting model training for 1 tickers: MSFT
2025-09-23 00:07:05,602 - __main__ - INFO - 🔄 Force retrain: True
2025-09-23 00:07:05,602 - __main__ - INFO - 🔄 Walk-forward validation: True
2025-09-23 00:07:05,602 - __main__ - INFO - 📊 Walk-forward parameters:
2025-09-23 00:07:05,602 - __main__ - INFO -    - Training window: 500 days
2025-09-23 00:07:05,602 - __main__ - INFO -    - Retrain every: 21 days
2025-09-23 00:07:05,602 - __main__ - INFO -    - Test period: 252 days
2025-09-23 00:07:05,602 - __main__ - INFO - 📊 [1/1] Training model for MSFT
2025-09-23 00:07:05,602 - __main__ - INFO - 🧠 Training ML model for MSFT using Walk-Forward Validation
2025-09-23 00:07:05,602 - __main__ - INFO - 📊 Fetching complete dataset for MSFT
2025-09-23 00:07:06,090 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for MSFT
2025-09-23 00:07:06,091 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for MSFT: [Timestamp('2020-09-23 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-24 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-25 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-28 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-29 00:00:00-0400', tz='America/New_York')]
2025-09-23 00:07:06,091 - strategy_layer.strategy_base.MLRandomForest - INFO - 🕒 Data time interval verified: 1 days 00:00:00
2025-09-23 00:07:06,091 - __main__ - INFO - ✅ Loaded 1255 days of data for MSFT
2025-09-23 00:07:06,091 - __main__ - INFO - 📅 Data range: 2020-09-23 00:00:00-04:00 to 2025-09-22 00:00:00-04:00
2025-09-23 00:07:06,091 - __main__ - INFO - 🔄 Fold 1: Train[503:1003] (500 samples), Test[1003:1024] (21 samples)
2025-09-23 00:07:06,091 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-23 00:07:06,091 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:07:06,094 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:07:08,277 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 36)
2025-09-23 00:07:08,278 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 30 core features from dataframe
2025-09-23 00:07:08,278 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv']
2025-09-23 00:07:08,278 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-23 00:07:08,278 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:07:08,280 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:07:08,492 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 36)
2025-09-23 00:07:08,492 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 30 core features from dataframe
2025-09-23 00:07:08,492 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv']
2025-09-23 00:07:08,577 - __main__ - INFO - 🔄 Fold 2: Train[524:1024] (500 samples), Test[1024:1045] (21 samples)
2025-09-23 00:07:08,577 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-23 00:07:08,577 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:07:08,579 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:07:10,752 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 36)
2025-09-23 00:07:10,753 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 30 core features from dataframe
2025-09-23 00:07:10,753 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv']
2025-09-23 00:07:10,754 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-23 00:07:10,754 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:07:10,755 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:07:11,021 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 36)
2025-09-23 00:07:11,021 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 30 core features from dataframe
2025-09-23 00:07:11,021 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv']
2025-09-23 00:07:11,102 - __main__ - INFO - 🔄 Fold 3: Train[545:1045] (500 samples), Test[1045:1066] (21 samples)
2025-09-23 00:07:11,102 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-23 00:07:11,102 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:07:11,104 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:07:13,290 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 36)
2025-09-23 00:07:13,291 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 30 core features from dataframe
2025-09-23 00:07:13,291 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv']
2025-09-23 00:07:13,292 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-23 00:07:13,292 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:07:13,293 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:07:13,496 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 36)
2025-09-23 00:07:13,497 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 30 core features from dataframe
2025-09-23 00:07:13,497 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv']
2025-09-23 00:07:13,577 - __main__ - INFO - 🔄 Fold 4: Train[566:1066] (500 samples), Test[1066:1087] (21 samples)
2025-09-23 00:07:13,577 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-23 00:07:13,577 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:07:13,578 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:07:15,757 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 36)
2025-09-23 00:07:15,758 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 30 core features from dataframe
2025-09-23 00:07:15,758 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv']
2025-09-23 00:07:15,759 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-23 00:07:15,759 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:07:15,760 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:07:15,983 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 36)
2025-09-23 00:07:15,983 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 30 core features from dataframe
2025-09-23 00:07:15,984 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv']
2025-09-23 00:07:16,055 - __main__ - INFO - 🔄 Fold 5: Train[587:1087] (500 samples), Test[1087:1108] (21 samples)
2025-09-23 00:07:16,055 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-23 00:07:16,055 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:07:16,057 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:07:18,228 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 36)
2025-09-23 00:07:18,228 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 30 core features from dataframe
2025-09-23 00:07:18,228 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv']
2025-09-23 00:07:18,229 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-23 00:07:18,229 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:07:18,230 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:07:18,435 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 36)
2025-09-23 00:07:18,436 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 30 core features from dataframe
2025-09-23 00:07:18,436 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv']
2025-09-23 00:07:18,500 - __main__ - INFO - 🔄 Fold 6: Train[608:1108] (500 samples), Test[1108:1129] (21 samples)
2025-09-23 00:07:18,500 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-23 00:07:18,500 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:07:18,502 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:07:20,676 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 36)
2025-09-23 00:07:20,677 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 30 core features from dataframe
2025-09-23 00:07:20,677 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv']
2025-09-23 00:07:20,677 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-23 00:07:20,677 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:07:20,679 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:07:20,887 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 36)
2025-09-23 00:07:20,888 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 30 core features from dataframe
2025-09-23 00:07:20,888 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv']
2025-09-23 00:07:20,968 - __main__ - INFO - 🔄 Fold 7: Train[629:1129] (500 samples), Test[1129:1150] (21 samples)
2025-09-23 00:07:20,968 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-23 00:07:20,968 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:07:20,969 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:07:23,193 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 36)
2025-09-23 00:07:23,193 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 30 core features from dataframe
2025-09-23 00:07:23,193 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv']
2025-09-23 00:07:23,194 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-23 00:07:23,194 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:07:23,195 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:07:23,489 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 36)
2025-09-23 00:07:23,490 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 30 core features from dataframe
2025-09-23 00:07:23,490 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv']
2025-09-23 00:07:23,569 - __main__ - INFO - 🔄 Fold 8: Train[650:1150] (500 samples), Test[1150:1171] (21 samples)
2025-09-23 00:07:23,569 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-23 00:07:23,569 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:07:23,571 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:07:25,804 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 36)
2025-09-23 00:07:25,804 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 30 core features from dataframe
2025-09-23 00:07:25,804 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv']
2025-09-23 00:07:25,805 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-23 00:07:25,805 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:07:25,806 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:07:26,023 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 36)
2025-09-23 00:07:26,023 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 30 core features from dataframe
2025-09-23 00:07:26,023 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv']
2025-09-23 00:07:26,093 - __main__ - INFO - 🔄 Fold 9: Train[671:1171] (500 samples), Test[1171:1192] (21 samples)
2025-09-23 00:07:26,093 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-23 00:07:26,093 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:07:26,095 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:07:28,288 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 36)
2025-09-23 00:07:28,288 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 30 core features from dataframe
2025-09-23 00:07:28,288 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv']
2025-09-23 00:07:28,289 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-23 00:07:28,289 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:07:28,290 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:07:28,526 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 36)
2025-09-23 00:07:28,526 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 30 core features from dataframe
2025-09-23 00:07:28,527 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv']
2025-09-23 00:07:28,592 - __main__ - INFO - 🔄 Fold 10: Train[692:1192] (500 samples), Test[1192:1213] (21 samples)
2025-09-23 00:07:28,592 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-23 00:07:28,592 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:07:28,593 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:07:30,813 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 36)
2025-09-23 00:07:30,813 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 30 core features from dataframe
2025-09-23 00:07:30,813 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv']
2025-09-23 00:07:30,814 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-23 00:07:30,814 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:07:30,816 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:07:31,038 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 36)
2025-09-23 00:07:31,038 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 30 core features from dataframe
2025-09-23 00:07:31,039 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv']
2025-09-23 00:07:31,117 - __main__ - INFO - 🔄 Fold 11: Train[713:1213] (500 samples), Test[1213:1234] (21 samples)
2025-09-23 00:07:31,117 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-23 00:07:31,117 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:07:31,119 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:07:33,298 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 36)
2025-09-23 00:07:33,299 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 30 core features from dataframe
2025-09-23 00:07:33,299 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv']
2025-09-23 00:07:33,300 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-23 00:07:33,300 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:07:33,301 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:07:33,506 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 36)
2025-09-23 00:07:33,506 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 30 core features from dataframe
2025-09-23 00:07:33,506 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv']
2025-09-23 00:07:33,585 - __main__ - INFO - 🔄 Fold 12: Train[734:1234] (500 samples), Test[1234:1255] (21 samples)
2025-09-23 00:07:33,585 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-23 00:07:33,585 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:07:33,587 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:07:35,805 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 36)
2025-09-23 00:07:35,805 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 30 core features from dataframe
2025-09-23 00:07:35,805 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv']
2025-09-23 00:07:35,806 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 5)
2025-09-23 00:07:35,806 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:07:35,807 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:07:36,031 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 36)
2025-09-23 00:07:36,032 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 30 core features from dataframe
2025-09-23 00:07:36,032 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv']
2025-09-23 00:07:36,112 - __main__ - INFO - 📊 Aggregating results from 12 successful folds
2025-09-23 00:07:36,114 - __main__ - INFO - 🎯 Walk-Forward Validation Results:
2025-09-23 00:07:36,114 - __main__ - INFO -   - Total folds: 12
2025-09-23 00:07:36,114 - __main__ - INFO -   - Total predictions: 192
2025-09-23 00:07:36,114 - __main__ - INFO -   - Final Accuracy: 0.552
2025-09-23 00:07:36,114 - __main__ - INFO -   - Final Precision: 0.611
2025-09-23 00:07:36,114 - __main__ - INFO -   - Final Recall: 0.675
2025-09-23 00:07:36,114 - __main__ - INFO -   - Final F1-Score: 0.642
2025-09-23 00:07:36,115 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-23 00:07:36,115 - __main__ - INFO - ✅ Walk-forward F1 (0.642) meets threshold (0.500)
2025-09-23 00:07:36,115 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-23 00:07:36,115 - strategy_layer.strategy_base.MLRandomForest - INFO - Training final deployment model for MSFT
2025-09-23 00:07:36,115 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for MSFT with 500 rows
2025-09-23 00:07:36,115 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-23 00:07:36,115 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 5)
2025-09-23 00:07:36,115 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume']
2025-09-23 00:07:36,116 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:07:38,353 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 36)
2025-09-23 00:07:38,353 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (500, 36)
2025-09-23 00:07:38,353 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['atr_14', 'bb_position', 'bollinger_bandwidth_20', 'cci_14', 'close', 'ema_20', 'high', 'low', 'macd_hist', 'momentum_acceleration_10_20', 'momentum_acceleration_5_10', 'momentum_decay_10', 'momentum_decay_20', 'momentum_decay_5', 'obv', 'open', 'price_to_sma_50', 'regime_bear', 'regime_bull', 'regime_neutral', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi_14', 'rsi_7', 'sma_50', 'sma_50_slope', 'spy_returns', 'stoch_k', 'volatility_ratio_5_20', 'volatility_regime', 'volume', 'volume_ratio_20', 'williams_r']
2025-09-23 00:07:38,353 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-23 00:07:38,354 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 30 core features from dataframe
2025-09-23 00:07:38,354 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv']
2025-09-23 00:07:38,354 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Train/Test Split for MSFT:
2025-09-23 00:07:38,354 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Training samples: 396 (2023-09-25 00:00:00-04:00 to 2025-04-23 00:00:00-04:00)
2025-09-23 00:07:38,354 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test samples: 99 (2025-04-24 00:00:00-04:00 to 2025-09-15 00:00:00-04:00)
2025-09-23 00:07:38,355 - strategy_layer.strategy_base.MLRandomForest - INFO -   - No overlap: Training ends 2025-04-23 00:00:00-04:00, Test starts 2025-04-24 00:00:00-04:00
2025-09-23 00:08:05,521 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for MSFT with:
2025-09-23 00:08:05,522 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': None, 'min_samples_leaf': 1, 'min_samples_split': 5, 'n_estimators': 50}
2025-09-23 00:08:05,522 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.535
2025-09-23 00:08:05,522 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.303
2025-09-23 00:08:05,522 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.685
2025-09-23 00:08:05,522 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.303
2025-09-23 00:08:05,522 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.204
2025-09-23 00:08:05,551 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Top 10 Feature Importances for MSFT:
2025-09-23 00:08:05,551 - strategy_layer.strategy_base.MLRandomForest - INFO -    1. ema_20                    0.1296
2025-09-23 00:08:05,551 - strategy_layer.strategy_base.MLRandomForest - INFO -    2. obv                       0.0750
2025-09-23 00:08:05,551 - strategy_layer.strategy_base.MLRandomForest - INFO -    3. bollinger_bandwidth_20    0.0673
2025-09-23 00:08:05,551 - strategy_layer.strategy_base.MLRandomForest - INFO -    4. relative_momentum_20      0.0552
2025-09-23 00:08:05,551 - strategy_layer.strategy_base.MLRandomForest - INFO -    5. atr_14                    0.0527
2025-09-23 00:08:05,551 - strategy_layer.strategy_base.MLRandomForest - INFO -    6. volume_ratio_20           0.0500
2025-09-23 00:08:05,551 - strategy_layer.strategy_base.MLRandomForest - INFO -    7. volatility_ratio_5_20     0.0458
2025-09-23 00:08:05,551 - strategy_layer.strategy_base.MLRandomForest - INFO -    8. sma_50_slope              0.0422
2025-09-23 00:08:05,551 - strategy_layer.strategy_base.MLRandomForest - INFO -    9. momentum_decay_5          0.0417
2025-09-23 00:08:05,551 - strategy_layer.strategy_base.MLRandomForest - INFO -   10. rsi_14                    0.0413
2025-09-23 00:08:05,557 - __main__ - INFO - 💾 Final model saved for MSFT deployment
2025-09-23 00:08:05,557 - __main__ - INFO - ✅ Successfully trained model for MSFT
2025-09-23 00:08:05,557 - __main__ - INFO - ✅ Successfully trained model for MSFT
2025-09-23 00:08:05,557 - __main__ - INFO - 🎯 Training completed: 1/1 models trained successfully
2025-09-23 00:08:05,557 - __main__ - INFO - 🎉 All models trained successfully!
2025-09-23 00:12:36,784 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-23 00:12:36,784 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-23 00:12:36,784 - __main__ - INFO - ✅ RandomForest Strategy initialized with confidence threshold: 0.6
2025-09-23 00:12:36,784 - __main__ - INFO - 🚀 Starting model training for 1 tickers: MSFT
2025-09-23 00:12:36,784 - __main__ - INFO - 🔄 Force retrain: True
2025-09-23 00:12:36,784 - __main__ - INFO - 🔄 Walk-forward validation: True
2025-09-23 00:12:36,784 - __main__ - INFO - 📊 Walk-forward parameters:
2025-09-23 00:12:36,784 - __main__ - INFO -    - Training window: 500 days
2025-09-23 00:12:36,784 - __main__ - INFO -    - Retrain every: 21 days
2025-09-23 00:12:36,784 - __main__ - INFO -    - Test period: 252 days
2025-09-23 00:12:36,784 - __main__ - INFO - 📊 [1/1] Training model for MSFT
2025-09-23 00:12:36,784 - __main__ - INFO - 🧠 Training ML model for MSFT using Walk-Forward Validation
2025-09-23 00:12:36,784 - __main__ - INFO - 📊 Fetching complete dataset for MSFT
2025-09-23 00:12:37,275 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Fetching extended market data...
2025-09-23 00:12:40,904 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data ready: 17 indicators
2025-09-23 00:12:40,905 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data merged: 17 additional columns
2025-09-23 00:12:40,905 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for MSFT with 22 columns
2025-09-23 00:12:40,905 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for MSFT: [Timestamp('2020-09-23 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-24 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-25 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-28 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-29 00:00:00-0400', tz='America/New_York')]
2025-09-23 00:12:40,905 - strategy_layer.strategy_base.MLRandomForest - INFO - 🕒 Data time interval verified: 1 days 00:00:00
2025-09-23 00:12:40,906 - __main__ - INFO - ✅ Loaded 1255 days of data for MSFT
2025-09-23 00:12:40,906 - __main__ - INFO - 📅 Data range: 2020-09-23 00:00:00-04:00 to 2025-09-22 00:00:00-04:00
2025-09-23 00:12:40,906 - __main__ - INFO - 🔄 Fold 1: Train[503:1003] (500 samples), Test[1003:1024] (21 samples)
2025-09-23 00:12:40,906 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:12:40,906 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:12:40,909 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:12:43,544 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 56)
2025-09-23 00:12:43,545 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 42 core features from dataframe
2025-09-23 00:12:43,545 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth']
2025-09-23 00:12:43,545 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:12:43,545 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:12:43,547 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:12:43,769 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 56)
2025-09-23 00:12:43,769 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 42 core features from dataframe
2025-09-23 00:12:43,769 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth']
2025-09-23 00:12:43,860 - __main__ - INFO - 🔄 Fold 2: Train[524:1024] (500 samples), Test[1024:1045] (21 samples)
2025-09-23 00:12:43,860 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:12:43,861 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:12:43,862 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:12:46,630 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 56)
2025-09-23 00:12:46,631 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 42 core features from dataframe
2025-09-23 00:12:46,631 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth']
2025-09-23 00:12:46,632 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:12:46,632 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:12:46,633 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:12:46,868 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 56)
2025-09-23 00:12:46,868 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 42 core features from dataframe
2025-09-23 00:12:46,868 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth']
2025-09-23 00:12:46,946 - __main__ - INFO - 🔄 Fold 3: Train[545:1045] (500 samples), Test[1045:1066] (21 samples)
2025-09-23 00:12:46,947 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:12:46,947 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:12:46,948 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:12:49,605 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 56)
2025-09-23 00:12:49,605 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 42 core features from dataframe
2025-09-23 00:12:49,605 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth']
2025-09-23 00:12:49,606 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:12:49,606 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:12:49,608 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:12:49,839 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 56)
2025-09-23 00:12:49,840 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 42 core features from dataframe
2025-09-23 00:12:49,840 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth']
2025-09-23 00:12:49,916 - __main__ - INFO - 🔄 Fold 4: Train[566:1066] (500 samples), Test[1066:1087] (21 samples)
2025-09-23 00:12:49,917 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:12:49,917 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:12:49,918 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:12:52,603 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 56)
2025-09-23 00:12:52,603 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 42 core features from dataframe
2025-09-23 00:12:52,603 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth']
2025-09-23 00:12:52,604 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:12:52,604 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:12:52,605 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:12:52,852 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 56)
2025-09-23 00:12:52,852 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 42 core features from dataframe
2025-09-23 00:12:52,852 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth']
2025-09-23 00:12:52,918 - __main__ - INFO - 🔄 Fold 5: Train[587:1087] (500 samples), Test[1087:1108] (21 samples)
2025-09-23 00:12:52,918 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:12:52,918 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:12:52,920 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:12:55,626 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 56)
2025-09-23 00:12:55,627 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 42 core features from dataframe
2025-09-23 00:12:55,627 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth']
2025-09-23 00:12:55,628 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:12:55,628 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:12:55,629 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:12:55,874 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 56)
2025-09-23 00:12:55,874 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 42 core features from dataframe
2025-09-23 00:12:55,874 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth']
2025-09-23 00:12:55,941 - __main__ - INFO - 🔄 Fold 6: Train[608:1108] (500 samples), Test[1108:1129] (21 samples)
2025-09-23 00:12:55,941 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:12:55,941 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:12:55,943 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:12:58,658 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 56)
2025-09-23 00:12:58,658 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 42 core features from dataframe
2025-09-23 00:12:58,658 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth']
2025-09-23 00:12:58,659 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:12:58,659 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:12:58,660 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:12:58,891 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 56)
2025-09-23 00:12:58,891 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 42 core features from dataframe
2025-09-23 00:12:58,891 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth']
2025-09-23 00:12:58,968 - __main__ - INFO - 🔄 Fold 7: Train[629:1129] (500 samples), Test[1129:1150] (21 samples)
2025-09-23 00:12:58,968 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:12:58,968 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:12:58,970 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:13:01,683 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 56)
2025-09-23 00:13:01,684 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 42 core features from dataframe
2025-09-23 00:13:01,684 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth']
2025-09-23 00:13:01,684 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:13:01,684 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:13:01,686 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:13:01,947 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 56)
2025-09-23 00:13:01,947 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 42 core features from dataframe
2025-09-23 00:13:01,947 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth']
2025-09-23 00:13:02,028 - __main__ - INFO - 🔄 Fold 8: Train[650:1150] (500 samples), Test[1150:1171] (21 samples)
2025-09-23 00:13:02,028 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:13:02,028 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:13:02,030 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:13:04,722 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 56)
2025-09-23 00:13:04,722 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 42 core features from dataframe
2025-09-23 00:13:04,722 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth']
2025-09-23 00:13:04,723 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:13:04,723 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:13:04,724 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:13:04,964 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 56)
2025-09-23 00:13:04,964 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 42 core features from dataframe
2025-09-23 00:13:04,964 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth']
2025-09-23 00:13:05,032 - __main__ - INFO - 🔄 Fold 9: Train[671:1171] (500 samples), Test[1171:1192] (21 samples)
2025-09-23 00:13:05,033 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:13:05,033 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:13:05,034 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:13:07,756 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 56)
2025-09-23 00:13:07,757 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 42 core features from dataframe
2025-09-23 00:13:07,757 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth']
2025-09-23 00:13:07,757 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:13:07,757 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:13:07,759 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:13:07,996 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 56)
2025-09-23 00:13:07,996 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 42 core features from dataframe
2025-09-23 00:13:07,996 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth']
2025-09-23 00:13:08,075 - __main__ - INFO - 🔄 Fold 10: Train[692:1192] (500 samples), Test[1192:1213] (21 samples)
2025-09-23 00:13:08,075 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:13:08,075 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:13:08,077 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:13:10,781 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 56)
2025-09-23 00:13:10,781 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 42 core features from dataframe
2025-09-23 00:13:10,781 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth']
2025-09-23 00:13:10,782 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:13:10,782 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:13:10,783 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:13:11,018 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 56)
2025-09-23 00:13:11,018 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 42 core features from dataframe
2025-09-23 00:13:11,018 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth']
2025-09-23 00:13:11,097 - __main__ - INFO - 🔄 Fold 11: Train[713:1213] (500 samples), Test[1213:1234] (21 samples)
2025-09-23 00:13:11,097 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:13:11,097 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:13:11,099 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:13:13,857 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 56)
2025-09-23 00:13:13,857 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 42 core features from dataframe
2025-09-23 00:13:13,857 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth']
2025-09-23 00:13:13,858 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:13:13,858 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:13:13,860 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:13:14,074 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 56)
2025-09-23 00:13:14,075 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 42 core features from dataframe
2025-09-23 00:13:14,075 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth']
2025-09-23 00:13:14,152 - __main__ - INFO - 🔄 Fold 12: Train[734:1234] (500 samples), Test[1234:1255] (21 samples)
2025-09-23 00:13:14,152 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:13:14,152 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:13:14,154 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:13:16,876 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 56)
2025-09-23 00:13:16,876 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 42 core features from dataframe
2025-09-23 00:13:16,876 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth']
2025-09-23 00:13:16,877 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:13:16,877 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:13:16,878 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:13:17,125 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 56)
2025-09-23 00:13:17,125 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 42 core features from dataframe
2025-09-23 00:13:17,126 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth']
2025-09-23 00:13:17,191 - __main__ - INFO - 📊 Aggregating results from 12 successful folds
2025-09-23 00:13:17,194 - __main__ - INFO - 🎯 Walk-Forward Validation Results:
2025-09-23 00:13:17,194 - __main__ - INFO -   - Total folds: 12
2025-09-23 00:13:17,194 - __main__ - INFO -   - Total predictions: 192
2025-09-23 00:13:17,194 - __main__ - INFO -   - Final Accuracy: 0.464
2025-09-23 00:13:17,194 - __main__ - INFO -   - Final Precision: 0.563
2025-09-23 00:13:17,194 - __main__ - INFO -   - Final Recall: 0.430
2025-09-23 00:13:17,194 - __main__ - INFO -   - Final F1-Score: 0.488
2025-09-23 00:13:17,194 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-23 00:13:17,194 - __main__ - WARNING - ⚠️  Walk-forward F1 (0.488) below threshold (0.500)
2025-09-23 00:13:17,194 - __main__ - WARNING - 🚫 Model not saved - does not demonstrate reliable edge
2025-09-23 00:13:17,194 - __main__ - ERROR - ❌ Model training failed for MSFT
2025-09-23 00:13:17,194 - __main__ - ERROR - ❌ Failed to train model for MSFT
2025-09-23 00:13:17,194 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-23 00:13:17,194 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-23 00:15:05,403 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-23 00:15:05,403 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-23 00:15:05,403 - __main__ - INFO - ✅ RandomForest Strategy initialized with confidence threshold: 0.6
2025-09-23 00:15:05,403 - __main__ - INFO - 🚀 Starting model training for 1 tickers: MSFT
2025-09-23 00:15:05,403 - __main__ - INFO - 🔄 Force retrain: True
2025-09-23 00:15:05,403 - __main__ - INFO - 🔄 Walk-forward validation: True
2025-09-23 00:15:05,403 - __main__ - INFO - 📊 Walk-forward parameters:
2025-09-23 00:15:05,403 - __main__ - INFO -    - Training window: 500 days
2025-09-23 00:15:05,403 - __main__ - INFO -    - Retrain every: 21 days
2025-09-23 00:15:05,403 - __main__ - INFO -    - Test period: 252 days
2025-09-23 00:15:05,403 - __main__ - INFO - 📊 [1/1] Training model for MSFT
2025-09-23 00:15:05,403 - __main__ - INFO - 🧠 Training ML model for MSFT using Walk-Forward Validation
2025-09-23 00:15:05,403 - __main__ - INFO - 📊 Fetching complete dataset for MSFT
2025-09-23 00:15:05,889 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Fetching extended market data...
2025-09-23 00:15:08,020 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data ready: 17 indicators
2025-09-23 00:15:08,022 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data merged: 17 additional columns
2025-09-23 00:15:08,022 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for MSFT with 22 columns
2025-09-23 00:15:08,022 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for MSFT: [Timestamp('2020-09-23 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-24 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-25 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-28 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-29 00:00:00-0400', tz='America/New_York')]
2025-09-23 00:15:08,022 - strategy_layer.strategy_base.MLRandomForest - INFO - 🕒 Data time interval verified: 1 days 00:00:00
2025-09-23 00:15:08,022 - __main__ - INFO - ✅ Loaded 1255 days of data for MSFT
2025-09-23 00:15:08,022 - __main__ - INFO - 📅 Data range: 2020-09-23 00:00:00-04:00 to 2025-09-22 00:00:00-04:00
2025-09-23 00:15:08,022 - __main__ - INFO - 🔄 Fold 1: Train[503:1003] (500 samples), Test[1003:1024] (21 samples)
2025-09-23 00:15:08,022 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:15:08,022 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:15:08,026 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:15:10,740 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate advanced technical indicators: cannot access local variable 'prev_sar' where it is not associated with a value
2025-09-23 00:15:10,741 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 68)
2025-09-23 00:15:10,741 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:15:10,741 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:15:10,742 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:15:10,742 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:15:10,744 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:15:10,978 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate advanced technical indicators: cannot access local variable 'prev_sar' where it is not associated with a value
2025-09-23 00:15:10,978 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 68)
2025-09-23 00:15:10,978 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:15:10,978 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:15:11,053 - __main__ - INFO - 🔄 Fold 2: Train[524:1024] (500 samples), Test[1024:1045] (21 samples)
2025-09-23 00:15:11,054 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:15:11,054 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:15:11,056 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:15:13,770 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate advanced technical indicators: cannot access local variable 'prev_sar' where it is not associated with a value
2025-09-23 00:15:13,770 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 68)
2025-09-23 00:15:13,770 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:15:13,770 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:15:13,771 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:15:13,771 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:15:13,773 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:15:14,040 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate advanced technical indicators: cannot access local variable 'prev_sar' where it is not associated with a value
2025-09-23 00:15:14,040 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 68)
2025-09-23 00:15:14,040 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:15:14,040 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:15:14,106 - __main__ - INFO - 🔄 Fold 3: Train[545:1045] (500 samples), Test[1045:1066] (21 samples)
2025-09-23 00:15:14,106 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:15:14,106 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:15:14,109 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:15:16,819 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate advanced technical indicators: cannot access local variable 'prev_sar' where it is not associated with a value
2025-09-23 00:15:16,819 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 68)
2025-09-23 00:15:16,819 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:15:16,819 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:15:16,820 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:15:16,820 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:15:16,822 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:15:17,087 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate advanced technical indicators: cannot access local variable 'prev_sar' where it is not associated with a value
2025-09-23 00:15:17,087 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 68)
2025-09-23 00:15:17,087 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:15:17,087 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:15:17,163 - __main__ - INFO - 🔄 Fold 4: Train[566:1066] (500 samples), Test[1066:1087] (21 samples)
2025-09-23 00:15:17,163 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:15:17,163 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:15:17,166 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:15:19,871 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate advanced technical indicators: cannot access local variable 'prev_sar' where it is not associated with a value
2025-09-23 00:15:19,872 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 68)
2025-09-23 00:15:19,872 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:15:19,872 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:15:19,873 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:15:19,873 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:15:19,875 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:15:20,110 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate advanced technical indicators: cannot access local variable 'prev_sar' where it is not associated with a value
2025-09-23 00:15:20,110 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 68)
2025-09-23 00:15:20,110 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:15:20,110 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:15:20,174 - __main__ - INFO - 🔄 Fold 5: Train[587:1087] (500 samples), Test[1087:1108] (21 samples)
2025-09-23 00:15:20,175 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:15:20,175 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:15:20,177 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:15:22,864 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate advanced technical indicators: cannot access local variable 'prev_sar' where it is not associated with a value
2025-09-23 00:15:22,865 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 68)
2025-09-23 00:15:22,865 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:15:22,865 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:15:22,866 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:15:22,866 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:15:22,868 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:15:23,148 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate advanced technical indicators: cannot access local variable 'prev_sar' where it is not associated with a value
2025-09-23 00:15:23,148 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 68)
2025-09-23 00:15:23,148 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:15:23,148 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:15:23,213 - __main__ - INFO - 🔄 Fold 6: Train[608:1108] (500 samples), Test[1108:1129] (21 samples)
2025-09-23 00:15:23,213 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:15:23,213 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:15:23,215 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:15:25,932 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate advanced technical indicators: cannot access local variable 'prev_sar' where it is not associated with a value
2025-09-23 00:15:25,932 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 68)
2025-09-23 00:15:25,932 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:15:25,932 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:15:25,933 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:15:25,933 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:15:25,935 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:15:26,173 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate advanced technical indicators: cannot access local variable 'prev_sar' where it is not associated with a value
2025-09-23 00:15:26,173 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 68)
2025-09-23 00:15:26,173 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:15:26,173 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:15:26,240 - __main__ - INFO - 🔄 Fold 7: Train[629:1129] (500 samples), Test[1129:1150] (21 samples)
2025-09-23 00:15:26,240 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:15:26,241 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:15:26,243 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:15:28,979 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate advanced technical indicators: cannot access local variable 'prev_sar' where it is not associated with a value
2025-09-23 00:15:28,979 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 68)
2025-09-23 00:15:28,980 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:15:28,980 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:15:28,981 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:15:28,981 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:15:28,983 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:15:29,211 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate advanced technical indicators: cannot access local variable 'prev_sar' where it is not associated with a value
2025-09-23 00:15:29,211 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 68)
2025-09-23 00:15:29,212 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:15:29,212 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:15:29,288 - __main__ - INFO - 🔄 Fold 8: Train[650:1150] (500 samples), Test[1150:1171] (21 samples)
2025-09-23 00:15:29,288 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:15:29,288 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:15:29,291 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:15:32,023 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate advanced technical indicators: cannot access local variable 'prev_sar' where it is not associated with a value
2025-09-23 00:15:32,023 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 68)
2025-09-23 00:15:32,023 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:15:32,023 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:15:32,024 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:15:32,024 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:15:32,026 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:15:32,281 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate advanced technical indicators: cannot access local variable 'prev_sar' where it is not associated with a value
2025-09-23 00:15:32,281 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 68)
2025-09-23 00:15:32,282 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:15:32,282 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:15:32,359 - __main__ - INFO - 🔄 Fold 9: Train[671:1171] (500 samples), Test[1171:1192] (21 samples)
2025-09-23 00:15:32,359 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:15:32,359 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:15:32,362 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:15:35,163 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate advanced technical indicators: cannot access local variable 'prev_sar' where it is not associated with a value
2025-09-23 00:15:35,163 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 68)
2025-09-23 00:15:35,163 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:15:35,163 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:15:35,164 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:15:35,164 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:15:35,166 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:15:35,413 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate advanced technical indicators: cannot access local variable 'prev_sar' where it is not associated with a value
2025-09-23 00:15:35,413 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 68)
2025-09-23 00:15:35,414 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:15:35,414 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:15:35,491 - __main__ - INFO - 🔄 Fold 10: Train[692:1192] (500 samples), Test[1192:1213] (21 samples)
2025-09-23 00:15:35,491 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:15:35,491 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:15:35,493 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:15:38,396 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate advanced technical indicators: cannot access local variable 'prev_sar' where it is not associated with a value
2025-09-23 00:15:38,397 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 68)
2025-09-23 00:15:38,397 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:15:38,397 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:15:38,398 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:15:38,398 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:15:38,400 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:15:38,632 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate advanced technical indicators: cannot access local variable 'prev_sar' where it is not associated with a value
2025-09-23 00:15:38,632 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 68)
2025-09-23 00:15:38,632 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:15:38,632 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:15:38,698 - __main__ - INFO - 🔄 Fold 11: Train[713:1213] (500 samples), Test[1213:1234] (21 samples)
2025-09-23 00:15:38,698 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:15:38,698 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:15:38,700 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:15:41,490 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate advanced technical indicators: cannot access local variable 'prev_sar' where it is not associated with a value
2025-09-23 00:15:41,490 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 68)
2025-09-23 00:15:41,490 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:15:41,490 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:15:41,491 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:15:41,491 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:15:41,493 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:15:41,758 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate advanced technical indicators: cannot access local variable 'prev_sar' where it is not associated with a value
2025-09-23 00:15:41,759 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 68)
2025-09-23 00:15:41,759 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:15:41,759 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:15:41,838 - __main__ - INFO - 🔄 Fold 12: Train[734:1234] (500 samples), Test[1234:1255] (21 samples)
2025-09-23 00:15:41,838 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:15:41,838 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:15:41,840 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:15:44,654 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate advanced technical indicators: cannot access local variable 'prev_sar' where it is not associated with a value
2025-09-23 00:15:44,655 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 68)
2025-09-23 00:15:44,655 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:15:44,655 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:15:44,656 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:15:44,656 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:15:44,658 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:15:44,934 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate advanced technical indicators: cannot access local variable 'prev_sar' where it is not associated with a value
2025-09-23 00:15:44,934 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 68)
2025-09-23 00:15:44,934 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:15:44,934 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:15:45,010 - __main__ - INFO - 📊 Aggregating results from 12 successful folds
2025-09-23 00:15:45,012 - __main__ - INFO - 🎯 Walk-Forward Validation Results:
2025-09-23 00:15:45,012 - __main__ - INFO -   - Total folds: 12
2025-09-23 00:15:45,012 - __main__ - INFO -   - Total predictions: 192
2025-09-23 00:15:45,012 - __main__ - INFO -   - Final Accuracy: 0.531
2025-09-23 00:15:45,012 - __main__ - INFO -   - Final Precision: 0.613
2025-09-23 00:15:45,012 - __main__ - INFO -   - Final Recall: 0.570
2025-09-23 00:15:45,012 - __main__ - INFO -   - Final F1-Score: 0.591
2025-09-23 00:15:45,012 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-23 00:15:45,012 - __main__ - INFO - ✅ Walk-forward F1 (0.591) meets threshold (0.500)
2025-09-23 00:15:45,012 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-23 00:15:45,012 - strategy_layer.strategy_base.MLRandomForest - INFO - Training final deployment model for MSFT
2025-09-23 00:15:45,013 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for MSFT with 500 rows
2025-09-23 00:15:45,013 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-23 00:15:45,013 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:15:45,013 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:15:45,015 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:15:47,737 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate advanced technical indicators: cannot access local variable 'prev_sar' where it is not associated with a value
2025-09-23 00:15:47,737 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 68)
2025-09-23 00:15:47,737 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (500, 68)
2025-09-23 00:15:47,737 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['atr_14', 'bb_position', 'bollinger_bandwidth_20', 'cci_14', 'chaikin_money_flow', 'close', 'ema_20', 'gld_close', 'gold_oil_ratio', 'high', 'ichimoku_chikou', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_tenkan', 'ief_close', 'iwm_close', 'keltner_lower', 'keltner_position', 'keltner_upper', 'low', 'macd_hist', 'market_breadth', 'momentum_acceleration_10_20', 'momentum_acceleration_5_10', 'momentum_decay_10', 'momentum_decay_20', 'momentum_decay_5', 'obv', 'open', 'parabolic_sar', 'price_to_sma_50', 'qqq_close', 'regime_bear', 'regime_bull', 'regime_neutral', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi_14', 'rsi_7', 'sector_tech_vs_energy', 'shy_close', 'sma_50', 'sma_50_slope', 'spy_close', 'spy_returns', 'stoch_k', 'tlt_close', 'uso_close', 'vix_close', 'vix_ma_20', 'vix_regime', 'volatility_ratio_5_20', 'volatility_regime', 'volume', 'volume_ratio_20', 'vwap', 'vwap_deviation', 'williams_r', 'xle_close', 'xlf_close', 'xli_close', 'xlk_close', 'xlv_close', 'yield_spread_20y_2y']
2025-09-23 00:15:47,737 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-23 00:15:47,737 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:15:47,737 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:15:47,738 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Train/Test Split for MSFT:
2025-09-23 00:15:47,738 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Training samples: 396 (2023-09-25 00:00:00-04:00 to 2025-04-23 00:00:00-04:00)
2025-09-23 00:15:47,738 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test samples: 99 (2025-04-24 00:00:00-04:00 to 2025-09-15 00:00:00-04:00)
2025-09-23 00:15:47,738 - strategy_layer.strategy_base.MLRandomForest - INFO -   - No overlap: Training ends 2025-04-23 00:00:00-04:00, Test starts 2025-04-24 00:00:00-04:00
2025-09-23 00:16:17,664 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for MSFT with:
2025-09-23 00:16:17,664 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': 'balanced', 'max_depth': 10, 'max_features': 'sqrt', 'min_samples_leaf': 1, 'min_samples_split': 2, 'n_estimators': 50}
2025-09-23 00:16:17,664 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.489
2025-09-23 00:16:17,664 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.313
2025-09-23 00:16:17,664 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.644
2025-09-23 00:16:17,664 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.313
2025-09-23 00:16:17,664 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.235
2025-09-23 00:16:17,691 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Top 10 Feature Importances for MSFT:
2025-09-23 00:16:17,692 - strategy_layer.strategy_base.MLRandomForest - INFO -    1. qqq_close                 0.0516
2025-09-23 00:16:17,692 - strategy_layer.strategy_base.MLRandomForest - INFO -    2. gld_close                 0.0420
2025-09-23 00:16:17,692 - strategy_layer.strategy_base.MLRandomForest - INFO -    3. iwm_close                 0.0406
2025-09-23 00:16:17,692 - strategy_layer.strategy_base.MLRandomForest - INFO -    4. ema_20                    0.0396
2025-09-23 00:16:17,692 - strategy_layer.strategy_base.MLRandomForest - INFO -    5. vix_ma_20                 0.0372
2025-09-23 00:16:17,692 - strategy_layer.strategy_base.MLRandomForest - INFO -    6. obv                       0.0348
2025-09-23 00:16:17,692 - strategy_layer.strategy_base.MLRandomForest - INFO -    7. uso_close                 0.0340
2025-09-23 00:16:17,692 - strategy_layer.strategy_base.MLRandomForest - INFO -    8. bollinger_bandwidth_20    0.0332
2025-09-23 00:16:17,692 - strategy_layer.strategy_base.MLRandomForest - INFO -    9. atr_14                    0.0328
2025-09-23 00:16:17,692 - strategy_layer.strategy_base.MLRandomForest - INFO -   10. yield_spread_20y_2y       0.0307
2025-09-23 00:16:17,702 - __main__ - INFO - 💾 Final model saved for MSFT deployment
2025-09-23 00:16:17,703 - __main__ - INFO - ✅ Successfully trained model for MSFT
2025-09-23 00:16:17,703 - __main__ - INFO - ✅ Successfully trained model for MSFT
2025-09-23 00:16:17,703 - __main__ - INFO - 🎯 Training completed: 1/1 models trained successfully
2025-09-23 00:16:17,703 - __main__ - INFO - 🎉 All models trained successfully!
2025-09-23 00:17:32,891 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-23 00:17:32,892 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-23 00:17:32,892 - __main__ - INFO - ✅ RandomForest Strategy initialized with confidence threshold: 0.6
2025-09-23 00:17:32,892 - __main__ - INFO - 🚀 Starting model training for 1 tickers: MSFT
2025-09-23 00:17:32,892 - __main__ - INFO - 🔄 Force retrain: True
2025-09-23 00:17:32,892 - __main__ - INFO - 🔄 Walk-forward validation: True
2025-09-23 00:17:32,892 - __main__ - INFO - 📊 Walk-forward parameters:
2025-09-23 00:17:32,892 - __main__ - INFO -    - Training window: 500 days
2025-09-23 00:17:32,892 - __main__ - INFO -    - Retrain every: 21 days
2025-09-23 00:17:32,892 - __main__ - INFO -    - Test period: 252 days
2025-09-23 00:17:32,892 - __main__ - INFO - 📊 [1/1] Training model for MSFT
2025-09-23 00:17:32,892 - __main__ - INFO - 🧠 Training ML model for MSFT using Walk-Forward Validation
2025-09-23 00:17:32,892 - __main__ - INFO - 📊 Fetching complete dataset for MSFT
2025-09-23 00:17:33,364 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Fetching extended market data...
2025-09-23 00:17:35,443 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data ready: 17 indicators
2025-09-23 00:17:35,444 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data merged: 17 additional columns
2025-09-23 00:17:35,444 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for MSFT with 22 columns
2025-09-23 00:17:35,445 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for MSFT: [Timestamp('2020-09-23 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-24 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-25 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-28 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-29 00:00:00-0400', tz='America/New_York')]
2025-09-23 00:17:35,445 - strategy_layer.strategy_base.MLRandomForest - INFO - 🕒 Data time interval verified: 1 days 00:00:00
2025-09-23 00:17:35,445 - __main__ - INFO - ✅ Loaded 1255 days of data for MSFT
2025-09-23 00:17:35,445 - __main__ - INFO - 📅 Data range: 2020-09-23 00:00:00-04:00 to 2025-09-22 00:00:00-04:00
2025-09-23 00:17:35,445 - __main__ - INFO - 🔄 Fold 1: Train[503:1003] (500 samples), Test[1003:1024] (21 samples)
2025-09-23 00:17:35,445 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:17:35,445 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:17:35,448 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:17:40,413 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:17:40,414 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:17:40,414 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:17:40,415 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:17:40,415 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:17:40,417 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:17:40,682 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:17:40,683 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:17:40,683 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:17:40,763 - __main__ - INFO - 🔄 Fold 2: Train[524:1024] (500 samples), Test[1024:1045] (21 samples)
2025-09-23 00:17:40,763 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:17:40,764 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:17:40,766 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:17:45,616 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:17:45,617 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:17:45,617 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:17:45,618 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:17:45,618 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:17:45,620 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:17:45,880 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:17:45,881 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:17:45,881 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:17:45,958 - __main__ - INFO - 🔄 Fold 3: Train[545:1045] (500 samples), Test[1045:1066] (21 samples)
2025-09-23 00:17:45,958 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:17:45,958 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:17:45,960 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:17:50,759 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:17:50,759 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:17:50,759 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:17:50,760 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:17:50,760 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:17:50,762 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:17:51,026 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:17:51,026 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:17:51,026 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:17:51,105 - __main__ - INFO - 🔄 Fold 4: Train[566:1066] (500 samples), Test[1066:1087] (21 samples)
2025-09-23 00:17:51,105 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:17:51,105 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:17:51,107 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:17:55,997 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:17:55,998 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:17:55,998 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:17:55,999 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:17:55,999 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:17:56,001 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:17:56,281 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:17:56,281 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:17:56,282 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:17:56,360 - __main__ - INFO - 🔄 Fold 5: Train[587:1087] (500 samples), Test[1087:1108] (21 samples)
2025-09-23 00:17:56,360 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:17:56,360 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:17:56,362 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:18:01,324 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:18:01,325 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:18:01,325 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:18:01,326 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:18:01,326 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:18:01,328 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:18:01,555 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:18:01,556 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:18:01,556 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:18:01,635 - __main__ - INFO - 🔄 Fold 6: Train[608:1108] (500 samples), Test[1108:1129] (21 samples)
2025-09-23 00:18:01,635 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:18:01,635 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:18:01,637 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:18:06,471 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:18:06,472 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:18:06,472 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:18:06,473 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:18:06,473 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:18:06,475 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:18:06,748 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:18:06,748 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:18:06,748 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:18:06,826 - __main__ - INFO - 🔄 Fold 7: Train[629:1129] (500 samples), Test[1129:1150] (21 samples)
2025-09-23 00:18:06,826 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:18:06,827 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:18:06,829 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:18:11,814 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:18:11,815 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:18:11,816 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:18:11,817 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:18:11,817 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:18:11,819 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:18:12,079 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:18:12,079 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:18:12,079 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:18:12,155 - __main__ - INFO - 🔄 Fold 8: Train[650:1150] (500 samples), Test[1150:1171] (21 samples)
2025-09-23 00:18:12,155 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:18:12,155 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:18:12,157 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:18:17,125 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:18:17,126 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:18:17,126 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:18:17,127 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:18:17,127 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:18:17,129 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:18:17,368 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:18:17,368 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:18:17,368 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:18:17,437 - __main__ - INFO - 🔄 Fold 9: Train[671:1171] (500 samples), Test[1171:1192] (21 samples)
2025-09-23 00:18:17,437 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:18:17,437 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:18:17,439 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:18:22,416 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:18:22,417 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:18:22,417 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:18:22,418 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:18:22,418 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:18:22,420 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:18:22,658 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:18:22,659 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:18:22,659 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:18:22,737 - __main__ - INFO - 🔄 Fold 10: Train[692:1192] (500 samples), Test[1192:1213] (21 samples)
2025-09-23 00:18:22,737 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:18:22,737 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:18:22,739 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:18:28,049 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:18:28,049 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:18:28,049 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:18:28,050 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:18:28,050 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:18:28,052 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:18:28,291 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:18:28,292 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:18:28,292 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:18:28,371 - __main__ - INFO - 🔄 Fold 11: Train[713:1213] (500 samples), Test[1213:1234] (21 samples)
2025-09-23 00:18:28,371 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:18:28,371 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:18:28,373 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:18:33,463 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:18:33,464 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:18:33,464 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:18:33,465 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:18:33,465 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:18:33,467 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:18:33,693 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:18:33,693 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:18:33,693 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:18:33,768 - __main__ - INFO - 🔄 Fold 12: Train[734:1234] (500 samples), Test[1234:1255] (21 samples)
2025-09-23 00:18:33,768 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:18:33,768 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:18:33,770 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:18:38,731 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:18:38,731 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:18:38,731 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:18:38,732 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:18:38,732 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:18:38,734 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:18:39,018 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:18:39,018 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:18:39,018 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:18:39,098 - __main__ - INFO - 📊 Aggregating results from 12 successful folds
2025-09-23 00:18:39,100 - __main__ - INFO - 🎯 Walk-Forward Validation Results:
2025-09-23 00:18:39,100 - __main__ - INFO -   - Total folds: 12
2025-09-23 00:18:39,100 - __main__ - INFO -   - Total predictions: 192
2025-09-23 00:18:39,100 - __main__ - INFO -   - Final Accuracy: 0.589
2025-09-23 00:18:39,100 - __main__ - INFO -   - Final Precision: 0.647
2025-09-23 00:18:39,100 - __main__ - INFO -   - Final Recall: 0.675
2025-09-23 00:18:39,100 - __main__ - INFO -   - Final F1-Score: 0.661
2025-09-23 00:18:39,100 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-23 00:18:39,100 - __main__ - INFO - ✅ Walk-forward F1 (0.661) meets threshold (0.500)
2025-09-23 00:18:39,100 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-23 00:18:39,100 - strategy_layer.strategy_base.MLRandomForest - INFO - Training final deployment model for MSFT
2025-09-23 00:18:39,100 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for MSFT with 500 rows
2025-09-23 00:18:39,100 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-23 00:18:39,101 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:18:39,101 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:18:39,103 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:18:43,961 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:18:43,961 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (500, 71)
2025-09-23 00:18:43,961 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['atr_14', 'bb_position', 'bollinger_bandwidth_20', 'cci_14', 'chaikin_money_flow', 'close', 'ema_20', 'gld_close', 'gold_oil_ratio', 'high', 'ichimoku_chikou', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_tenkan', 'ief_close', 'iwm_close', 'keltner_lower', 'keltner_position', 'keltner_upper', 'low', 'macd_hist', 'market_breadth', 'momentum_acceleration_10_20', 'momentum_acceleration_5_10', 'momentum_decay_10', 'momentum_decay_20', 'momentum_decay_5', 'obv', 'open', 'parabolic_acceleration', 'parabolic_extreme', 'parabolic_sar', 'parabolic_trend', 'price_to_sma_50', 'qqq_close', 'regime_bear', 'regime_bull', 'regime_neutral', 'relative_momentum_20', 'relative_momentum_5', 'relative_strength', 'roc_acceleration_10_20', 'roc_acceleration_5_20', 'rsi_14', 'rsi_7', 'sector_tech_vs_energy', 'shy_close', 'sma_50', 'sma_50_slope', 'spy_close', 'spy_returns', 'stoch_k', 'tlt_close', 'uso_close', 'vix_close', 'vix_ma_20', 'vix_regime', 'volatility_ratio_5_20', 'volatility_regime', 'volume', 'volume_ratio_20', 'vwap', 'vwap_deviation', 'williams_r', 'xle_close', 'xlf_close', 'xli_close', 'xlk_close', 'xlv_close', 'yield_spread_20y_2y']
2025-09-23 00:18:43,962 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-23 00:18:43,962 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:18:43,962 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:18:43,963 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Train/Test Split for MSFT:
2025-09-23 00:18:43,963 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Training samples: 396 (2023-09-25 00:00:00-04:00 to 2025-04-23 00:00:00-04:00)
2025-09-23 00:18:43,963 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test samples: 99 (2025-04-24 00:00:00-04:00 to 2025-09-15 00:00:00-04:00)
2025-09-23 00:18:43,963 - strategy_layer.strategy_base.MLRandomForest - INFO -   - No overlap: Training ends 2025-04-23 00:00:00-04:00, Test starts 2025-04-24 00:00:00-04:00
2025-09-23 00:19:16,866 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for MSFT with:
2025-09-23 00:19:16,866 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': 'balanced', 'max_depth': 20, 'max_features': 'log2', 'min_samples_leaf': 1, 'min_samples_split': 2, 'n_estimators': 50}
2025-09-23 00:19:16,866 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.533
2025-09-23 00:19:16,866 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.273
2025-09-23 00:19:16,866 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.807
2025-09-23 00:19:16,866 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.273
2025-09-23 00:19:16,866 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.130
2025-09-23 00:19:16,892 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Top 10 Feature Importances for MSFT:
2025-09-23 00:19:16,892 - strategy_layer.strategy_base.MLRandomForest - INFO -    1. chaikin_money_flow        0.0346
2025-09-23 00:19:16,892 - strategy_layer.strategy_base.MLRandomForest - INFO -    2. keltner_upper             0.0316
2025-09-23 00:19:16,892 - strategy_layer.strategy_base.MLRandomForest - INFO -    3. parabolic_sar             0.0293
2025-09-23 00:19:16,892 - strategy_layer.strategy_base.MLRandomForest - INFO -    4. iwm_close                 0.0292
2025-09-23 00:19:16,892 - strategy_layer.strategy_base.MLRandomForest - INFO -    5. ichimoku_tenkan           0.0290
2025-09-23 00:19:16,892 - strategy_layer.strategy_base.MLRandomForest - INFO -    6. obv                       0.0283
2025-09-23 00:19:16,892 - strategy_layer.strategy_base.MLRandomForest - INFO -    7. spy_close                 0.0272
2025-09-23 00:19:16,892 - strategy_layer.strategy_base.MLRandomForest - INFO -    8. ichimoku_senkou_b         0.0271
2025-09-23 00:19:16,892 - strategy_layer.strategy_base.MLRandomForest - INFO -    9. vwap                      0.0269
2025-09-23 00:19:16,893 - strategy_layer.strategy_base.MLRandomForest - INFO -   10. qqq_close                 0.0261
2025-09-23 00:19:16,902 - __main__ - INFO - 💾 Final model saved for MSFT deployment
2025-09-23 00:19:16,902 - __main__ - INFO - ✅ Successfully trained model for MSFT
2025-09-23 00:19:16,902 - __main__ - INFO - ✅ Successfully trained model for MSFT
2025-09-23 00:19:16,902 - __main__ - INFO - 🎯 Training completed: 1/1 models trained successfully
2025-09-23 00:19:16,902 - __main__ - INFO - 🎉 All models trained successfully!
2025-09-23 00:20:27,744 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-23 00:20:27,744 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-23 00:20:27,744 - __main__ - INFO - ✅ RandomForest Strategy initialized with confidence threshold: 0.6
2025-09-23 00:20:27,744 - __main__ - INFO - 🚀 Starting model training for 1 tickers: MSFT
2025-09-23 00:20:27,744 - __main__ - INFO - 🔄 Force retrain: True
2025-09-23 00:20:27,744 - __main__ - INFO - 🔄 Walk-forward validation: True
2025-09-23 00:20:27,744 - __main__ - INFO - 📊 Walk-forward parameters:
2025-09-23 00:20:27,744 - __main__ - INFO -    - Training window: 500 days
2025-09-23 00:20:27,744 - __main__ - INFO -    - Retrain every: 21 days
2025-09-23 00:20:27,744 - __main__ - INFO -    - Test period: 252 days
2025-09-23 00:20:27,744 - __main__ - INFO - 📊 [1/1] Training model for MSFT
2025-09-23 00:20:27,744 - __main__ - INFO - 🧠 Training ML model for MSFT using Walk-Forward Validation
2025-09-23 00:20:27,744 - __main__ - INFO - 📊 Fetching complete dataset for MSFT
2025-09-23 00:20:28,234 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Fetching extended market data...
2025-09-23 00:20:30,400 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data ready: 17 indicators
2025-09-23 00:20:30,402 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data merged: 17 additional columns
2025-09-23 00:20:30,402 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 1255 days of data for MSFT with 22 columns
2025-09-23 00:20:30,402 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for MSFT: [Timestamp('2020-09-23 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-24 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-25 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-28 00:00:00-0400', tz='America/New_York'), Timestamp('2020-09-29 00:00:00-0400', tz='America/New_York')]
2025-09-23 00:20:30,402 - strategy_layer.strategy_base.MLRandomForest - INFO - 🕒 Data time interval verified: 1 days 00:00:00
2025-09-23 00:20:30,402 - __main__ - INFO - ✅ Loaded 1255 days of data for MSFT
2025-09-23 00:20:30,403 - __main__ - INFO - 📅 Data range: 2020-09-23 00:00:00-04:00 to 2025-09-22 00:00:00-04:00
2025-09-23 00:20:30,403 - __main__ - INFO - 🔄 Fold 1: Train[503:1003] (500 samples), Test[1003:1024] (21 samples)
2025-09-23 00:20:30,403 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:20:30,403 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:20:30,406 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:20:35,182 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:20:35,182 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:20:35,182 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:20:35,183 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:20:35,183 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:20:35,185 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:20:35,435 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:20:35,435 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:20:35,435 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:20:35,526 - __main__ - INFO - 🔄 Fold 2: Train[524:1024] (500 samples), Test[1024:1045] (21 samples)
2025-09-23 00:20:35,526 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:20:35,526 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:20:35,529 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:20:40,485 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:20:40,486 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:20:40,486 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:20:40,487 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:20:40,487 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:20:40,489 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:20:40,730 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:20:40,731 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:20:40,731 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:20:40,810 - __main__ - INFO - 🔄 Fold 3: Train[545:1045] (500 samples), Test[1045:1066] (21 samples)
2025-09-23 00:20:40,810 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:20:40,810 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:20:40,812 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:20:45,710 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:20:45,711 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:20:45,711 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:20:45,712 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:20:45,712 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:20:45,714 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:20:45,988 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:20:45,988 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:20:45,988 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:20:46,082 - __main__ - INFO - 🔄 Fold 4: Train[566:1066] (500 samples), Test[1066:1087] (21 samples)
2025-09-23 00:20:46,082 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:20:46,082 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:20:46,085 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:20:50,888 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:20:50,889 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:20:50,889 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:20:50,890 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:20:50,890 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:20:50,892 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:20:51,170 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:20:51,170 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:20:51,170 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:20:51,245 - __main__ - INFO - 🔄 Fold 5: Train[587:1087] (500 samples), Test[1087:1108] (21 samples)
2025-09-23 00:20:51,245 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:20:51,245 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:20:51,247 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:20:56,055 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:20:56,055 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:20:56,055 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:20:56,056 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:20:56,057 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:20:56,059 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:20:56,299 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:20:56,299 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:20:56,299 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:20:56,367 - __main__ - INFO - 🔄 Fold 6: Train[608:1108] (500 samples), Test[1108:1129] (21 samples)
2025-09-23 00:20:56,367 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:20:56,367 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:20:56,369 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:21:01,178 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:21:01,179 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:21:01,179 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:21:01,180 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:21:01,180 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:21:01,182 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:21:01,486 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:21:01,487 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:21:01,487 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:21:01,552 - __main__ - INFO - 🔄 Fold 7: Train[629:1129] (500 samples), Test[1129:1150] (21 samples)
2025-09-23 00:21:01,552 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:21:01,552 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:21:01,554 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:21:06,391 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:21:06,392 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:21:06,392 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:21:06,393 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:21:06,393 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:21:06,395 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:21:06,690 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:21:06,690 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:21:06,691 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:21:06,766 - __main__ - INFO - 🔄 Fold 8: Train[650:1150] (500 samples), Test[1150:1171] (21 samples)
2025-09-23 00:21:06,766 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:21:06,766 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:21:06,768 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:21:11,592 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:21:11,592 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:21:11,592 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:21:11,593 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:21:11,593 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:21:11,595 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:21:11,855 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:21:11,856 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:21:11,856 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:21:11,933 - __main__ - INFO - 🔄 Fold 9: Train[671:1171] (500 samples), Test[1171:1192] (21 samples)
2025-09-23 00:21:11,934 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:21:11,934 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:21:11,936 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:21:16,794 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:21:16,794 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:21:16,794 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:21:16,795 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:21:16,795 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:21:16,797 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:21:17,101 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:21:17,101 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:21:17,101 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:21:17,166 - __main__ - INFO - 🔄 Fold 10: Train[692:1192] (500 samples), Test[1192:1213] (21 samples)
2025-09-23 00:21:17,166 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:21:17,166 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:21:17,168 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:21:22,064 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:21:22,065 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:21:22,065 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:21:22,066 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:21:22,066 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:21:22,068 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:21:22,339 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:21:22,340 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:21:22,340 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:21:22,414 - __main__ - INFO - 🔄 Fold 11: Train[713:1213] (500 samples), Test[1213:1234] (21 samples)
2025-09-23 00:21:22,414 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:21:22,414 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:21:22,416 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:21:27,247 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:21:27,247 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:21:27,247 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:21:27,248 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:21:27,248 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:21:27,250 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:21:27,502 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:21:27,502 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:21:27,502 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:21:27,579 - __main__ - INFO - 🔄 Fold 12: Train[734:1234] (500 samples), Test[1234:1255] (21 samples)
2025-09-23 00:21:27,579 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:21:27,579 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:21:27,582 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:21:32,407 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:21:32,408 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:21:32,408 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:21:32,409 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:21:32,409 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:21:32,411 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:21:32,653 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:21:32,654 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:21:32,654 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:21:32,730 - __main__ - INFO - 📊 Aggregating results from 12 successful folds
2025-09-23 00:21:32,733 - __main__ - INFO - 🎯 Walk-Forward Validation Results:
2025-09-23 00:21:32,733 - __main__ - INFO -   - Total folds: 12
2025-09-23 00:21:32,733 - __main__ - INFO -   - Total predictions: 192
2025-09-23 00:21:32,733 - __main__ - INFO -   - Final Accuracy: 0.432
2025-09-23 00:21:32,733 - __main__ - INFO -   - Final Precision: 0.526
2025-09-23 00:21:32,733 - __main__ - INFO -   - Final Recall: 0.447
2025-09-23 00:21:32,733 - __main__ - INFO -   - Final F1-Score: 0.483
2025-09-23 00:21:32,733 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-23 00:21:32,733 - __main__ - WARNING - ⚠️  Walk-forward F1 (0.483) below threshold (0.500)
2025-09-23 00:21:32,733 - __main__ - WARNING - 🚫 Model not saved - does not demonstrate reliable edge
2025-09-23 00:21:32,733 - __main__ - ERROR - ❌ Model training failed for MSFT
2025-09-23 00:21:32,733 - __main__ - ERROR - ❌ Failed to train model for MSFT
2025-09-23 00:21:32,733 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-23 00:21:32,733 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-23 00:23:35,087 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-23 00:23:35,087 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-23 00:23:35,087 - __main__ - INFO - ✅ RandomForest Strategy initialized with confidence threshold: 0.6
2025-09-23 00:23:35,087 - __main__ - INFO - 🚀 Starting model training for 1 tickers: MSFT
2025-09-23 00:23:35,087 - __main__ - INFO - 🔄 Force retrain: True
2025-09-23 00:23:35,087 - __main__ - INFO - 🔄 Walk-forward validation: True
2025-09-23 00:23:35,087 - __main__ - INFO - 📊 Walk-forward parameters:
2025-09-23 00:23:35,087 - __main__ - INFO -    - Training window: 500 days
2025-09-23 00:23:35,087 - __main__ - INFO -    - Retrain every: 21 days
2025-09-23 00:23:35,087 - __main__ - INFO -    - Test period: 252 days
2025-09-23 00:23:35,087 - __main__ - INFO - 📊 [1/1] Training model for MSFT
2025-09-23 00:23:35,088 - __main__ - INFO - 🧠 Training ML model for MSFT using Walk-Forward Validation
2025-09-23 00:23:35,088 - __main__ - INFO - 📊 Fetching complete dataset for MSFT
2025-09-23 00:23:35,611 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Fetching extended market data...
2025-09-23 00:23:38,921 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data ready: 17 indicators
2025-09-23 00:23:38,922 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data merged: 17 additional columns
2025-09-23 00:23:38,922 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 3480 data points for MSFT with 22 columns
2025-09-23 00:23:38,922 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for MSFT: [Timestamp('2023-09-25 09:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 10:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 11:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 12:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 13:30:00-0400', tz='America/New_York')]
2025-09-23 00:23:38,922 - strategy_layer.strategy_base.MLRandomForest - INFO - 🕒 Data time interval verified: 0 days 01:00:00
2025-09-23 00:23:38,925 - strategy_layer.strategy_base.MLRandomForest - INFO - 🏛️ Filtered to market hours: 3480 hourly bars remaining
2025-09-23 00:23:38,925 - __main__ - INFO - ✅ Loaded 3480 days of data for MSFT
2025-09-23 00:23:38,925 - __main__ - INFO - 📅 Data range: 2023-09-25 09:30:00-04:00 to 2025-09-22 15:30:00-04:00
2025-09-23 00:23:38,925 - __main__ - INFO - 🔄 Fold 1: Train[2728:3228] (500 samples), Test[3228:3249] (21 samples)
2025-09-23 00:23:38,925 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:23:38,925 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:23:38,928 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:23:43,610 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:23:43,611 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:23:43,611 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:23:43,612 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:23:43,612 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:23:43,613 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:23:43,863 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:23:43,863 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:23:43,864 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:23:43,949 - __main__ - INFO - 🔄 Fold 2: Train[2749:3249] (500 samples), Test[3249:3270] (21 samples)
2025-09-23 00:23:43,949 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:23:43,949 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:23:43,951 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:23:48,635 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:23:48,635 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:23:48,635 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:23:48,636 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:23:48,636 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:23:48,638 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:23:48,879 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:23:48,879 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:23:48,879 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:23:48,947 - __main__ - INFO - 🔄 Fold 3: Train[2770:3270] (500 samples), Test[3270:3291] (21 samples)
2025-09-23 00:23:48,947 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:23:48,947 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:23:48,949 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:23:53,740 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:23:53,741 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:23:53,741 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:23:53,742 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:23:53,742 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:23:53,744 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:23:54,010 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:23:54,011 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:23:54,011 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:23:54,076 - __main__ - INFO - 🔄 Fold 4: Train[2791:3291] (500 samples), Test[3291:3312] (21 samples)
2025-09-23 00:23:54,076 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:23:54,076 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:23:54,078 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:23:58,827 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:23:58,827 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:23:58,827 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:23:58,828 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:23:58,828 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:23:58,830 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:23:59,084 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:23:59,084 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:23:59,085 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:23:59,160 - __main__ - INFO - 🔄 Fold 5: Train[2812:3312] (500 samples), Test[3312:3333] (21 samples)
2025-09-23 00:23:59,161 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:23:59,161 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:23:59,163 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:24:03,934 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:24:03,935 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:24:03,935 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:24:03,935 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:24:03,936 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:24:03,937 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:24:04,177 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:24:04,178 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:24:04,178 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:24:04,245 - __main__ - INFO - 🔄 Fold 6: Train[2833:3333] (500 samples), Test[3333:3354] (21 samples)
2025-09-23 00:24:04,245 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:24:04,245 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:24:04,247 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:24:09,062 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:24:09,062 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:24:09,062 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:24:09,063 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:24:09,063 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:24:09,065 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:24:09,406 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:24:09,406 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:24:09,406 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:24:09,481 - __main__ - INFO - 🔄 Fold 7: Train[2854:3354] (500 samples), Test[3354:3375] (21 samples)
2025-09-23 00:24:09,481 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:24:09,481 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:24:09,483 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:24:14,254 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:24:14,255 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:24:14,255 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:24:14,256 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:24:14,256 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:24:14,258 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:24:14,521 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:24:14,522 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:24:14,522 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:24:14,599 - __main__ - INFO - 🔄 Fold 8: Train[2875:3375] (500 samples), Test[3375:3396] (21 samples)
2025-09-23 00:24:14,599 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:24:14,599 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:24:14,601 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:24:19,412 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:24:19,412 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:24:19,412 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:24:19,413 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:24:19,413 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:24:19,415 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:24:19,675 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:24:19,675 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:24:19,675 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:24:19,749 - __main__ - INFO - 🔄 Fold 9: Train[2896:3396] (500 samples), Test[3396:3417] (21 samples)
2025-09-23 00:24:19,749 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:24:19,749 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:24:19,751 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:24:24,551 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:24:24,551 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:24:24,552 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:24:24,552 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:24:24,552 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:24:24,554 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:24:24,785 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:24:24,786 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:24:24,786 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:24:24,862 - __main__ - INFO - 🔄 Fold 10: Train[2917:3417] (500 samples), Test[3417:3438] (21 samples)
2025-09-23 00:24:24,862 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:24:24,862 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:24:24,864 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:24:29,661 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:24:29,661 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:24:29,661 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:24:29,662 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:24:29,662 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:24:29,664 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:24:29,907 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:24:29,907 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:24:29,907 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:24:29,984 - __main__ - INFO - 🔄 Fold 11: Train[2938:3438] (500 samples), Test[3438:3459] (21 samples)
2025-09-23 00:24:29,984 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:24:29,984 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:24:29,986 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:24:34,785 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:24:34,786 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:24:34,786 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:24:34,787 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:24:34,787 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:24:34,789 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:24:35,042 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:24:35,042 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:24:35,042 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:24:35,115 - __main__ - INFO - 🔄 Fold 12: Train[2959:3459] (500 samples), Test[3459:3480] (21 samples)
2025-09-23 00:24:35,115 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:24:35,115 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:24:35,117 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:24:40,025 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:24:40,025 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:24:40,025 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:24:40,026 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:24:40,026 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:24:40,028 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:24:40,373 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:24:40,373 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:24:40,373 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_14', 'atr_14', 'sma_50_slope', 'macd_hist', 'volume_ratio_20', 'spy_returns', 'price_to_sma_50', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_5', 'relative_momentum_20', 'momentum_decay_5', 'momentum_decay_10', 'momentum_acceleration_5_10', 'momentum_acceleration_10_20', 'ema_20', 'rsi_7', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_20', 'volatility_ratio_5_20', 'roc_acceleration_5_20', 'roc_acceleration_10_20', 'momentum_decay_20', 'cci_14', 'obv', 'vix_close', 'vix_ma_20', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:24:40,448 - __main__ - INFO - 📊 Aggregating results from 12 successful folds
2025-09-23 00:24:40,451 - __main__ - INFO - 🎯 Walk-Forward Validation Results:
2025-09-23 00:24:40,451 - __main__ - INFO -   - Total folds: 12
2025-09-23 00:24:40,451 - __main__ - INFO -   - Total predictions: 192
2025-09-23 00:24:40,451 - __main__ - INFO -   - Final Accuracy: 0.365
2025-09-23 00:24:40,451 - __main__ - INFO -   - Final Precision: 0.351
2025-09-23 00:24:40,451 - __main__ - INFO -   - Final Recall: 0.438
2025-09-23 00:24:40,451 - __main__ - INFO -   - Final F1-Score: 0.390
2025-09-23 00:24:40,451 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-23 00:24:40,451 - __main__ - WARNING - ⚠️  Walk-forward F1 (0.390) below threshold (0.500)
2025-09-23 00:24:40,451 - __main__ - WARNING - 🚫 Model not saved - does not demonstrate reliable edge
2025-09-23 00:24:40,451 - __main__ - ERROR - ❌ Model training failed for MSFT
2025-09-23 00:24:40,451 - __main__ - ERROR - ❌ Failed to train model for MSFT
2025-09-23 00:24:40,451 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-23 00:24:40,451 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-23 00:29:59,239 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-23 00:29:59,239 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-23 00:29:59,239 - __main__ - INFO - ✅ RandomForest Strategy initialized with confidence threshold: 0.6
2025-09-23 00:29:59,239 - __main__ - INFO - 🚀 Starting model training for 1 tickers: MSFT
2025-09-23 00:29:59,239 - __main__ - INFO - 🔄 Force retrain: True
2025-09-23 00:29:59,239 - __main__ - INFO - 🔄 Walk-forward validation: True
2025-09-23 00:29:59,239 - __main__ - INFO - 📊 Walk-forward parameters:
2025-09-23 00:29:59,239 - __main__ - INFO -    - Training window: 500 days
2025-09-23 00:29:59,239 - __main__ - INFO -    - Retrain every: 21 days
2025-09-23 00:29:59,239 - __main__ - INFO -    - Test period: 252 days
2025-09-23 00:29:59,239 - __main__ - INFO - 📊 [1/1] Training model for MSFT
2025-09-23 00:29:59,239 - __main__ - INFO - 🧠 Training ML model for MSFT using Walk-Forward Validation
2025-09-23 00:29:59,240 - __main__ - INFO - 📊 Fetching complete dataset for MSFT
2025-09-23 00:29:59,842 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Fetching extended market data...
2025-09-23 00:30:03,062 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data ready: 17 indicators
2025-09-23 00:30:03,064 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data merged: 17 additional columns
2025-09-23 00:30:03,064 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 3480 data points for MSFT with 22 columns
2025-09-23 00:30:03,064 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for MSFT: [Timestamp('2023-09-25 09:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 10:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 11:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 12:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 13:30:00-0400', tz='America/New_York')]
2025-09-23 00:30:03,064 - strategy_layer.strategy_base.MLRandomForest - INFO - 🕒 Data time interval verified: 0 days 01:00:00
2025-09-23 00:30:03,066 - strategy_layer.strategy_base.MLRandomForest - INFO - 🏛️ Filtered to market hours: 3480 hourly bars remaining
2025-09-23 00:30:03,067 - __main__ - INFO - ✅ Loaded 3480 days of data for MSFT
2025-09-23 00:30:03,067 - __main__ - INFO - 📅 Data range: 2023-09-25 09:30:00-04:00 to 2025-09-22 15:30:00-04:00
2025-09-23 00:30:03,067 - __main__ - INFO - 🔄 Fold 1: Train[2728:3228] (500 samples), Test[3228:3249] (21 samples)
2025-09-23 00:30:03,067 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:30:03,067 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:30:03,070 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:30:03,095 - strategy_layer.strategy_base.MLRandomForest - ERROR - ❌ Exception in fold 1: 'atr_14'
2025-09-23 00:30:03,096 - __main__ - WARNING - ⚠️  Failed to train fold 1, skipping
2025-09-23 00:30:03,096 - __main__ - INFO - 🔄 Fold 2: Train[2749:3249] (500 samples), Test[3249:3270] (21 samples)
2025-09-23 00:30:03,096 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:30:03,096 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:30:03,098 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:30:03,118 - strategy_layer.strategy_base.MLRandomForest - ERROR - ❌ Exception in fold 2: 'atr_14'
2025-09-23 00:30:03,118 - __main__ - WARNING - ⚠️  Failed to train fold 2, skipping
2025-09-23 00:30:03,118 - __main__ - INFO - 🔄 Fold 3: Train[2770:3270] (500 samples), Test[3270:3291] (21 samples)
2025-09-23 00:30:03,118 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:30:03,118 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:30:03,120 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:30:03,138 - strategy_layer.strategy_base.MLRandomForest - ERROR - ❌ Exception in fold 3: 'atr_14'
2025-09-23 00:30:03,139 - __main__ - WARNING - ⚠️  Failed to train fold 3, skipping
2025-09-23 00:30:03,139 - __main__ - INFO - 🔄 Fold 4: Train[2791:3291] (500 samples), Test[3291:3312] (21 samples)
2025-09-23 00:30:03,139 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:30:03,139 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:30:03,140 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:30:03,158 - strategy_layer.strategy_base.MLRandomForest - ERROR - ❌ Exception in fold 4: 'atr_14'
2025-09-23 00:30:03,159 - __main__ - WARNING - ⚠️  Failed to train fold 4, skipping
2025-09-23 00:30:03,159 - __main__ - INFO - 🔄 Fold 5: Train[2812:3312] (500 samples), Test[3312:3333] (21 samples)
2025-09-23 00:30:03,159 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:30:03,159 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:30:03,161 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:30:03,178 - strategy_layer.strategy_base.MLRandomForest - ERROR - ❌ Exception in fold 5: 'atr_14'
2025-09-23 00:30:03,179 - __main__ - WARNING - ⚠️  Failed to train fold 5, skipping
2025-09-23 00:30:03,179 - __main__ - INFO - 🔄 Fold 6: Train[2833:3333] (500 samples), Test[3333:3354] (21 samples)
2025-09-23 00:30:03,179 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:30:03,179 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:30:03,181 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:30:03,199 - strategy_layer.strategy_base.MLRandomForest - ERROR - ❌ Exception in fold 6: 'atr_14'
2025-09-23 00:30:03,199 - __main__ - WARNING - ⚠️  Failed to train fold 6, skipping
2025-09-23 00:30:03,199 - __main__ - INFO - 🔄 Fold 7: Train[2854:3354] (500 samples), Test[3354:3375] (21 samples)
2025-09-23 00:30:03,199 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:30:03,199 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:30:03,201 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:30:03,218 - strategy_layer.strategy_base.MLRandomForest - ERROR - ❌ Exception in fold 7: 'atr_14'
2025-09-23 00:30:03,219 - __main__ - WARNING - ⚠️  Failed to train fold 7, skipping
2025-09-23 00:30:03,219 - __main__ - INFO - 🔄 Fold 8: Train[2875:3375] (500 samples), Test[3375:3396] (21 samples)
2025-09-23 00:30:03,219 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:30:03,219 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:30:03,221 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:30:03,239 - strategy_layer.strategy_base.MLRandomForest - ERROR - ❌ Exception in fold 8: 'atr_14'
2025-09-23 00:30:03,239 - __main__ - WARNING - ⚠️  Failed to train fold 8, skipping
2025-09-23 00:30:03,239 - __main__ - INFO - 🔄 Fold 9: Train[2896:3396] (500 samples), Test[3396:3417] (21 samples)
2025-09-23 00:30:03,239 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:30:03,239 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:30:03,241 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:30:03,259 - strategy_layer.strategy_base.MLRandomForest - ERROR - ❌ Exception in fold 9: 'atr_14'
2025-09-23 00:30:03,259 - __main__ - WARNING - ⚠️  Failed to train fold 9, skipping
2025-09-23 00:30:03,259 - __main__ - INFO - 🔄 Fold 10: Train[2917:3417] (500 samples), Test[3417:3438] (21 samples)
2025-09-23 00:30:03,259 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:30:03,259 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:30:03,261 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:30:03,281 - strategy_layer.strategy_base.MLRandomForest - ERROR - ❌ Exception in fold 10: 'atr_14'
2025-09-23 00:30:03,281 - __main__ - WARNING - ⚠️  Failed to train fold 10, skipping
2025-09-23 00:30:03,281 - __main__ - INFO - 🔄 Fold 11: Train[2938:3438] (500 samples), Test[3438:3459] (21 samples)
2025-09-23 00:30:03,281 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:30:03,281 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:30:03,283 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:30:03,301 - strategy_layer.strategy_base.MLRandomForest - ERROR - ❌ Exception in fold 11: 'atr_14'
2025-09-23 00:30:03,301 - __main__ - WARNING - ⚠️  Failed to train fold 11, skipping
2025-09-23 00:30:03,301 - __main__ - INFO - 🔄 Fold 12: Train[2959:3459] (500 samples), Test[3459:3480] (21 samples)
2025-09-23 00:30:03,301 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:30:03,301 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:30:03,303 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:30:03,322 - strategy_layer.strategy_base.MLRandomForest - ERROR - ❌ Exception in fold 12: 'atr_14'
2025-09-23 00:30:03,322 - __main__ - WARNING - ⚠️  Failed to train fold 12, skipping
2025-09-23 00:30:03,322 - __main__ - ERROR - ❌ No successful folds completed
2025-09-23 00:30:03,322 - __main__ - ERROR - ❌ Model training failed for MSFT
2025-09-23 00:30:03,322 - __main__ - ERROR - ❌ Failed to train model for MSFT
2025-09-23 00:30:03,322 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-23 00:30:03,322 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-23 00:31:01,992 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-23 00:31:01,992 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-23 00:31:01,992 - __main__ - INFO - ✅ RandomForest Strategy initialized with confidence threshold: 0.6
2025-09-23 00:31:01,992 - __main__ - INFO - 🚀 Starting model training for 1 tickers: MSFT
2025-09-23 00:31:01,992 - __main__ - INFO - 🔄 Force retrain: True
2025-09-23 00:31:01,992 - __main__ - INFO - 🔄 Walk-forward validation: True
2025-09-23 00:31:01,992 - __main__ - INFO - 📊 Walk-forward parameters:
2025-09-23 00:31:01,992 - __main__ - INFO -    - Training window: 500 days
2025-09-23 00:31:01,992 - __main__ - INFO -    - Retrain every: 21 days
2025-09-23 00:31:01,992 - __main__ - INFO -    - Test period: 252 days
2025-09-23 00:31:01,992 - __main__ - INFO - 📊 [1/1] Training model for MSFT
2025-09-23 00:31:01,992 - __main__ - INFO - 🧠 Training ML model for MSFT using Walk-Forward Validation
2025-09-23 00:31:01,992 - __main__ - INFO - 📊 Fetching complete dataset for MSFT
2025-09-23 00:31:02,515 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Fetching extended market data...
2025-09-23 00:31:05,650 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data ready: 17 indicators
2025-09-23 00:31:05,651 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data merged: 17 additional columns
2025-09-23 00:31:05,651 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 3480 data points for MSFT with 22 columns
2025-09-23 00:31:05,651 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for MSFT: [Timestamp('2023-09-25 09:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 10:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 11:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 12:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 13:30:00-0400', tz='America/New_York')]
2025-09-23 00:31:05,651 - strategy_layer.strategy_base.MLRandomForest - INFO - 🕒 Data time interval verified: 0 days 01:00:00
2025-09-23 00:31:05,654 - strategy_layer.strategy_base.MLRandomForest - INFO - 🏛️ Filtered to market hours: 3480 hourly bars remaining
2025-09-23 00:31:05,654 - __main__ - INFO - ✅ Loaded 3480 days of data for MSFT
2025-09-23 00:31:05,654 - __main__ - INFO - 📅 Data range: 2023-09-25 09:30:00-04:00 to 2025-09-22 15:30:00-04:00
2025-09-23 00:31:05,654 - __main__ - INFO - 🔄 Fold 1: Train[2728:3228] (500 samples), Test[3228:3249] (21 samples)
2025-09-23 00:31:05,654 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:31:05,654 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:31:05,657 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:31:07,955 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate extended market features: 'vix_ma_20'
2025-09-23 00:31:09,936 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:31:09,937 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:31:09,937 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:31:09,938 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:31:09,938 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:31:09,940 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:31:10,192 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate extended market features: 'vix_ma_20'
2025-09-23 00:31:10,209 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:31:10,209 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:31:10,209 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:31:10,296 - __main__ - INFO - 🔄 Fold 2: Train[2749:3249] (500 samples), Test[3249:3270] (21 samples)
2025-09-23 00:31:10,296 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:31:10,296 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:31:10,298 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:31:12,679 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate extended market features: 'vix_ma_20'
2025-09-23 00:31:14,697 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:31:14,697 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:31:14,697 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:31:14,698 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:31:14,698 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:31:14,700 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:31:14,979 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate extended market features: 'vix_ma_20'
2025-09-23 00:31:14,995 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:31:14,996 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:31:14,996 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:31:15,071 - __main__ - INFO - 🔄 Fold 3: Train[2770:3270] (500 samples), Test[3270:3291] (21 samples)
2025-09-23 00:31:15,071 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:31:15,071 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:31:15,074 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:31:17,451 - strategy_layer.strategy_base.MLRandomForest - WARNING - Failed to calculate extended market features: 'vix_ma_20'
2025-09-23 00:31:49,578 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-23 00:31:49,578 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-23 00:31:49,578 - __main__ - INFO - ✅ RandomForest Strategy initialized with confidence threshold: 0.6
2025-09-23 00:31:49,578 - __main__ - INFO - 🚀 Starting model training for 1 tickers: MSFT
2025-09-23 00:31:49,578 - __main__ - INFO - 🔄 Force retrain: True
2025-09-23 00:31:49,578 - __main__ - INFO - 🔄 Walk-forward validation: True
2025-09-23 00:31:49,578 - __main__ - INFO - 📊 Walk-forward parameters:
2025-09-23 00:31:49,578 - __main__ - INFO -    - Training window: 500 days
2025-09-23 00:31:49,578 - __main__ - INFO -    - Retrain every: 21 days
2025-09-23 00:31:49,578 - __main__ - INFO -    - Test period: 252 days
2025-09-23 00:31:49,578 - __main__ - INFO - 📊 [1/1] Training model for MSFT
2025-09-23 00:31:49,578 - __main__ - INFO - 🧠 Training ML model for MSFT using Walk-Forward Validation
2025-09-23 00:31:49,578 - __main__ - INFO - 📊 Fetching complete dataset for MSFT
2025-09-23 00:31:50,092 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Fetching extended market data...
2025-09-23 00:31:53,590 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data ready: 17 indicators
2025-09-23 00:31:53,591 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data merged: 17 additional columns
2025-09-23 00:31:53,591 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 3480 data points for MSFT with 22 columns
2025-09-23 00:31:53,591 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for MSFT: [Timestamp('2023-09-25 09:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 10:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 11:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 12:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 13:30:00-0400', tz='America/New_York')]
2025-09-23 00:31:53,591 - strategy_layer.strategy_base.MLRandomForest - INFO - 🕒 Data time interval verified: 0 days 01:00:00
2025-09-23 00:31:53,594 - strategy_layer.strategy_base.MLRandomForest - INFO - 🏛️ Filtered to market hours: 3480 hourly bars remaining
2025-09-23 00:31:53,594 - __main__ - INFO - ✅ Loaded 3480 days of data for MSFT
2025-09-23 00:31:53,594 - __main__ - INFO - 📅 Data range: 2023-09-25 09:30:00-04:00 to 2025-09-22 15:30:00-04:00
2025-09-23 00:31:53,594 - __main__ - INFO - 🔄 Fold 1: Train[2728:3228] (500 samples), Test[3228:3249] (21 samples)
2025-09-23 00:31:53,594 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:31:53,594 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:31:53,597 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:31:58,547 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:31:58,548 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:31:58,548 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:31:58,549 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:31:58,549 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:31:58,551 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:31:58,818 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:31:58,818 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:31:58,818 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:31:58,909 - __main__ - INFO - 🔄 Fold 2: Train[2749:3249] (500 samples), Test[3249:3270] (21 samples)
2025-09-23 00:31:58,909 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:31:58,909 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:31:58,912 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:32:03,767 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:32:03,768 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:32:03,768 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:32:03,769 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:32:03,769 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:32:03,771 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:32:04,075 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:32:04,076 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:32:04,076 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:32:04,149 - __main__ - INFO - 🔄 Fold 3: Train[2770:3270] (500 samples), Test[3270:3291] (21 samples)
2025-09-23 00:32:04,149 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:32:04,149 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:32:04,152 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:32:09,175 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:32:09,176 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:32:09,176 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:32:09,177 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:32:09,177 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:32:09,179 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:32:09,470 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:32:09,470 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:32:09,470 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:32:09,546 - __main__ - INFO - 🔄 Fold 4: Train[2791:3291] (500 samples), Test[3291:3312] (21 samples)
2025-09-23 00:32:09,546 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:32:09,546 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:32:09,548 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:32:14,459 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:32:14,460 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:32:14,460 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:32:14,461 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:32:14,461 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:32:14,463 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:32:14,773 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:32:14,774 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:32:14,774 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:32:14,839 - __main__ - INFO - 🔄 Fold 5: Train[2812:3312] (500 samples), Test[3312:3333] (21 samples)
2025-09-23 00:32:14,839 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:32:14,839 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:32:14,841 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:32:19,744 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:32:19,744 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:32:19,744 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:32:19,745 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:32:19,745 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:32:19,747 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:32:20,023 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:32:20,023 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:32:20,023 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:32:20,091 - __main__ - INFO - 🔄 Fold 6: Train[2833:3333] (500 samples), Test[3333:3354] (21 samples)
2025-09-23 00:32:20,091 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:32:20,091 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:32:20,093 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:32:25,017 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:32:25,017 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:32:25,017 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:32:25,018 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:32:25,018 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:32:25,020 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:32:25,280 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:32:25,280 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:32:25,281 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:32:25,357 - __main__ - INFO - 🔄 Fold 7: Train[2854:3354] (500 samples), Test[3354:3375] (21 samples)
2025-09-23 00:32:25,357 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:32:25,357 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:32:25,359 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:32:30,316 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:32:30,317 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:32:30,317 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:32:30,318 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:32:30,318 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:32:30,320 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:32:30,583 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:32:30,584 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:32:30,584 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:32:30,651 - __main__ - INFO - 🔄 Fold 8: Train[2875:3375] (500 samples), Test[3375:3396] (21 samples)
2025-09-23 00:32:30,651 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:32:30,651 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:32:30,653 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:32:35,668 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:32:35,669 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:32:35,669 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:32:35,670 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:32:35,670 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:32:35,672 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:32:35,947 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:32:35,948 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:32:35,948 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:32:36,021 - __main__ - INFO - 🔄 Fold 9: Train[2896:3396] (500 samples), Test[3396:3417] (21 samples)
2025-09-23 00:32:36,021 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:32:36,021 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:32:36,023 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:32:41,067 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:32:41,068 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:32:41,068 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:32:41,069 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:32:41,069 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:32:41,071 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:32:41,381 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:32:41,381 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:32:41,382 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:32:41,459 - __main__ - INFO - 🔄 Fold 10: Train[2917:3417] (500 samples), Test[3417:3438] (21 samples)
2025-09-23 00:32:41,459 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:32:41,459 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:32:41,461 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:32:46,473 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:32:46,473 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:32:46,473 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:32:46,474 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:32:46,474 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:32:46,476 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:32:46,805 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:32:46,805 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:32:46,805 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:32:46,871 - __main__ - INFO - 🔄 Fold 11: Train[2938:3438] (500 samples), Test[3438:3459] (21 samples)
2025-09-23 00:32:46,871 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:32:46,871 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:32:46,874 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:32:51,823 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:32:51,824 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:32:51,824 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:32:51,825 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:32:51,825 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:32:51,827 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:32:52,182 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:32:52,183 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:32:52,183 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:32:52,249 - __main__ - INFO - 🔄 Fold 12: Train[2959:3459] (500 samples), Test[3459:3480] (21 samples)
2025-09-23 00:32:52,249 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:32:52,249 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:32:52,251 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:32:57,205 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:32:57,206 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:32:57,206 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:32:57,207 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:32:57,207 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:32:57,209 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:32:57,514 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:32:57,515 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:32:57,515 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:32:57,588 - __main__ - INFO - 📊 Aggregating results from 12 successful folds
2025-09-23 00:32:57,590 - __main__ - INFO - 🎯 Walk-Forward Validation Results:
2025-09-23 00:32:57,590 - __main__ - INFO -   - Total folds: 12
2025-09-23 00:32:57,590 - __main__ - INFO -   - Total predictions: 192
2025-09-23 00:32:57,590 - __main__ - INFO -   - Final Accuracy: 0.448
2025-09-23 00:32:57,591 - __main__ - INFO -   - Final Precision: 0.433
2025-09-23 00:32:57,591 - __main__ - INFO -   - Final Recall: 0.618
2025-09-23 00:32:57,591 - __main__ - INFO -   - Final F1-Score: 0.509
2025-09-23 00:32:57,591 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-23 00:32:57,591 - __main__ - INFO - ✅ Walk-forward F1 (0.509) meets threshold (0.500)
2025-09-23 00:32:57,591 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-23 00:32:57,591 - strategy_layer.strategy_base.MLRandomForest - INFO - Training final deployment model for MSFT
2025-09-23 00:32:57,591 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for MSFT with 500 rows
2025-09-23 00:32:57,591 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-23 00:32:57,591 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:32:57,591 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:32:57,593 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:33:02,548 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:33:02,549 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (500, 71)
2025-09-23 00:33:02,549 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['atr_7', 'bb_position', 'bollinger_bandwidth_10', 'cci_7', 'chaikin_money_flow', 'close', 'ema_10', 'gld_close', 'gold_oil_ratio', 'high', 'ichimoku_chikou', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_tenkan', 'ief_close', 'iwm_close', 'keltner_lower', 'keltner_position', 'keltner_upper', 'low', 'macd_hist', 'market_breadth', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'momentum_decay_12', 'momentum_decay_3', 'momentum_decay_6', 'obv', 'open', 'parabolic_acceleration', 'parabolic_extreme', 'parabolic_sar', 'parabolic_trend', 'price_to_sma_20', 'qqq_close', 'regime_bear', 'regime_bull', 'regime_neutral', 'relative_momentum_12', 'relative_momentum_3', 'relative_strength', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'rsi_4', 'rsi_7', 'sector_tech_vs_energy', 'shy_close', 'sma_20', 'sma_20_slope', 'spy_close', 'spy_returns', 'stoch_k', 'tlt_close', 'uso_close', 'vix_close', 'vix_ma_10', 'vix_regime', 'volatility_ratio_3_10', 'volatility_regime', 'volume', 'volume_ratio_10', 'vwap', 'vwap_deviation', 'williams_r', 'xle_close', 'xlf_close', 'xli_close', 'xlk_close', 'xlv_close', 'yield_spread_20y_2y']
2025-09-23 00:33:02,549 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-23 00:33:02,549 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:33:02,549 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:33:02,550 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Train/Test Split for MSFT:
2025-09-23 00:33:02,550 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Training samples: 396 (2025-06-10 09:30:00-04:00 to 2025-09-02 09:30:00-04:00)
2025-09-23 00:33:02,550 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test samples: 99 (2025-09-02 10:30:00-04:00 to 2025-09-22 10:30:00-04:00)
2025-09-23 00:33:02,550 - strategy_layer.strategy_base.MLRandomForest - INFO -   - No overlap: Training ends 2025-09-02 09:30:00-04:00, Test starts 2025-09-02 10:30:00-04:00
2025-09-23 00:33:35,179 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for MSFT with:
2025-09-23 00:33:35,179 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': 'balanced', 'max_depth': 10, 'max_features': None, 'min_samples_leaf': 4, 'min_samples_split': 10, 'n_estimators': 50}
2025-09-23 00:33:35,179 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.465
2025-09-23 00:33:35,179 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.444
2025-09-23 00:33:35,179 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.551
2025-09-23 00:33:35,179 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.444
2025-09-23 00:33:35,179 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.413
2025-09-23 00:33:35,207 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Top 10 Feature Importances for MSFT:
2025-09-23 00:33:35,207 - strategy_layer.strategy_base.MLRandomForest - INFO -    1. bb_position               0.0892
2025-09-23 00:33:35,207 - strategy_layer.strategy_base.MLRandomForest - INFO -    2. ichimoku_tenkan           0.0712
2025-09-23 00:33:35,207 - strategy_layer.strategy_base.MLRandomForest - INFO -    3. vwap_deviation            0.0624
2025-09-23 00:33:35,207 - strategy_layer.strategy_base.MLRandomForest - INFO -    4. yield_spread_20y_2y       0.0594
2025-09-23 00:33:35,208 - strategy_layer.strategy_base.MLRandomForest - INFO -    5. iwm_close                 0.0440
2025-09-23 00:33:35,208 - strategy_layer.strategy_base.MLRandomForest - INFO -    6. obv                       0.0377
2025-09-23 00:33:35,208 - strategy_layer.strategy_base.MLRandomForest - INFO -    7. rsi_7                     0.0348
2025-09-23 00:33:35,208 - strategy_layer.strategy_base.MLRandomForest - INFO -    8. gold_oil_ratio            0.0330
2025-09-23 00:33:35,208 - strategy_layer.strategy_base.MLRandomForest - INFO -    9. sector_tech_vs_energy     0.0320
2025-09-23 00:33:35,208 - strategy_layer.strategy_base.MLRandomForest - INFO -   10. bollinger_bandwidth_10    0.0292
2025-09-23 00:33:35,241 - __main__ - INFO - 💾 Final model saved for MSFT deployment
2025-09-23 00:33:35,242 - __main__ - INFO - ✅ Successfully trained model for MSFT
2025-09-23 00:33:35,242 - __main__ - INFO - ✅ Successfully trained model for MSFT
2025-09-23 00:33:35,242 - __main__ - INFO - 🎯 Training completed: 1/1 models trained successfully
2025-09-23 00:33:35,242 - __main__ - INFO - 🎉 All models trained successfully!
2025-09-23 00:33:46,644 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-23 00:33:46,644 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-23 00:33:46,644 - __main__ - INFO - ✅ RandomForest Strategy initialized with confidence threshold: 0.6
2025-09-23 00:33:46,644 - __main__ - INFO - 🚀 Starting model training for 4 tickers: AAPL, GOOGL, AMZN, TSLA
2025-09-23 00:33:46,644 - __main__ - INFO - 🔄 Force retrain: True
2025-09-23 00:33:46,644 - __main__ - INFO - 🔄 Walk-forward validation: True
2025-09-23 00:33:46,644 - __main__ - INFO - 📊 Walk-forward parameters:
2025-09-23 00:33:46,644 - __main__ - INFO -    - Training window: 500 days
2025-09-23 00:33:46,644 - __main__ - INFO -    - Retrain every: 21 days
2025-09-23 00:33:46,644 - __main__ - INFO -    - Test period: 252 days
2025-09-23 00:33:46,644 - __main__ - INFO - 📊 [1/4] Training model for AAPL
2025-09-23 00:33:46,644 - __main__ - INFO - 🧠 Training ML model for AAPL using Walk-Forward Validation
2025-09-23 00:33:46,644 - __main__ - INFO - 📊 Fetching complete dataset for AAPL
2025-09-23 00:33:47,180 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Fetching extended market data...
2025-09-23 00:33:50,186 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data ready: 17 indicators
2025-09-23 00:33:50,187 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data merged: 17 additional columns
2025-09-23 00:33:50,187 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 3480 data points for AAPL with 22 columns
2025-09-23 00:33:50,187 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for AAPL: [Timestamp('2023-09-25 09:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 10:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 11:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 12:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 13:30:00-0400', tz='America/New_York')]
2025-09-23 00:33:50,187 - strategy_layer.strategy_base.MLRandomForest - INFO - 🕒 Data time interval verified: 0 days 01:00:00
2025-09-23 00:33:50,190 - strategy_layer.strategy_base.MLRandomForest - INFO - 🏛️ Filtered to market hours: 3480 hourly bars remaining
2025-09-23 00:33:50,190 - __main__ - INFO - ✅ Loaded 3480 days of data for AAPL
2025-09-23 00:33:50,190 - __main__ - INFO - 📅 Data range: 2023-09-25 09:30:00-04:00 to 2025-09-22 15:30:00-04:00
2025-09-23 00:33:50,191 - __main__ - INFO - 🔄 Fold 1: Train[2728:3228] (500 samples), Test[3228:3249] (21 samples)
2025-09-23 00:33:50,191 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:33:50,191 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:33:50,194 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:33:55,346 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:33:55,346 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:33:55,346 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:33:55,347 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:33:55,347 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:33:55,350 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:33:55,624 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:33:55,625 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:33:55,625 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:33:55,708 - __main__ - INFO - 🔄 Fold 2: Train[2749:3249] (500 samples), Test[3249:3270] (21 samples)
2025-09-23 00:33:55,708 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:33:55,708 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:33:55,710 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:34:00,836 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:34:00,836 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:34:00,836 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:34:00,838 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:34:00,838 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:34:00,839 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:34:01,116 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:34:01,116 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:34:01,117 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:34:01,190 - __main__ - INFO - 🔄 Fold 3: Train[2770:3270] (500 samples), Test[3270:3291] (21 samples)
2025-09-23 00:34:01,191 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:34:01,191 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:34:01,193 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:34:06,312 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:34:06,313 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:34:06,313 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:34:06,314 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:34:06,314 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:34:06,316 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:34:06,575 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:34:06,575 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:34:06,575 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:34:06,651 - __main__ - INFO - 🔄 Fold 4: Train[2791:3291] (500 samples), Test[3291:3312] (21 samples)
2025-09-23 00:34:06,651 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:34:06,651 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:34:06,653 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:34:11,759 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:34:11,760 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:34:11,760 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:34:11,761 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:34:11,761 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:34:11,763 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:34:12,027 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:34:12,027 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:34:12,028 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:34:12,105 - __main__ - INFO - 🔄 Fold 5: Train[2812:3312] (500 samples), Test[3312:3333] (21 samples)
2025-09-23 00:34:12,105 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:34:12,105 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:34:12,107 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:34:17,162 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:34:17,162 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:34:17,162 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:34:17,163 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:34:17,163 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:34:17,165 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:34:17,439 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:34:17,439 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:34:17,439 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:34:17,514 - __main__ - INFO - 🔄 Fold 6: Train[2833:3333] (500 samples), Test[3333:3354] (21 samples)
2025-09-23 00:34:17,514 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:34:17,514 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:34:17,516 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:34:22,594 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:34:22,594 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:34:22,594 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:34:22,595 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:34:22,595 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:34:22,597 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:34:22,870 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:34:22,871 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:34:22,871 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:34:22,949 - __main__ - INFO - 🔄 Fold 7: Train[2854:3354] (500 samples), Test[3354:3375] (21 samples)
2025-09-23 00:34:22,949 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:34:22,949 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:34:22,951 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:34:28,096 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:34:28,097 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:34:28,097 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:34:28,098 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:34:28,098 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:34:28,100 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:34:28,395 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:34:28,396 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:34:28,396 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:34:28,471 - __main__ - INFO - 🔄 Fold 8: Train[2875:3375] (500 samples), Test[3375:3396] (21 samples)
2025-09-23 00:34:28,471 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:34:28,471 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:34:28,474 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:34:33,618 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:34:33,619 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:34:33,619 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:34:33,620 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:34:33,620 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:34:33,622 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:34:33,919 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:34:33,919 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:34:33,919 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:34:33,997 - __main__ - INFO - 🔄 Fold 9: Train[2896:3396] (500 samples), Test[3396:3417] (21 samples)
2025-09-23 00:34:33,997 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:34:33,997 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:34:34,000 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:34:39,156 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:34:39,157 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:34:39,157 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:34:39,158 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:34:39,158 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:34:39,160 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:34:39,415 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:34:39,415 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:34:39,415 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:34:39,491 - __main__ - INFO - 🔄 Fold 10: Train[2917:3417] (500 samples), Test[3417:3438] (21 samples)
2025-09-23 00:34:39,491 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:34:39,491 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:34:39,493 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:34:44,624 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:34:44,624 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:34:44,625 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:34:44,627 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:34:44,627 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:34:44,629 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:34:44,923 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:34:44,924 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:34:44,924 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:34:44,999 - __main__ - INFO - 🔄 Fold 11: Train[2938:3438] (500 samples), Test[3438:3459] (21 samples)
2025-09-23 00:34:44,999 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:34:44,999 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:34:45,001 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:34:50,136 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:34:50,136 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:34:50,136 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:34:50,137 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:34:50,137 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:34:50,139 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:34:50,434 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:34:50,434 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:34:50,434 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:34:50,511 - __main__ - INFO - 🔄 Fold 12: Train[2959:3459] (500 samples), Test[3459:3480] (21 samples)
2025-09-23 00:34:50,511 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:34:50,511 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:34:50,513 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:34:55,715 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:34:55,716 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:34:55,716 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:34:55,717 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:34:55,717 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:34:55,719 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:34:55,993 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:34:55,993 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:34:55,993 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:34:56,071 - __main__ - INFO - 📊 Aggregating results from 12 successful folds
2025-09-23 00:34:56,074 - __main__ - INFO - 🎯 Walk-Forward Validation Results:
2025-09-23 00:34:56,074 - __main__ - INFO -   - Total folds: 12
2025-09-23 00:34:56,074 - __main__ - INFO -   - Total predictions: 192
2025-09-23 00:34:56,074 - __main__ - INFO -   - Final Accuracy: 0.510
2025-09-23 00:34:56,074 - __main__ - INFO -   - Final Precision: 0.615
2025-09-23 00:34:56,074 - __main__ - INFO -   - Final Recall: 0.487
2025-09-23 00:34:56,074 - __main__ - INFO -   - Final F1-Score: 0.544
2025-09-23 00:34:56,074 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-23 00:34:56,075 - __main__ - INFO - ✅ Walk-forward F1 (0.544) meets threshold (0.500)
2025-09-23 00:34:56,075 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-23 00:34:56,075 - strategy_layer.strategy_base.MLRandomForest - INFO - Training final deployment model for AAPL
2025-09-23 00:34:56,075 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for AAPL with 500 rows
2025-09-23 00:34:56,075 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-23 00:34:56,075 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:34:56,075 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:34:56,077 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:35:01,144 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:35:01,144 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (500, 71)
2025-09-23 00:35:01,145 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['atr_7', 'bb_position', 'bollinger_bandwidth_10', 'cci_7', 'chaikin_money_flow', 'close', 'ema_10', 'gld_close', 'gold_oil_ratio', 'high', 'ichimoku_chikou', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_tenkan', 'ief_close', 'iwm_close', 'keltner_lower', 'keltner_position', 'keltner_upper', 'low', 'macd_hist', 'market_breadth', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'momentum_decay_12', 'momentum_decay_3', 'momentum_decay_6', 'obv', 'open', 'parabolic_acceleration', 'parabolic_extreme', 'parabolic_sar', 'parabolic_trend', 'price_to_sma_20', 'qqq_close', 'regime_bear', 'regime_bull', 'regime_neutral', 'relative_momentum_12', 'relative_momentum_3', 'relative_strength', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'rsi_4', 'rsi_7', 'sector_tech_vs_energy', 'shy_close', 'sma_20', 'sma_20_slope', 'spy_close', 'spy_returns', 'stoch_k', 'tlt_close', 'uso_close', 'vix_close', 'vix_ma_10', 'vix_regime', 'volatility_ratio_3_10', 'volatility_regime', 'volume', 'volume_ratio_10', 'vwap', 'vwap_deviation', 'williams_r', 'xle_close', 'xlf_close', 'xli_close', 'xlk_close', 'xlv_close', 'yield_spread_20y_2y']
2025-09-23 00:35:01,145 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-23 00:35:01,145 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:35:01,145 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:35:01,146 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Train/Test Split for AAPL:
2025-09-23 00:35:01,146 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Training samples: 396 (2025-06-10 09:30:00-04:00 to 2025-09-02 09:30:00-04:00)
2025-09-23 00:35:01,146 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test samples: 99 (2025-09-02 10:30:00-04:00 to 2025-09-22 10:30:00-04:00)
2025-09-23 00:35:01,146 - strategy_layer.strategy_base.MLRandomForest - INFO -   - No overlap: Training ends 2025-09-02 09:30:00-04:00, Test starts 2025-09-02 10:30:00-04:00
2025-09-23 00:35:33,341 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for AAPL with:
2025-09-23 00:35:33,343 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 20, 'max_features': 'sqrt', 'min_samples_leaf': 2, 'min_samples_split': 5, 'n_estimators': 100}
2025-09-23 00:35:33,343 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.540
2025-09-23 00:35:33,343 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.455
2025-09-23 00:35:33,343 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.775
2025-09-23 00:35:33,343 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.455
2025-09-23 00:35:33,343 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.351
2025-09-23 00:35:33,370 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Top 10 Feature Importances for AAPL:
2025-09-23 00:35:33,371 - strategy_layer.strategy_base.MLRandomForest - INFO -    1. relative_strength         0.0456
2025-09-23 00:35:33,371 - strategy_layer.strategy_base.MLRandomForest - INFO -    2. gld_close                 0.0450
2025-09-23 00:35:33,371 - strategy_layer.strategy_base.MLRandomForest - INFO -    3. vix_ma_10                 0.0371
2025-09-23 00:35:33,371 - strategy_layer.strategy_base.MLRandomForest - INFO -    4. spy_returns               0.0305
2025-09-23 00:35:33,371 - strategy_layer.strategy_base.MLRandomForest - INFO -    5. market_breadth            0.0299
2025-09-23 00:35:33,371 - strategy_layer.strategy_base.MLRandomForest - INFO -    6. vwap_deviation            0.0295
2025-09-23 00:35:33,371 - strategy_layer.strategy_base.MLRandomForest - INFO -    7. atr_7                     0.0289
2025-09-23 00:35:33,371 - strategy_layer.strategy_base.MLRandomForest - INFO -    8. parabolic_sar             0.0266
2025-09-23 00:35:33,371 - strategy_layer.strategy_base.MLRandomForest - INFO -    9. obv                       0.0261
2025-09-23 00:35:33,371 - strategy_layer.strategy_base.MLRandomForest - INFO -   10. vix_close                 0.0255
2025-09-23 00:35:33,393 - __main__ - INFO - 💾 Final model saved for AAPL deployment
2025-09-23 00:35:33,393 - __main__ - INFO - ✅ Successfully trained model for AAPL
2025-09-23 00:35:33,393 - __main__ - INFO - ✅ Successfully trained model for AAPL
2025-09-23 00:35:33,393 - __main__ - INFO - 📊 [2/4] Training model for GOOGL
2025-09-23 00:35:33,393 - __main__ - INFO - 🧠 Training ML model for GOOGL using Walk-Forward Validation
2025-09-23 00:35:33,393 - __main__ - INFO - 📊 Fetching complete dataset for GOOGL
2025-09-23 00:35:33,727 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Fetching extended market data...
2025-09-23 00:35:33,908 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data ready: 17 indicators
2025-09-23 00:35:33,909 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data merged: 17 additional columns
2025-09-23 00:35:33,909 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 3480 data points for GOOGL with 22 columns
2025-09-23 00:35:33,909 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for GOOGL: [Timestamp('2023-09-25 09:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 10:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 11:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 12:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 13:30:00-0400', tz='America/New_York')]
2025-09-23 00:35:33,909 - strategy_layer.strategy_base.MLRandomForest - INFO - 🕒 Data time interval verified: 0 days 01:00:00
2025-09-23 00:35:33,910 - strategy_layer.strategy_base.MLRandomForest - INFO - 🏛️ Filtered to market hours: 3480 hourly bars remaining
2025-09-23 00:35:33,910 - __main__ - INFO - ✅ Loaded 3480 days of data for GOOGL
2025-09-23 00:35:33,910 - __main__ - INFO - 📅 Data range: 2023-09-25 09:30:00-04:00 to 2025-09-22 15:30:00-04:00
2025-09-23 00:35:33,910 - __main__ - INFO - 🔄 Fold 1: Train[2728:3228] (500 samples), Test[3228:3249] (21 samples)
2025-09-23 00:35:33,910 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:35:33,910 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:35:33,912 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:35:38,956 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:35:38,957 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:35:38,957 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:35:38,958 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:35:38,958 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:35:38,960 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:35:39,050 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:35:39,050 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:35:39,050 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:35:39,115 - __main__ - INFO - 🔄 Fold 2: Train[2749:3249] (500 samples), Test[3249:3270] (21 samples)
2025-09-23 00:35:39,116 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:35:39,116 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:35:39,118 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:35:44,019 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:35:44,019 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:35:44,019 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:35:44,020 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:35:44,020 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:35:44,022 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:35:44,113 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:35:44,113 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:35:44,113 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:35:44,189 - __main__ - INFO - 🔄 Fold 3: Train[2770:3270] (500 samples), Test[3270:3291] (21 samples)
2025-09-23 00:35:44,189 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:35:44,189 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:35:44,191 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:35:49,203 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:35:49,203 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:35:49,203 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:35:49,204 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:35:49,204 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:35:49,206 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:35:49,297 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:35:49,298 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:35:49,298 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:35:49,367 - __main__ - INFO - 🔄 Fold 4: Train[2791:3291] (500 samples), Test[3291:3312] (21 samples)
2025-09-23 00:35:49,367 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:35:49,367 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:35:49,369 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:35:54,286 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:35:54,287 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:35:54,287 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:35:54,288 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:35:54,288 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:35:54,290 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:35:54,382 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:35:54,382 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:35:54,382 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:35:54,460 - __main__ - INFO - 🔄 Fold 5: Train[2812:3312] (500 samples), Test[3312:3333] (21 samples)
2025-09-23 00:35:54,460 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:35:54,460 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:35:54,462 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:35:59,331 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:35:59,332 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:35:59,332 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:35:59,333 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:35:59,333 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:35:59,334 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:35:59,427 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:35:59,427 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:35:59,427 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:35:59,504 - __main__ - INFO - 🔄 Fold 6: Train[2833:3333] (500 samples), Test[3333:3354] (21 samples)
2025-09-23 00:35:59,504 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:35:59,504 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:35:59,507 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:36:04,408 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:36:04,409 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:36:04,409 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:36:04,410 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:36:04,410 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:36:04,412 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:36:04,502 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:36:04,502 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:36:04,502 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:36:04,578 - __main__ - INFO - 🔄 Fold 7: Train[2854:3354] (500 samples), Test[3354:3375] (21 samples)
2025-09-23 00:36:04,578 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:36:04,578 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:36:04,580 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:36:09,493 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:36:09,493 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:36:09,493 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:36:09,494 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:36:09,494 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:36:09,496 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:36:09,585 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:36:09,585 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:36:09,585 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:36:09,665 - __main__ - INFO - 🔄 Fold 8: Train[2875:3375] (500 samples), Test[3375:3396] (21 samples)
2025-09-23 00:36:09,665 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:36:09,665 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:36:09,667 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:36:14,550 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:36:14,550 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:36:14,550 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:36:14,551 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:36:14,551 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:36:14,553 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:36:14,642 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:36:14,643 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:36:14,643 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:36:14,718 - __main__ - INFO - 🔄 Fold 9: Train[2896:3396] (500 samples), Test[3396:3417] (21 samples)
2025-09-23 00:36:14,718 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:36:14,718 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:36:14,720 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:36:19,608 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:36:19,609 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:36:19,609 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:36:19,610 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:36:19,610 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:36:19,612 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:36:19,726 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:36:19,726 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:36:19,726 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:36:19,804 - __main__ - INFO - 🔄 Fold 10: Train[2917:3417] (500 samples), Test[3417:3438] (21 samples)
2025-09-23 00:36:19,804 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:36:19,804 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:36:19,806 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:36:24,669 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:36:24,669 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:36:24,669 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:36:24,670 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:36:24,670 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:36:24,672 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:36:24,764 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:36:24,764 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:36:24,764 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:36:24,829 - __main__ - INFO - 🔄 Fold 11: Train[2938:3438] (500 samples), Test[3438:3459] (21 samples)
2025-09-23 00:36:24,829 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:36:24,829 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:36:24,832 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:36:29,725 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:36:29,726 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:36:29,726 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:36:29,727 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:36:29,727 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:36:29,729 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:36:29,818 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:36:29,818 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:36:29,818 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:36:29,897 - __main__ - INFO - 🔄 Fold 12: Train[2959:3459] (500 samples), Test[3459:3480] (21 samples)
2025-09-23 00:36:29,897 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:36:29,897 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:36:29,899 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:36:34,773 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:36:34,773 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:36:34,773 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:36:34,774 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:36:34,774 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:36:34,776 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:36:34,867 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:36:34,867 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:36:34,867 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:36:34,942 - __main__ - INFO - 📊 Aggregating results from 12 successful folds
2025-09-23 00:36:34,945 - __main__ - INFO - 🎯 Walk-Forward Validation Results:
2025-09-23 00:36:34,945 - __main__ - INFO -   - Total folds: 12
2025-09-23 00:36:34,945 - __main__ - INFO -   - Total predictions: 192
2025-09-23 00:36:34,945 - __main__ - INFO -   - Final Accuracy: 0.573
2025-09-23 00:36:34,945 - __main__ - INFO -   - Final Precision: 0.640
2025-09-23 00:36:34,945 - __main__ - INFO -   - Final Recall: 0.736
2025-09-23 00:36:34,945 - __main__ - INFO -   - Final F1-Score: 0.685
2025-09-23 00:36:34,945 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-23 00:36:34,945 - __main__ - INFO - ✅ Walk-forward F1 (0.685) meets threshold (0.500)
2025-09-23 00:36:34,945 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-23 00:36:34,945 - strategy_layer.strategy_base.MLRandomForest - INFO - Training final deployment model for GOOGL
2025-09-23 00:36:34,945 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for GOOGL with 500 rows
2025-09-23 00:36:34,945 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-23 00:36:34,945 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:36:34,945 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:36:34,947 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:36:39,934 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:36:39,935 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (500, 71)
2025-09-23 00:36:39,935 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['atr_7', 'bb_position', 'bollinger_bandwidth_10', 'cci_7', 'chaikin_money_flow', 'close', 'ema_10', 'gld_close', 'gold_oil_ratio', 'high', 'ichimoku_chikou', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_tenkan', 'ief_close', 'iwm_close', 'keltner_lower', 'keltner_position', 'keltner_upper', 'low', 'macd_hist', 'market_breadth', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'momentum_decay_12', 'momentum_decay_3', 'momentum_decay_6', 'obv', 'open', 'parabolic_acceleration', 'parabolic_extreme', 'parabolic_sar', 'parabolic_trend', 'price_to_sma_20', 'qqq_close', 'regime_bear', 'regime_bull', 'regime_neutral', 'relative_momentum_12', 'relative_momentum_3', 'relative_strength', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'rsi_4', 'rsi_7', 'sector_tech_vs_energy', 'shy_close', 'sma_20', 'sma_20_slope', 'spy_close', 'spy_returns', 'stoch_k', 'tlt_close', 'uso_close', 'vix_close', 'vix_ma_10', 'vix_regime', 'volatility_ratio_3_10', 'volatility_regime', 'volume', 'volume_ratio_10', 'vwap', 'vwap_deviation', 'williams_r', 'xle_close', 'xlf_close', 'xli_close', 'xlk_close', 'xlv_close', 'yield_spread_20y_2y']
2025-09-23 00:36:39,936 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-23 00:36:39,936 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:36:39,936 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:36:39,937 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Train/Test Split for GOOGL:
2025-09-23 00:36:39,937 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Training samples: 396 (2025-06-10 09:30:00-04:00 to 2025-09-02 09:30:00-04:00)
2025-09-23 00:36:39,937 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test samples: 99 (2025-09-02 10:30:00-04:00 to 2025-09-22 10:30:00-04:00)
2025-09-23 00:36:39,937 - strategy_layer.strategy_base.MLRandomForest - INFO -   - No overlap: Training ends 2025-09-02 09:30:00-04:00, Test starts 2025-09-02 10:30:00-04:00
2025-09-23 00:37:11,528 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for GOOGL with:
2025-09-23 00:37:11,529 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': None, 'min_samples_leaf': 1, 'min_samples_split': 10, 'n_estimators': 200}
2025-09-23 00:37:11,529 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.542
2025-09-23 00:37:11,529 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.485
2025-09-23 00:37:11,529 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.698
2025-09-23 00:37:11,529 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.485
2025-09-23 00:37:11,529 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.476
2025-09-23 00:37:11,565 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Top 10 Feature Importances for GOOGL:
2025-09-23 00:37:11,565 - strategy_layer.strategy_base.MLRandomForest - INFO -    1. gold_oil_ratio            0.0987
2025-09-23 00:37:11,565 - strategy_layer.strategy_base.MLRandomForest - INFO -    2. uso_close                 0.0859
2025-09-23 00:37:11,565 - strategy_layer.strategy_base.MLRandomForest - INFO -    3. spy_returns               0.0536
2025-09-23 00:37:11,565 - strategy_layer.strategy_base.MLRandomForest - INFO -    4. yield_spread_20y_2y       0.0489
2025-09-23 00:37:11,565 - strategy_layer.strategy_base.MLRandomForest - INFO -    5. williams_r                0.0469
2025-09-23 00:37:11,565 - strategy_layer.strategy_base.MLRandomForest - INFO -    6. atr_7                     0.0364
2025-09-23 00:37:11,565 - strategy_layer.strategy_base.MLRandomForest - INFO -    7. sma_20_slope              0.0315
2025-09-23 00:37:11,565 - strategy_layer.strategy_base.MLRandomForest - INFO -    8. chaikin_money_flow        0.0310
2025-09-23 00:37:11,565 - strategy_layer.strategy_base.MLRandomForest - INFO -    9. relative_strength         0.0288
2025-09-23 00:37:11,565 - strategy_layer.strategy_base.MLRandomForest - INFO -   10. momentum_decay_12         0.0246
2025-09-23 00:37:11,589 - __main__ - INFO - 💾 Final model saved for GOOGL deployment
2025-09-23 00:37:11,589 - __main__ - INFO - ✅ Successfully trained model for GOOGL
2025-09-23 00:37:11,589 - __main__ - INFO - ✅ Successfully trained model for GOOGL
2025-09-23 00:37:11,589 - __main__ - INFO - 📊 [3/4] Training model for AMZN
2025-09-23 00:37:11,589 - __main__ - INFO - 🧠 Training ML model for AMZN using Walk-Forward Validation
2025-09-23 00:37:11,589 - __main__ - INFO - 📊 Fetching complete dataset for AMZN
2025-09-23 00:37:11,934 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Fetching extended market data...
2025-09-23 00:37:12,141 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data ready: 17 indicators
2025-09-23 00:37:12,141 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data merged: 17 additional columns
2025-09-23 00:37:12,141 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 3480 data points for AMZN with 22 columns
2025-09-23 00:37:12,142 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for AMZN: [Timestamp('2023-09-25 09:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 10:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 11:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 12:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 13:30:00-0400', tz='America/New_York')]
2025-09-23 00:37:12,142 - strategy_layer.strategy_base.MLRandomForest - INFO - 🕒 Data time interval verified: 0 days 01:00:00
2025-09-23 00:37:12,143 - strategy_layer.strategy_base.MLRandomForest - INFO - 🏛️ Filtered to market hours: 3480 hourly bars remaining
2025-09-23 00:37:12,143 - __main__ - INFO - ✅ Loaded 3480 days of data for AMZN
2025-09-23 00:37:12,143 - __main__ - INFO - 📅 Data range: 2023-09-25 09:30:00-04:00 to 2025-09-22 15:30:00-04:00
2025-09-23 00:37:12,143 - __main__ - INFO - 🔄 Fold 1: Train[2728:3228] (500 samples), Test[3228:3249] (21 samples)
2025-09-23 00:37:12,143 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:37:12,143 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:37:12,145 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:37:17,039 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:37:17,039 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:37:17,039 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:37:17,040 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:37:17,040 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:37:17,042 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:37:17,132 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:37:17,133 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:37:17,133 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:37:17,199 - __main__ - INFO - 🔄 Fold 2: Train[2749:3249] (500 samples), Test[3249:3270] (21 samples)
2025-09-23 00:37:17,199 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:37:17,199 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:37:17,201 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:37:22,103 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:37:22,103 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:37:22,103 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:37:22,104 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:37:22,104 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:37:22,106 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:37:22,197 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:37:22,197 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:37:22,197 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:37:22,263 - __main__ - INFO - 🔄 Fold 3: Train[2770:3270] (500 samples), Test[3270:3291] (21 samples)
2025-09-23 00:37:22,263 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:37:22,263 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:37:22,265 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:37:27,166 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:37:27,167 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:37:27,167 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:37:27,168 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:37:27,168 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:37:27,170 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:37:27,262 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:37:27,262 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:37:27,262 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:37:27,336 - __main__ - INFO - 🔄 Fold 4: Train[2791:3291] (500 samples), Test[3291:3312] (21 samples)
2025-09-23 00:37:27,336 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:37:27,336 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:37:27,338 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:37:32,208 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:37:32,208 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:37:32,208 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:37:32,209 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:37:32,209 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:37:32,211 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:37:32,302 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:37:32,302 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:37:32,302 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:37:32,365 - __main__ - INFO - 🔄 Fold 5: Train[2812:3312] (500 samples), Test[3312:3333] (21 samples)
2025-09-23 00:37:32,365 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:37:32,366 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:37:32,368 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:37:37,371 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:37:37,373 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:37:37,373 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:37:37,376 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:37:37,377 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:37:37,379 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:37:37,487 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:37:37,487 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:37:37,487 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:37:37,563 - __main__ - INFO - 🔄 Fold 6: Train[2833:3333] (500 samples), Test[3333:3354] (21 samples)
2025-09-23 00:37:37,563 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:37:37,563 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:37:37,566 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:37:42,509 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:37:42,509 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:37:42,509 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:37:42,510 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:37:42,511 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:37:42,512 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:37:42,604 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:37:42,604 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:37:42,604 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:37:42,670 - __main__ - INFO - 🔄 Fold 7: Train[2854:3354] (500 samples), Test[3354:3375] (21 samples)
2025-09-23 00:37:42,670 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:37:42,670 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:37:42,672 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:37:47,624 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:37:47,625 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:37:47,625 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:37:47,626 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:37:47,626 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:37:47,628 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:37:47,717 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:37:47,717 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:37:47,717 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:37:47,793 - __main__ - INFO - 🔄 Fold 8: Train[2875:3375] (500 samples), Test[3375:3396] (21 samples)
2025-09-23 00:37:47,793 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:37:47,793 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:37:47,796 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:37:52,704 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:37:52,704 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:37:52,704 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:37:52,705 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:37:52,705 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:37:52,707 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:37:52,799 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:37:52,800 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:37:52,800 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:37:52,864 - __main__ - INFO - 🔄 Fold 9: Train[2896:3396] (500 samples), Test[3396:3417] (21 samples)
2025-09-23 00:37:52,864 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:37:52,864 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:37:52,867 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:37:57,728 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:37:57,729 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:37:57,729 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:37:57,730 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:37:57,730 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:37:57,732 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:37:57,823 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:37:57,823 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:37:57,823 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:37:57,900 - __main__ - INFO - 🔄 Fold 10: Train[2917:3417] (500 samples), Test[3417:3438] (21 samples)
2025-09-23 00:37:57,901 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:37:57,901 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:37:57,903 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:38:02,794 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:38:02,795 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:38:02,795 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:38:02,796 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:38:02,796 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:38:02,798 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:38:02,891 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:38:02,892 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:38:02,892 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:38:02,957 - __main__ - INFO - 🔄 Fold 11: Train[2938:3438] (500 samples), Test[3438:3459] (21 samples)
2025-09-23 00:38:02,957 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:38:02,957 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:38:02,959 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:38:07,847 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:38:07,847 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:38:07,847 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:38:07,848 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:38:07,848 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:38:07,850 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:38:07,942 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:38:07,942 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:38:07,942 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:38:08,019 - __main__ - INFO - 🔄 Fold 12: Train[2959:3459] (500 samples), Test[3459:3480] (21 samples)
2025-09-23 00:38:08,019 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:38:08,019 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:38:08,022 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:38:12,907 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:38:12,907 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:38:12,907 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:38:12,908 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:38:12,908 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:38:12,910 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:38:13,000 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:38:13,001 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:38:13,001 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:38:13,077 - __main__ - INFO - 📊 Aggregating results from 12 successful folds
2025-09-23 00:38:13,079 - __main__ - INFO - 🎯 Walk-Forward Validation Results:
2025-09-23 00:38:13,079 - __main__ - INFO -   - Total folds: 12
2025-09-23 00:38:13,080 - __main__ - INFO -   - Total predictions: 192
2025-09-23 00:38:13,080 - __main__ - INFO -   - Final Accuracy: 0.531
2025-09-23 00:38:13,080 - __main__ - INFO -   - Final Precision: 0.512
2025-09-23 00:38:13,080 - __main__ - INFO -   - Final Recall: 0.894
2025-09-23 00:38:13,080 - __main__ - INFO -   - Final F1-Score: 0.651
2025-09-23 00:38:13,080 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-23 00:38:13,080 - __main__ - INFO - ✅ Walk-forward F1 (0.651) meets threshold (0.500)
2025-09-23 00:38:13,080 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-23 00:38:13,080 - strategy_layer.strategy_base.MLRandomForest - INFO - Training final deployment model for AMZN
2025-09-23 00:38:13,080 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for AMZN with 500 rows
2025-09-23 00:38:13,080 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-23 00:38:13,080 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:38:13,080 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:38:13,082 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:38:17,961 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:38:17,962 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (500, 71)
2025-09-23 00:38:17,962 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['atr_7', 'bb_position', 'bollinger_bandwidth_10', 'cci_7', 'chaikin_money_flow', 'close', 'ema_10', 'gld_close', 'gold_oil_ratio', 'high', 'ichimoku_chikou', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_tenkan', 'ief_close', 'iwm_close', 'keltner_lower', 'keltner_position', 'keltner_upper', 'low', 'macd_hist', 'market_breadth', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'momentum_decay_12', 'momentum_decay_3', 'momentum_decay_6', 'obv', 'open', 'parabolic_acceleration', 'parabolic_extreme', 'parabolic_sar', 'parabolic_trend', 'price_to_sma_20', 'qqq_close', 'regime_bear', 'regime_bull', 'regime_neutral', 'relative_momentum_12', 'relative_momentum_3', 'relative_strength', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'rsi_4', 'rsi_7', 'sector_tech_vs_energy', 'shy_close', 'sma_20', 'sma_20_slope', 'spy_close', 'spy_returns', 'stoch_k', 'tlt_close', 'uso_close', 'vix_close', 'vix_ma_10', 'vix_regime', 'volatility_ratio_3_10', 'volatility_regime', 'volume', 'volume_ratio_10', 'vwap', 'vwap_deviation', 'williams_r', 'xle_close', 'xlf_close', 'xli_close', 'xlk_close', 'xlv_close', 'yield_spread_20y_2y']
2025-09-23 00:38:17,962 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-23 00:38:17,962 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:38:17,962 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:38:17,963 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Train/Test Split for AMZN:
2025-09-23 00:38:17,963 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Training samples: 396 (2025-06-10 09:30:00-04:00 to 2025-09-02 09:30:00-04:00)
2025-09-23 00:38:17,963 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test samples: 99 (2025-09-02 10:30:00-04:00 to 2025-09-22 10:30:00-04:00)
2025-09-23 00:38:17,963 - strategy_layer.strategy_base.MLRandomForest - INFO -   - No overlap: Training ends 2025-09-02 09:30:00-04:00, Test starts 2025-09-02 10:30:00-04:00
2025-09-23 00:38:50,082 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for AMZN with:
2025-09-23 00:38:50,082 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': None, 'min_samples_leaf': 1, 'min_samples_split': 5, 'n_estimators': 100}
2025-09-23 00:38:50,082 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.664
2025-09-23 00:38:50,082 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.505
2025-09-23 00:38:50,082 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.515
2025-09-23 00:38:50,082 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.505
2025-09-23 00:38:50,082 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.495
2025-09-23 00:38:50,110 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Top 10 Feature Importances for AMZN:
2025-09-23 00:38:50,110 - strategy_layer.strategy_base.MLRandomForest - INFO -    1. spy_returns               0.1161
2025-09-23 00:38:50,110 - strategy_layer.strategy_base.MLRandomForest - INFO -    2. atr_7                     0.0771
2025-09-23 00:38:50,110 - strategy_layer.strategy_base.MLRandomForest - INFO -    3. sma_20_slope              0.0613
2025-09-23 00:38:50,110 - strategy_layer.strategy_base.MLRandomForest - INFO -    4. sector_tech_vs_energy     0.0357
2025-09-23 00:38:50,110 - strategy_layer.strategy_base.MLRandomForest - INFO -    5. obv                       0.0355
2025-09-23 00:38:50,110 - strategy_layer.strategy_base.MLRandomForest - INFO -    6. chaikin_money_flow        0.0302
2025-09-23 00:38:50,110 - strategy_layer.strategy_base.MLRandomForest - INFO -    7. market_breadth            0.0266
2025-09-23 00:38:50,110 - strategy_layer.strategy_base.MLRandomForest - INFO -    8. bollinger_bandwidth_10    0.0263
2025-09-23 00:38:50,110 - strategy_layer.strategy_base.MLRandomForest - INFO -    9. iwm_close                 0.0260
2025-09-23 00:38:50,110 - strategy_layer.strategy_base.MLRandomForest - INFO -   10. roc_acceleration_3_10     0.0251
2025-09-23 00:38:50,122 - __main__ - INFO - 💾 Final model saved for AMZN deployment
2025-09-23 00:38:50,122 - __main__ - INFO - ✅ Successfully trained model for AMZN
2025-09-23 00:38:50,122 - __main__ - INFO - ✅ Successfully trained model for AMZN
2025-09-23 00:38:50,122 - __main__ - INFO - 📊 [4/4] Training model for TSLA
2025-09-23 00:38:50,122 - __main__ - INFO - 🧠 Training ML model for TSLA using Walk-Forward Validation
2025-09-23 00:38:50,122 - __main__ - INFO - 📊 Fetching complete dataset for TSLA
2025-09-23 00:38:50,454 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Fetching extended market data...
2025-09-23 00:38:50,634 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data ready: 17 indicators
2025-09-23 00:38:50,634 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data merged: 17 additional columns
2025-09-23 00:38:50,634 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 3480 data points for TSLA with 22 columns
2025-09-23 00:38:50,635 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for TSLA: [Timestamp('2023-09-25 09:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 10:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 11:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 12:30:00-0400', tz='America/New_York'), Timestamp('2023-09-25 13:30:00-0400', tz='America/New_York')]
2025-09-23 00:38:50,635 - strategy_layer.strategy_base.MLRandomForest - INFO - 🕒 Data time interval verified: 0 days 01:00:00
2025-09-23 00:38:50,636 - strategy_layer.strategy_base.MLRandomForest - INFO - 🏛️ Filtered to market hours: 3480 hourly bars remaining
2025-09-23 00:38:50,636 - __main__ - INFO - ✅ Loaded 3480 days of data for TSLA
2025-09-23 00:38:50,636 - __main__ - INFO - 📅 Data range: 2023-09-25 09:30:00-04:00 to 2025-09-22 15:30:00-04:00
2025-09-23 00:38:50,636 - __main__ - INFO - 🔄 Fold 1: Train[2728:3228] (500 samples), Test[3228:3249] (21 samples)
2025-09-23 00:38:50,636 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:38:50,636 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:38:50,638 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:38:55,591 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:38:55,591 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:38:55,591 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:38:55,592 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:38:55,592 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:38:55,594 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:38:55,685 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:38:55,685 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:38:55,685 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:38:55,761 - __main__ - INFO - 🔄 Fold 2: Train[2749:3249] (500 samples), Test[3249:3270] (21 samples)
2025-09-23 00:38:55,761 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:38:55,761 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:38:55,763 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:39:00,671 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:39:00,672 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:39:00,672 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:39:00,673 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:39:00,673 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:39:00,675 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:39:00,768 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:39:00,768 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:39:00,768 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:39:00,842 - __main__ - INFO - 🔄 Fold 3: Train[2770:3270] (500 samples), Test[3270:3291] (21 samples)
2025-09-23 00:39:00,842 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:39:00,843 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:39:00,845 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:39:05,769 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:39:05,769 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:39:05,769 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:39:05,770 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:39:05,770 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:39:05,772 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:39:05,863 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:39:05,863 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:39:05,863 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:39:05,929 - __main__ - INFO - 🔄 Fold 4: Train[2791:3291] (500 samples), Test[3291:3312] (21 samples)
2025-09-23 00:39:05,929 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:39:05,929 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:39:05,931 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:39:10,877 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:39:10,878 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:39:10,878 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:39:10,879 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:39:10,879 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:39:10,881 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:39:10,972 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:39:10,972 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:39:10,972 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:39:11,045 - __main__ - INFO - 🔄 Fold 5: Train[2812:3312] (500 samples), Test[3312:3333] (21 samples)
2025-09-23 00:39:11,046 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:39:11,046 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:39:11,048 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:39:15,929 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:39:15,930 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:39:15,930 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:39:15,931 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:39:15,931 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:39:15,933 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:39:16,045 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:39:16,045 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:39:16,045 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:39:16,110 - __main__ - INFO - 🔄 Fold 6: Train[2833:3333] (500 samples), Test[3333:3354] (21 samples)
2025-09-23 00:39:16,110 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:39:16,110 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:39:16,112 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:39:20,985 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:39:20,986 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:39:20,986 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:39:20,987 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:39:20,987 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:39:20,989 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:39:21,079 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:39:21,080 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:39:21,080 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:39:21,157 - __main__ - INFO - 🔄 Fold 7: Train[2854:3354] (500 samples), Test[3354:3375] (21 samples)
2025-09-23 00:39:21,157 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:39:21,157 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:39:21,159 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:39:26,039 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:39:26,040 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:39:26,040 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:39:26,041 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:39:26,041 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:39:26,043 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:39:26,134 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:39:26,135 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:39:26,135 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:39:26,203 - __main__ - INFO - 🔄 Fold 8: Train[2875:3375] (500 samples), Test[3375:3396] (21 samples)
2025-09-23 00:39:26,203 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:39:26,203 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:39:26,205 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:39:31,095 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:39:31,095 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:39:31,095 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:39:31,096 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:39:31,096 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:39:31,098 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:39:31,190 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:39:31,191 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:39:31,191 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:39:31,267 - __main__ - INFO - 🔄 Fold 9: Train[2896:3396] (500 samples), Test[3396:3417] (21 samples)
2025-09-23 00:39:31,267 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:39:31,267 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:39:31,269 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:39:36,153 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:39:36,154 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:39:36,154 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:39:36,155 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:39:36,155 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:39:36,157 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:39:36,247 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:39:36,247 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:39:36,247 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:39:36,312 - __main__ - INFO - 🔄 Fold 10: Train[2917:3417] (500 samples), Test[3417:3438] (21 samples)
2025-09-23 00:39:36,312 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:39:36,313 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:39:36,315 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:39:41,298 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:39:41,299 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:39:41,299 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:39:41,300 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:39:41,300 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:39:41,302 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:39:41,392 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:39:41,392 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:39:41,392 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:39:41,468 - __main__ - INFO - 🔄 Fold 11: Train[2938:3438] (500 samples), Test[3438:3459] (21 samples)
2025-09-23 00:39:41,468 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:39:41,468 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:39:41,471 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:39:46,361 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:39:46,361 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:39:46,361 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:39:46,362 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:39:46,362 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:39:46,364 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:39:46,455 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:39:46,456 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:39:46,456 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:39:46,532 - __main__ - INFO - 🔄 Fold 12: Train[2959:3459] (500 samples), Test[3459:3480] (21 samples)
2025-09-23 00:39:46,532 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:39:46,532 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:39:46,534 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:39:51,570 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:39:51,573 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:39:51,574 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:39:51,582 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 00:39:51,582 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:39:51,594 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:39:51,834 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 00:39:51,835 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:39:51,835 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:39:51,912 - __main__ - INFO - 📊 Aggregating results from 12 successful folds
2025-09-23 00:39:51,915 - __main__ - INFO - 🎯 Walk-Forward Validation Results:
2025-09-23 00:39:51,915 - __main__ - INFO -   - Total folds: 12
2025-09-23 00:39:51,915 - __main__ - INFO -   - Total predictions: 192
2025-09-23 00:39:51,915 - __main__ - INFO -   - Final Accuracy: 0.443
2025-09-23 00:39:51,915 - __main__ - INFO -   - Final Precision: 0.487
2025-09-23 00:39:51,915 - __main__ - INFO -   - Final Recall: 0.558
2025-09-23 00:39:51,915 - __main__ - INFO -   - Final F1-Score: 0.520
2025-09-23 00:39:51,915 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-23 00:39:51,915 - __main__ - INFO - ✅ Walk-forward F1 (0.520) meets threshold (0.500)
2025-09-23 00:39:51,915 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-23 00:39:51,915 - strategy_layer.strategy_base.MLRandomForest - INFO - Training final deployment model for TSLA
2025-09-23 00:39:51,915 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for TSLA with 500 rows
2025-09-23 00:39:51,915 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-23 00:39:51,915 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 00:39:51,915 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 00:39:51,917 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 00:39:56,882 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 00:39:56,883 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (500, 71)
2025-09-23 00:39:56,883 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['atr_7', 'bb_position', 'bollinger_bandwidth_10', 'cci_7', 'chaikin_money_flow', 'close', 'ema_10', 'gld_close', 'gold_oil_ratio', 'high', 'ichimoku_chikou', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_tenkan', 'ief_close', 'iwm_close', 'keltner_lower', 'keltner_position', 'keltner_upper', 'low', 'macd_hist', 'market_breadth', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'momentum_decay_12', 'momentum_decay_3', 'momentum_decay_6', 'obv', 'open', 'parabolic_acceleration', 'parabolic_extreme', 'parabolic_sar', 'parabolic_trend', 'price_to_sma_20', 'qqq_close', 'regime_bear', 'regime_bull', 'regime_neutral', 'relative_momentum_12', 'relative_momentum_3', 'relative_strength', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'rsi_4', 'rsi_7', 'sector_tech_vs_energy', 'shy_close', 'sma_20', 'sma_20_slope', 'spy_close', 'spy_returns', 'stoch_k', 'tlt_close', 'uso_close', 'vix_close', 'vix_ma_10', 'vix_regime', 'volatility_ratio_3_10', 'volatility_regime', 'volume', 'volume_ratio_10', 'vwap', 'vwap_deviation', 'williams_r', 'xle_close', 'xlf_close', 'xli_close', 'xlk_close', 'xlv_close', 'yield_spread_20y_2y']
2025-09-23 00:39:56,884 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-23 00:39:56,884 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 00:39:56,884 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 00:39:56,886 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Train/Test Split for TSLA:
2025-09-23 00:39:56,886 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Training samples: 396 (2025-06-10 09:30:00-04:00 to 2025-09-02 09:30:00-04:00)
2025-09-23 00:39:56,887 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test samples: 99 (2025-09-02 10:30:00-04:00 to 2025-09-22 10:30:00-04:00)
2025-09-23 00:39:56,887 - strategy_layer.strategy_base.MLRandomForest - INFO -   - No overlap: Training ends 2025-09-02 09:30:00-04:00, Test starts 2025-09-02 10:30:00-04:00
2025-09-23 00:40:32,897 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for TSLA with:
2025-09-23 00:40:32,898 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': 10, 'max_features': None, 'min_samples_leaf': 1, 'min_samples_split': 5, 'n_estimators': 100}
2025-09-23 00:40:32,899 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.594
2025-09-23 00:40:32,899 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.333
2025-09-23 00:40:32,899 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.782
2025-09-23 00:40:32,899 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.333
2025-09-23 00:40:32,899 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.179
2025-09-23 00:40:32,927 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Top 10 Feature Importances for TSLA:
2025-09-23 00:40:32,928 - strategy_layer.strategy_base.MLRandomForest - INFO -    1. gld_close                 0.1025
2025-09-23 00:40:32,928 - strategy_layer.strategy_base.MLRandomForest - INFO -    2. ichimoku_senkou_b         0.0811
2025-09-23 00:40:32,928 - strategy_layer.strategy_base.MLRandomForest - INFO -    3. parabolic_sar             0.0592
2025-09-23 00:40:32,928 - strategy_layer.strategy_base.MLRandomForest - INFO -    4. rsi_7                     0.0564
2025-09-23 00:40:32,928 - strategy_layer.strategy_base.MLRandomForest - INFO -    5. spy_returns               0.0427
2025-09-23 00:40:32,928 - strategy_layer.strategy_base.MLRandomForest - INFO -    6. vwap                      0.0393
2025-09-23 00:40:32,928 - strategy_layer.strategy_base.MLRandomForest - INFO -    7. sector_tech_vs_energy     0.0313
2025-09-23 00:40:32,928 - strategy_layer.strategy_base.MLRandomForest - INFO -    8. yield_spread_20y_2y       0.0304
2025-09-23 00:40:32,928 - strategy_layer.strategy_base.MLRandomForest - INFO -    9. relative_momentum_3       0.0265
2025-09-23 00:40:32,928 - strategy_layer.strategy_base.MLRandomForest - INFO -   10. sma_20_slope              0.0258
2025-09-23 00:40:32,959 - __main__ - INFO - 💾 Final model saved for TSLA deployment
2025-09-23 00:40:32,960 - __main__ - INFO - ✅ Successfully trained model for TSLA
2025-09-23 00:40:32,960 - __main__ - INFO - ✅ Successfully trained model for TSLA
2025-09-23 00:40:32,961 - __main__ - INFO - 🎯 Training completed: 4/4 models trained successfully
2025-09-23 00:40:32,961 - __main__ - INFO - 🎉 All models trained successfully!
2025-09-23 09:49:50,110 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-23 09:49:50,110 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-23 09:49:50,110 - strategy_layer.strategy_base.MLRandomForest - WARNING - yfinance not available, strategy will have limited functionality
2025-09-23 09:49:50,110 - __main__ - INFO - ✅ RandomForest Strategy initialized with confidence threshold: 0.6
2025-09-23 09:49:50,110 - __main__ - INFO - 🚀 Starting model training for 1 tickers: MSFT
2025-09-23 09:49:50,110 - __main__ - INFO - 🔄 Force retrain: True
2025-09-23 09:49:50,110 - __main__ - INFO - 🔄 Walk-forward validation: True
2025-09-23 09:49:50,110 - __main__ - INFO - 📊 Walk-forward parameters:
2025-09-23 09:49:50,110 - __main__ - INFO -    - Training window: 500 days
2025-09-23 09:49:50,110 - __main__ - INFO -    - Retrain every: 21 days
2025-09-23 09:49:50,110 - __main__ - INFO -    - Test period: 252 days
2025-09-23 09:49:50,110 - __main__ - INFO - 📊 [1/1] Training model for MSFT
2025-09-23 09:49:50,110 - __main__ - INFO - 🧠 Training ML model for MSFT using Walk-Forward Validation
2025-09-23 09:49:50,110 - __main__ - INFO - 📊 Fetching complete dataset for MSFT
2025-09-23 09:49:50,111 - core.error_handler - ERROR - [DATA] yfinance not available (Context: ticker=MSFT) | Exception: ImportError
2025-09-23 09:49:50,111 - __main__ - WARNING - Insufficient data for walk-forward validation: 0 rows
2025-09-23 09:49:50,111 - __main__ - ERROR - ❌ Model training failed for MSFT
2025-09-23 09:49:50,111 - __main__ - ERROR - ❌ Failed to train model for MSFT
2025-09-23 09:49:50,111 - __main__ - INFO - 🎯 Training completed: 0/1 models trained successfully
2025-09-23 09:49:50,111 - __main__ - ERROR - 💥 Training failed for all tickers
2025-09-23 09:49:50,132 - strategy_layer.strategy_base.MLRandomForest - INFO - ML Strategy resources cleaned up
2025-09-23 09:51:17,312 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-23 09:51:17,312 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-23 09:51:17,312 - __main__ - INFO - ✅ RandomForest Strategy initialized with confidence threshold: 0.6
2025-09-23 09:51:17,312 - __main__ - INFO - 🚀 Starting model training for 1 tickers: MSFT
2025-09-23 09:51:17,312 - __main__ - INFO - 🔄 Force retrain: True
2025-09-23 09:51:17,312 - __main__ - INFO - 🔄 Walk-forward validation: True
2025-09-23 09:51:17,312 - __main__ - INFO - 📊 Walk-forward parameters:
2025-09-23 09:51:17,313 - __main__ - INFO -    - Training window: 500 days
2025-09-23 09:51:17,313 - __main__ - INFO -    - Retrain every: 21 days
2025-09-23 09:51:17,313 - __main__ - INFO -    - Test period: 252 days
2025-09-23 09:51:17,313 - __main__ - INFO - 📊 [1/1] Training model for MSFT
2025-09-23 09:51:17,313 - __main__ - INFO - 🧠 Training ML model for MSFT using Walk-Forward Validation
2025-09-23 09:51:17,313 - __main__ - INFO - 📊 Fetching complete dataset for MSFT
2025-09-23 09:51:17,968 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Fetching extended market data...
2025-09-23 09:51:22,038 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data ready: 17 indicators
2025-09-23 09:51:22,039 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data merged: 17 additional columns
2025-09-23 09:51:22,040 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 3480 data points for MSFT with 22 columns
2025-09-23 09:51:22,040 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for MSFT: [Timestamp('2023-09-25 13:30:00+0000', tz='UTC'), Timestamp('2023-09-25 14:30:00+0000', tz='UTC'), Timestamp('2023-09-25 15:30:00+0000', tz='UTC'), Timestamp('2023-09-25 16:30:00+0000', tz='UTC'), Timestamp('2023-09-25 17:30:00+0000', tz='UTC')]
2025-09-23 09:51:22,040 - strategy_layer.strategy_base.MLRandomForest - INFO - 🕒 Data time interval verified: 0 days 01:00:00
2025-09-23 09:51:22,043 - strategy_layer.strategy_base.MLRandomForest - INFO - 🏛️ Filtered to market hours: 3480 hourly bars remaining
2025-09-23 09:51:22,044 - __main__ - INFO - ✅ Loaded 3480 days of data for MSFT
2025-09-23 09:51:22,044 - __main__ - INFO - 📅 Data range: 2023-09-25 09:30:00-04:00 to 2025-09-22 15:30:00-04:00
2025-09-23 09:51:22,044 - __main__ - INFO - 🔄 Fold 1: Train[2728:3228] (500 samples), Test[3228:3249] (21 samples)
2025-09-23 09:51:22,044 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 09:51:22,044 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 09:51:22,048 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 09:51:30,485 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 09:51:30,486 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 09:51:30,486 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 09:51:30,488 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 09:51:30,488 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 09:51:30,492 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 09:51:30,808 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 09:51:30,808 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 09:51:30,808 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 09:51:30,932 - __main__ - INFO - 🔄 Fold 2: Train[2749:3249] (500 samples), Test[3249:3270] (21 samples)
2025-09-23 09:51:30,932 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 09:51:30,932 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 09:51:30,936 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 09:51:39,307 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 09:51:39,307 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 09:51:39,308 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 09:51:39,309 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 09:51:39,310 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 09:51:39,313 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 09:51:39,621 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 09:51:39,621 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 09:51:39,621 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 09:51:39,722 - __main__ - INFO - 🔄 Fold 3: Train[2770:3270] (500 samples), Test[3270:3291] (21 samples)
2025-09-23 09:51:39,722 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 09:51:39,722 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 09:51:39,726 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 09:51:48,095 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 09:51:48,095 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 09:51:48,096 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 09:51:48,098 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 09:51:48,098 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 09:51:48,102 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 09:51:48,411 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 09:51:48,412 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 09:51:48,412 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 09:51:48,512 - __main__ - INFO - 🔄 Fold 4: Train[2791:3291] (500 samples), Test[3291:3312] (21 samples)
2025-09-23 09:51:48,512 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 09:51:48,512 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 09:51:48,516 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 09:51:56,918 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 09:51:56,919 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 09:51:56,919 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 09:51:56,921 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 09:51:56,921 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 09:51:56,925 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 09:51:57,331 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 09:51:57,331 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 09:51:57,331 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 09:51:57,436 - __main__ - INFO - 🔄 Fold 5: Train[2812:3312] (500 samples), Test[3312:3333] (21 samples)
2025-09-23 09:51:57,436 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 09:51:57,436 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 09:51:57,440 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 09:52:06,083 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 09:52:06,084 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 09:52:06,084 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 09:52:06,086 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 09:52:06,086 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 09:52:06,091 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 09:52:06,522 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 09:52:06,523 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 09:52:06,523 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 09:52:06,625 - __main__ - INFO - 🔄 Fold 6: Train[2833:3333] (500 samples), Test[3333:3354] (21 samples)
2025-09-23 09:52:06,625 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 09:52:06,625 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 09:52:06,629 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 09:52:14,953 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 09:52:14,953 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 09:52:14,954 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 09:52:14,955 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 09:52:14,956 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 09:52:14,959 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 09:52:15,317 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 09:52:15,318 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 09:52:15,318 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 09:52:15,418 - __main__ - INFO - 🔄 Fold 7: Train[2854:3354] (500 samples), Test[3354:3375] (21 samples)
2025-09-23 09:52:15,418 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 09:52:15,418 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 09:52:15,422 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 09:52:23,916 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 09:52:23,917 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 09:52:23,917 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 09:52:23,919 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 09:52:23,919 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 09:52:23,923 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 09:52:24,256 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 09:52:24,257 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 09:52:24,257 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 09:52:24,358 - __main__ - INFO - 🔄 Fold 8: Train[2875:3375] (500 samples), Test[3375:3396] (21 samples)
2025-09-23 09:52:24,358 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 09:52:24,358 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 09:52:24,362 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 09:52:32,726 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 09:52:32,727 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 09:52:32,727 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 09:52:32,729 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 09:52:32,729 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 09:52:32,733 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 09:52:33,037 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 09:52:33,038 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 09:52:33,038 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 09:52:33,140 - __main__ - INFO - 🔄 Fold 9: Train[2896:3396] (500 samples), Test[3396:3417] (21 samples)
2025-09-23 09:52:33,140 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 09:52:33,140 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 09:52:33,144 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 09:52:41,654 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 09:52:41,655 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 09:52:41,655 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 09:52:41,657 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 09:52:41,657 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 09:52:41,661 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 09:52:41,979 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 09:52:41,979 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 09:52:41,979 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 09:52:42,080 - __main__ - INFO - 🔄 Fold 10: Train[2917:3417] (500 samples), Test[3417:3438] (21 samples)
2025-09-23 09:52:42,080 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 09:52:42,080 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 09:52:42,084 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 09:52:50,551 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 09:52:50,551 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 09:52:50,551 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 09:52:50,553 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 09:52:50,553 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 09:52:50,557 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 09:52:50,895 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 09:52:50,896 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 09:52:50,896 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 09:52:50,999 - __main__ - INFO - 🔄 Fold 11: Train[2938:3438] (500 samples), Test[3438:3459] (21 samples)
2025-09-23 09:52:51,000 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 09:52:51,000 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 09:52:51,003 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 09:52:59,538 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 09:52:59,538 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 09:52:59,538 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 09:52:59,540 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 09:52:59,540 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 09:52:59,544 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 09:52:59,868 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 09:52:59,869 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 09:52:59,869 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 09:52:59,971 - __main__ - INFO - 🔄 Fold 12: Train[2959:3459] (500 samples), Test[3459:3480] (21 samples)
2025-09-23 09:52:59,972 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 09:52:59,972 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 09:52:59,975 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 09:53:08,350 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 09:53:08,351 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 09:53:08,351 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 09:53:08,353 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 09:53:08,353 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 09:53:08,357 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 09:53:08,743 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 09:53:08,743 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 09:53:08,743 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 09:53:08,853 - __main__ - INFO - 📊 Aggregating results from 12 successful folds
2025-09-23 09:53:08,857 - __main__ - INFO - 🎯 Walk-Forward Validation Results:
2025-09-23 09:53:08,857 - __main__ - INFO -   - Total folds: 12
2025-09-23 09:53:08,857 - __main__ - INFO -   - Total predictions: 192
2025-09-23 09:53:08,857 - __main__ - INFO -   - Final Accuracy: 0.510
2025-09-23 09:53:08,858 - __main__ - INFO -   - Final Precision: 0.481
2025-09-23 09:53:08,858 - __main__ - INFO -   - Final Recall: 0.719
2025-09-23 09:53:08,858 - __main__ - INFO -   - Final F1-Score: 0.577
2025-09-23 09:53:08,858 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-23 09:53:08,858 - __main__ - INFO - ✅ Walk-forward F1 (0.577) meets threshold (0.500)
2025-09-23 09:53:08,858 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-23 09:53:08,858 - strategy_layer.strategy_base.MLRandomForest - INFO - Training final deployment model for MSFT
2025-09-23 09:53:08,858 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for MSFT with 500 rows
2025-09-23 09:53:08,858 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-23 09:53:08,858 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 09:53:08,858 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 09:53:08,863 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 09:53:17,161 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 09:53:17,161 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (500, 71)
2025-09-23 09:53:17,161 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['atr_7', 'bb_position', 'bollinger_bandwidth_10', 'cci_7', 'chaikin_money_flow', 'close', 'ema_10', 'gld_close', 'gold_oil_ratio', 'high', 'ichimoku_chikou', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_tenkan', 'ief_close', 'iwm_close', 'keltner_lower', 'keltner_position', 'keltner_upper', 'low', 'macd_hist', 'market_breadth', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'momentum_decay_12', 'momentum_decay_3', 'momentum_decay_6', 'obv', 'open', 'parabolic_acceleration', 'parabolic_extreme', 'parabolic_sar', 'parabolic_trend', 'price_to_sma_20', 'qqq_close', 'regime_bear', 'regime_bull', 'regime_neutral', 'relative_momentum_12', 'relative_momentum_3', 'relative_strength', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'rsi_4', 'rsi_7', 'sector_tech_vs_energy', 'shy_close', 'sma_20', 'sma_20_slope', 'spy_close', 'spy_returns', 'stoch_k', 'tlt_close', 'uso_close', 'vix_close', 'vix_ma_10', 'vix_regime', 'volatility_ratio_3_10', 'volatility_regime', 'volume', 'volume_ratio_10', 'vwap', 'vwap_deviation', 'williams_r', 'xle_close', 'xlf_close', 'xli_close', 'xlk_close', 'xlv_close', 'yield_spread_20y_2y']
2025-09-23 09:53:17,161 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-23 09:53:17,162 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 09:53:17,162 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 09:53:17,164 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Train/Test Split for MSFT:
2025-09-23 09:53:17,164 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Training samples: 396 (2025-06-10 09:30:00-04:00 to 2025-09-02 09:30:00-04:00)
2025-09-23 09:53:17,164 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test samples: 99 (2025-09-02 10:30:00-04:00 to 2025-09-22 10:30:00-04:00)
2025-09-23 09:53:17,164 - strategy_layer.strategy_base.MLRandomForest - INFO -   - No overlap: Training ends 2025-09-02 09:30:00-04:00, Test starts 2025-09-02 10:30:00-04:00
2025-09-23 09:53:55,763 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for MSFT with:
2025-09-23 09:53:55,763 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': 'balanced', 'max_depth': 10, 'max_features': None, 'min_samples_leaf': 4, 'min_samples_split': 2, 'n_estimators': 50}
2025-09-23 09:53:55,763 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.470
2025-09-23 09:53:55,763 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.515
2025-09-23 09:53:55,763 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.557
2025-09-23 09:53:55,763 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.515
2025-09-23 09:53:55,763 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.522
2025-09-23 09:53:55,801 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Top 10 Feature Importances for MSFT:
2025-09-23 09:53:55,801 - strategy_layer.strategy_base.MLRandomForest - INFO -    1. bb_position               0.1175
2025-09-23 09:53:55,801 - strategy_layer.strategy_base.MLRandomForest - INFO -    2. ichimoku_tenkan           0.0752
2025-09-23 09:53:55,802 - strategy_layer.strategy_base.MLRandomForest - INFO -    3. vwap_deviation            0.0716
2025-09-23 09:53:55,802 - strategy_layer.strategy_base.MLRandomForest - INFO -    4. obv                       0.0510
2025-09-23 09:53:55,802 - strategy_layer.strategy_base.MLRandomForest - INFO -    5. vwap                      0.0507
2025-09-23 09:53:55,802 - strategy_layer.strategy_base.MLRandomForest - INFO -    6. bollinger_bandwidth_10    0.0502
2025-09-23 09:53:55,802 - strategy_layer.strategy_base.MLRandomForest - INFO -    7. atr_7                     0.0425
2025-09-23 09:53:55,802 - strategy_layer.strategy_base.MLRandomForest - INFO -    8. rsi_7                     0.0386
2025-09-23 09:53:55,802 - strategy_layer.strategy_base.MLRandomForest - INFO -    9. stoch_k                   0.0379
2025-09-23 09:53:55,802 - strategy_layer.strategy_base.MLRandomForest - INFO -   10. ichimoku_chikou           0.0364
2025-09-23 09:53:55,817 - __main__ - INFO - 💾 Final model saved for MSFT deployment
2025-09-23 09:53:55,817 - __main__ - INFO - ✅ Successfully trained model for MSFT
2025-09-23 09:53:55,817 - __main__ - INFO - ✅ Successfully trained model for MSFT
2025-09-23 09:53:55,817 - __main__ - INFO - 🎯 Training completed: 1/1 models trained successfully
2025-09-23 09:53:55,817 - __main__ - INFO - 🎉 All models trained successfully!
2025-09-23 09:53:55,818 - strategy_layer.strategy_base.MLRandomForest - INFO - ML Strategy resources cleaned up
2025-09-23 11:24:57,522 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.6
2025-09-23 11:24:57,523 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-23 11:24:57,523 - __main__ - INFO - ✅ RandomForest Strategy initialized with confidence threshold: 0.6
2025-09-23 11:24:57,523 - __main__ - INFO - 🚀 Starting model training for 1 tickers: MSFT
2025-09-23 11:24:57,523 - __main__ - INFO - 🔄 Force retrain: True
2025-09-23 11:24:57,523 - __main__ - INFO - 🔄 Walk-forward validation: True
2025-09-23 11:24:57,523 - __main__ - INFO - 📊 Walk-forward parameters:
2025-09-23 11:24:57,523 - __main__ - INFO -    - Training window: 500 days
2025-09-23 11:24:57,523 - __main__ - INFO -    - Retrain every: 21 days
2025-09-23 11:24:57,523 - __main__ - INFO -    - Test period: 252 days
2025-09-23 11:24:57,523 - __main__ - INFO - 📊 [1/1] Training model for MSFT
2025-09-23 11:24:57,523 - __main__ - INFO - 🧠 Training ML model for MSFT using Walk-Forward Validation
2025-09-23 11:24:57,523 - __main__ - INFO - 📊 Fetching complete dataset for MSFT
2025-09-23 11:24:58,193 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Fetching extended market data...
2025-09-23 11:25:01,896 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data ready: 17 indicators
2025-09-23 11:25:01,897 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data merged: 17 additional columns
2025-09-23 11:25:01,897 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 3480 data points for MSFT with 22 columns
2025-09-23 11:25:01,897 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for MSFT: [Timestamp('2023-09-25 13:30:00+0000', tz='UTC'), Timestamp('2023-09-25 14:30:00+0000', tz='UTC'), Timestamp('2023-09-25 15:30:00+0000', tz='UTC'), Timestamp('2023-09-25 16:30:00+0000', tz='UTC'), Timestamp('2023-09-25 17:30:00+0000', tz='UTC')]
2025-09-23 11:25:01,897 - strategy_layer.strategy_base.MLRandomForest - INFO - 🕒 Data time interval verified: 0 days 01:00:00
2025-09-23 11:25:01,901 - strategy_layer.strategy_base.MLRandomForest - INFO - 🏛️ Filtered to market hours: 3480 hourly bars remaining
2025-09-23 11:25:01,902 - __main__ - INFO - ✅ Loaded 3480 days of data for MSFT
2025-09-23 11:25:01,902 - __main__ - INFO - 📅 Data range: 2023-09-25 09:30:00-04:00 to 2025-09-22 15:30:00-04:00
2025-09-23 11:25:01,902 - __main__ - INFO - 🔄 Fold 1: Train[2728:3228] (500 samples), Test[3228:3249] (21 samples)
2025-09-23 11:25:01,902 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 11:25:01,902 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 11:25:01,906 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 11:25:10,266 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 11:25:10,266 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 11:25:10,266 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 11:25:10,268 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 11:25:10,268 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 11:25:10,273 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 11:25:10,620 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 11:25:10,620 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 11:25:10,620 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 11:25:10,736 - __main__ - INFO - 🔄 Fold 2: Train[2749:3249] (500 samples), Test[3249:3270] (21 samples)
2025-09-23 11:25:10,736 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 11:25:10,736 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 11:25:10,740 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 11:25:19,189 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 11:25:19,190 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 11:25:19,190 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 11:25:19,191 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 11:25:19,192 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 11:25:19,195 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 11:25:19,765 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 11:25:19,765 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 11:25:19,766 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 11:25:19,867 - __main__ - INFO - 🔄 Fold 3: Train[2770:3270] (500 samples), Test[3270:3291] (21 samples)
2025-09-23 11:25:19,868 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 11:25:19,868 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 11:25:19,871 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 11:25:28,240 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 11:25:28,240 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 11:25:28,240 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 11:25:28,242 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 11:25:28,242 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 11:25:28,246 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 11:25:28,679 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 11:25:28,680 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 11:25:28,680 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 11:25:28,788 - __main__ - INFO - 🔄 Fold 4: Train[2791:3291] (500 samples), Test[3291:3312] (21 samples)
2025-09-23 11:25:28,788 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 11:25:28,788 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 11:25:28,792 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 11:25:37,126 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 11:25:37,127 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 11:25:37,127 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 11:25:37,129 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 11:25:37,129 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 11:25:37,133 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 11:25:37,473 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 11:25:37,473 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 11:25:37,473 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 11:25:37,575 - __main__ - INFO - 🔄 Fold 5: Train[2812:3312] (500 samples), Test[3312:3333] (21 samples)
2025-09-23 11:25:37,576 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 11:25:37,576 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 11:25:37,580 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 11:25:56,897 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 11:25:56,897 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 11:25:56,898 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 11:25:56,899 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 11:25:56,900 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 11:25:56,904 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 11:25:57,223 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 11:25:57,224 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 11:25:57,224 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 11:25:57,335 - __main__ - INFO - 🔄 Fold 6: Train[2833:3333] (500 samples), Test[3333:3354] (21 samples)
2025-09-23 11:25:57,335 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 11:25:57,335 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 11:25:57,339 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 11:26:05,745 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 11:26:05,746 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 11:26:05,746 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 11:26:05,748 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 11:26:05,748 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 11:26:05,751 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 11:26:06,185 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 11:26:06,186 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 11:26:06,186 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 11:26:06,290 - __main__ - INFO - 🔄 Fold 7: Train[2854:3354] (500 samples), Test[3354:3375] (21 samples)
2025-09-23 11:26:06,291 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 11:26:06,291 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 11:26:06,295 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 11:26:14,700 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 11:26:14,701 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 11:26:14,701 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 11:26:14,703 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 11:26:14,703 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 11:26:14,707 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 11:26:15,044 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 11:26:15,045 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 11:26:15,045 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 11:26:15,142 - __main__ - INFO - 🔄 Fold 8: Train[2875:3375] (500 samples), Test[3375:3396] (21 samples)
2025-09-23 11:26:15,142 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 11:26:15,142 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 11:26:15,146 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 11:26:23,523 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 11:26:23,524 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 11:26:23,524 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 11:26:23,526 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 11:26:23,526 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 11:26:23,530 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 11:26:23,861 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 11:26:23,862 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 11:26:23,862 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 11:26:23,963 - __main__ - INFO - 🔄 Fold 9: Train[2896:3396] (500 samples), Test[3396:3417] (21 samples)
2025-09-23 11:26:23,964 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 11:26:23,964 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 11:26:23,968 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 11:26:32,514 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 11:26:32,514 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 11:26:32,514 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 11:26:32,517 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 11:26:32,517 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 11:26:32,520 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 11:26:32,906 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 11:26:32,906 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 11:26:32,906 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 11:26:33,006 - __main__ - INFO - 🔄 Fold 10: Train[2917:3417] (500 samples), Test[3417:3438] (21 samples)
2025-09-23 11:26:33,007 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 11:26:33,007 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 11:26:33,011 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 11:26:41,484 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 11:26:41,485 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 11:26:41,485 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 11:26:41,487 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 11:26:41,487 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 11:26:41,490 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 11:26:41,815 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 11:26:41,816 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 11:26:41,816 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 11:26:41,923 - __main__ - INFO - 🔄 Fold 11: Train[2938:3438] (500 samples), Test[3438:3459] (21 samples)
2025-09-23 11:26:41,923 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 11:26:41,923 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 11:26:41,927 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 11:26:50,306 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 11:26:50,307 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 11:26:50,307 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 11:26:50,309 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 11:26:50,309 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 11:26:50,312 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 11:26:50,642 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 11:26:50,642 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 11:26:50,642 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 11:26:50,744 - __main__ - INFO - 🔄 Fold 12: Train[2959:3459] (500 samples), Test[3459:3480] (21 samples)
2025-09-23 11:26:50,744 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 11:26:50,744 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 11:26:50,748 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 11:26:59,142 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 11:26:59,143 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 11:26:59,143 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 11:26:59,145 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (21, 22)
2025-09-23 11:26:59,145 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 11:26:59,149 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 11:26:59,481 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (21, 71)
2025-09-23 11:26:59,481 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 11:26:59,481 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 11:26:59,592 - __main__ - INFO - 📊 Aggregating results from 12 successful folds
2025-09-23 11:26:59,596 - __main__ - INFO - 🎯 Walk-Forward Validation Results:
2025-09-23 11:26:59,596 - __main__ - INFO -   - Total folds: 12
2025-09-23 11:26:59,596 - __main__ - INFO -   - Total predictions: 192
2025-09-23 11:26:59,596 - __main__ - INFO -   - Final Accuracy: 0.510
2025-09-23 11:26:59,596 - __main__ - INFO -   - Final Precision: 0.481
2025-09-23 11:26:59,596 - __main__ - INFO -   - Final Recall: 0.719
2025-09-23 11:26:59,596 - __main__ - INFO -   - Final F1-Score: 0.577
2025-09-23 11:26:59,596 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-23 11:26:59,597 - __main__ - INFO - ✅ Walk-forward F1 (0.577) meets threshold (0.500)
2025-09-23 11:26:59,597 - __main__ - INFO - 🏁 Training final model on most recent data for deployment
2025-09-23 11:26:59,597 - strategy_layer.strategy_base.MLRandomForest - INFO - Training final deployment model for MSFT
2025-09-23 11:26:59,597 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for MSFT with 500 rows
2025-09-23 11:26:59,597 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-23 11:26:59,597 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (500, 22)
2025-09-23 11:26:59,597 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 11:26:59,602 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 11:27:07,956 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (500, 71)
2025-09-23 11:27:07,956 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (500, 71)
2025-09-23 11:27:07,956 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['atr_7', 'bb_position', 'bollinger_bandwidth_10', 'cci_7', 'chaikin_money_flow', 'close', 'ema_10', 'gld_close', 'gold_oil_ratio', 'high', 'ichimoku_chikou', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_tenkan', 'ief_close', 'iwm_close', 'keltner_lower', 'keltner_position', 'keltner_upper', 'low', 'macd_hist', 'market_breadth', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'momentum_decay_12', 'momentum_decay_3', 'momentum_decay_6', 'obv', 'open', 'parabolic_acceleration', 'parabolic_extreme', 'parabolic_sar', 'parabolic_trend', 'price_to_sma_20', 'qqq_close', 'regime_bear', 'regime_bull', 'regime_neutral', 'relative_momentum_12', 'relative_momentum_3', 'relative_strength', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'rsi_4', 'rsi_7', 'sector_tech_vs_energy', 'shy_close', 'sma_20', 'sma_20_slope', 'spy_close', 'spy_returns', 'stoch_k', 'tlt_close', 'uso_close', 'vix_close', 'vix_ma_10', 'vix_regime', 'volatility_ratio_3_10', 'volatility_regime', 'volume', 'volume_ratio_10', 'vwap', 'vwap_deviation', 'williams_r', 'xle_close', 'xlf_close', 'xli_close', 'xlk_close', 'xlv_close', 'yield_spread_20y_2y']
2025-09-23 11:27:07,956 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-23 11:27:07,957 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 11:27:07,957 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 11:27:07,959 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Train/Test Split for MSFT:
2025-09-23 11:27:07,959 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Training samples: 396 (2025-06-10 09:30:00-04:00 to 2025-09-02 09:30:00-04:00)
2025-09-23 11:27:07,959 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test samples: 99 (2025-09-02 10:30:00-04:00 to 2025-09-22 10:30:00-04:00)
2025-09-23 11:27:07,959 - strategy_layer.strategy_base.MLRandomForest - INFO -   - No overlap: Training ends 2025-09-02 09:30:00-04:00, Test starts 2025-09-02 10:30:00-04:00
2025-09-23 11:27:46,696 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for MSFT with:
2025-09-23 11:27:46,697 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': 'balanced', 'max_depth': 10, 'max_features': None, 'min_samples_leaf': 4, 'min_samples_split': 2, 'n_estimators': 50}
2025-09-23 11:27:46,697 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.470
2025-09-23 11:27:46,697 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.515
2025-09-23 11:27:46,697 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.557
2025-09-23 11:27:46,697 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.515
2025-09-23 11:27:46,697 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.522
2025-09-23 11:27:46,737 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Top 10 Feature Importances for MSFT:
2025-09-23 11:27:46,738 - strategy_layer.strategy_base.MLRandomForest - INFO -    1. bb_position               0.1175
2025-09-23 11:27:46,738 - strategy_layer.strategy_base.MLRandomForest - INFO -    2. ichimoku_tenkan           0.0752
2025-09-23 11:27:46,738 - strategy_layer.strategy_base.MLRandomForest - INFO -    3. vwap_deviation            0.0716
2025-09-23 11:27:46,738 - strategy_layer.strategy_base.MLRandomForest - INFO -    4. obv                       0.0510
2025-09-23 11:27:46,738 - strategy_layer.strategy_base.MLRandomForest - INFO -    5. vwap                      0.0507
2025-09-23 11:27:46,738 - strategy_layer.strategy_base.MLRandomForest - INFO -    6. bollinger_bandwidth_10    0.0502
2025-09-23 11:27:46,738 - strategy_layer.strategy_base.MLRandomForest - INFO -    7. atr_7                     0.0425
2025-09-23 11:27:46,738 - strategy_layer.strategy_base.MLRandomForest - INFO -    8. rsi_7                     0.0386
2025-09-23 11:27:46,738 - strategy_layer.strategy_base.MLRandomForest - INFO -    9. stoch_k                   0.0379
2025-09-23 11:27:46,738 - strategy_layer.strategy_base.MLRandomForest - INFO -   10. ichimoku_chikou           0.0364
2025-09-23 11:27:46,752 - __main__ - INFO - 💾 Final model saved for MSFT deployment
2025-09-23 11:27:46,752 - __main__ - INFO - ✅ Successfully trained model for MSFT
2025-09-23 11:27:46,752 - __main__ - INFO - ✅ Successfully trained model for MSFT
2025-09-23 11:27:46,752 - __main__ - INFO - 🎯 Training completed: 1/1 models trained successfully
2025-09-23 11:27:46,752 - __main__ - INFO - 🎉 All models trained successfully!
2025-09-23 11:27:46,753 - strategy_layer.strategy_base.MLRandomForest - INFO - ML Strategy resources cleaned up
2025-09-23 14:18:53,309 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.5
2025-09-23 14:18:53,310 - core.portfolio - INFO - Portfolio state loaded: 0 positions, $100000.00 cash
2025-09-23 14:18:53,310 - core.portfolio - INFO - Portfolio state loaded from data/portfolio_state.json
2025-09-23 14:18:53,310 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-23 14:18:53,310 - __main__ - INFO - ✅ RandomForest Strategy initialized with confidence threshold: 0.5
2025-09-23 14:18:53,310 - __main__ - INFO - 🚀 Starting model training for 1 tickers: AAPL
2025-09-23 14:18:53,310 - __main__ - INFO - 🔄 Force retrain: True
2025-09-23 14:18:53,310 - __main__ - INFO - 🔄 Walk-forward validation: False
2025-09-23 14:18:53,310 - __main__ - INFO - 📊 [1/1] Training model for AAPL
2025-09-23 14:18:53,310 - __main__ - INFO - 🧠 Training ML model for AAPL using Single Split
2025-09-23 14:18:53,310 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for AAPL
2025-09-23 14:18:54,120 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Fetching extended market data...
2025-09-23 14:18:58,395 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data ready: 17 indicators
2025-09-23 14:18:58,397 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data merged: 17 additional columns
2025-09-23 14:18:58,398 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 3480 data points for AAPL with 22 columns
2025-09-23 14:18:58,398 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for AAPL: [Timestamp('2023-09-25 13:30:00+0000', tz='UTC'), Timestamp('2023-09-25 14:30:00+0000', tz='UTC'), Timestamp('2023-09-25 15:30:00+0000', tz='UTC'), Timestamp('2023-09-25 16:30:00+0000', tz='UTC'), Timestamp('2023-09-25 17:30:00+0000', tz='UTC')]
2025-09-23 14:18:58,398 - strategy_layer.strategy_base.MLRandomForest - INFO - 🕒 Data time interval verified: 0 days 01:00:00
2025-09-23 14:18:58,402 - strategy_layer.strategy_base.MLRandomForest - INFO - 🏛️ Filtered to market hours: 3480 hourly bars remaining
2025-09-23 14:18:58,402 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for AAPL with 3480 rows
2025-09-23 14:18:58,402 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-23 14:18:58,402 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (3480, 22)
2025-09-23 14:18:58,402 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 14:18:58,406 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 14:21:40,430 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (3480, 71)
2025-09-23 14:21:40,431 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (3480, 71)
2025-09-23 14:21:40,431 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['atr_7', 'bb_position', 'bollinger_bandwidth_10', 'cci_7', 'chaikin_money_flow', 'close', 'ema_10', 'gld_close', 'gold_oil_ratio', 'high', 'ichimoku_chikou', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_tenkan', 'ief_close', 'iwm_close', 'keltner_lower', 'keltner_position', 'keltner_upper', 'low', 'macd_hist', 'market_breadth', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'momentum_decay_12', 'momentum_decay_3', 'momentum_decay_6', 'obv', 'open', 'parabolic_acceleration', 'parabolic_extreme', 'parabolic_sar', 'parabolic_trend', 'price_to_sma_20', 'qqq_close', 'regime_bear', 'regime_bull', 'regime_neutral', 'relative_momentum_12', 'relative_momentum_3', 'relative_strength', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'rsi_4', 'rsi_7', 'sector_tech_vs_energy', 'shy_close', 'sma_20', 'sma_20_slope', 'spy_close', 'spy_returns', 'stoch_k', 'tlt_close', 'uso_close', 'vix_close', 'vix_ma_10', 'vix_regime', 'volatility_ratio_3_10', 'volatility_regime', 'volume', 'volume_ratio_10', 'vwap', 'vwap_deviation', 'williams_r', 'xle_close', 'xlf_close', 'xli_close', 'xlk_close', 'xlv_close', 'yield_spread_20y_2y']
2025-09-23 14:21:40,431 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-23 14:21:40,432 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 14:21:40,432 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 14:21:40,435 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Train/Test Split for AAPL:
2025-09-23 14:21:40,435 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Training samples: 2780 (2023-09-25 09:30:00-04:00 to 2025-04-29 11:30:00-04:00)
2025-09-23 14:21:40,435 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test samples: 695 (2025-04-29 12:30:00-04:00 to 2025-09-22 10:30:00-04:00)
2025-09-23 14:21:40,436 - strategy_layer.strategy_base.MLRandomForest - INFO -   - No overlap: Training ends 2025-04-29 11:30:00-04:00, Test starts 2025-04-29 12:30:00-04:00
2025-09-23 15:03:08,986 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for AAPL with:
2025-09-23 15:03:08,987 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': 'balanced', 'max_depth': 20, 'max_features': 'log2', 'min_samples_leaf': 1, 'min_samples_split': 10, 'n_estimators': 50}
2025-09-23 15:03:08,987 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.541
2025-09-23 15:03:08,987 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.488
2025-09-23 15:03:08,987 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.474
2025-09-23 15:03:08,987 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.488
2025-09-23 15:03:08,987 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.465
2025-09-23 15:03:09,016 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Top 10 Feature Importances for AAPL:
2025-09-23 15:03:09,016 - strategy_layer.strategy_base.MLRandomForest - INFO -    1. spy_returns               0.0414
2025-09-23 15:03:09,016 - strategy_layer.strategy_base.MLRandomForest - INFO -    2. obv                       0.0364
2025-09-23 15:03:09,016 - strategy_layer.strategy_base.MLRandomForest - INFO -    3. relative_strength         0.0356
2025-09-23 15:03:09,016 - strategy_layer.strategy_base.MLRandomForest - INFO -    4. relative_momentum_3       0.0354
2025-09-23 15:03:09,016 - strategy_layer.strategy_base.MLRandomForest - INFO -    5. chaikin_money_flow        0.0349
2025-09-23 15:03:09,016 - strategy_layer.strategy_base.MLRandomForest - INFO -    6. vwap                      0.0346
2025-09-23 15:03:09,016 - strategy_layer.strategy_base.MLRandomForest - INFO -    7. vwap_deviation            0.0341
2025-09-23 15:03:09,016 - strategy_layer.strategy_base.MLRandomForest - INFO -    8. atr_7                     0.0334
2025-09-23 15:03:09,016 - strategy_layer.strategy_base.MLRandomForest - INFO -    9. relative_momentum_12      0.0300
2025-09-23 15:03:09,016 - strategy_layer.strategy_base.MLRandomForest - INFO -   10. momentum_decay_6          0.0293
2025-09-23 15:03:09,029 - __main__ - INFO - ✅ Successfully trained model for AAPL
2025-09-23 15:03:09,029 - __main__ - INFO - ✅ Successfully trained model for AAPL
2025-09-23 15:03:09,029 - __main__ - INFO - 🎯 Training completed: 1/1 models trained successfully
2025-09-23 15:03:09,029 - __main__ - INFO - 🎉 All models trained successfully!
2025-09-23 21:28:57,139 - strategy_layer.strategy_base.MLRandomForest - INFO - Strategy 'MLRandomForest' initialized with confidence threshold: 0.5
2025-09-23 21:28:57,140 - core.portfolio - INFO - Portfolio state loaded: 0 positions, $99985.69 cash
2025-09-23 21:28:57,140 - core.portfolio - INFO - Portfolio state loaded from data/portfolio_state.json
2025-09-23 21:28:57,140 - strategy_layer.strategy_base.MLRandomForest - INFO - Initializing ML Random Forest Strategy
2025-09-23 21:28:57,140 - __main__ - INFO - ✅ RandomForest Strategy initialized with confidence threshold: 0.5
2025-09-23 21:28:57,140 - __main__ - INFO - 🚀 Starting model training for 1 tickers: AAPL
2025-09-23 21:28:57,140 - __main__ - INFO - 🔄 Force retrain: True
2025-09-23 21:28:57,140 - __main__ - INFO - 🔄 Walk-forward validation: False
2025-09-23 21:28:57,140 - __main__ - INFO - 📊 [1/1] Training model for AAPL
2025-09-23 21:28:57,140 - __main__ - INFO - 🧠 Training ML model for AAPL using Single Split
2025-09-23 21:28:57,140 - strategy_layer.strategy_base.MLRandomForest - INFO - Training optimized model for AAPL
2025-09-23 21:28:57,781 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Fetching extended market data...
2025-09-23 21:29:01,617 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data ready: 17 indicators
2025-09-23 21:29:01,619 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Extended market data merged: 17 additional columns
2025-09-23 21:29:01,619 - strategy_layer.strategy_base.MLRandomForest - INFO - Fetched 3486 data points for AAPL with 22 columns
2025-09-23 21:29:01,619 - strategy_layer.strategy_base.MLRandomForest - INFO - 📅 First 5 timestamps for AAPL: [Timestamp('2023-09-25 13:30:00+0000', tz='UTC'), Timestamp('2023-09-25 14:30:00+0000', tz='UTC'), Timestamp('2023-09-25 15:30:00+0000', tz='UTC'), Timestamp('2023-09-25 16:30:00+0000', tz='UTC'), Timestamp('2023-09-25 17:30:00+0000', tz='UTC')]
2025-09-23 21:29:01,619 - strategy_layer.strategy_base.MLRandomForest - INFO - 🕒 Data time interval verified: 0 days 01:00:00
2025-09-23 21:29:01,623 - strategy_layer.strategy_base.MLRandomForest - INFO - 🏛️ Filtered to market hours: 3486 hourly bars remaining
2025-09-23 21:29:01,623 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Starting sync training for AAPL with 3486 rows
2025-09-23 21:29:01,623 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Calculating technical indicators...
2025-09-23 21:29:01,623 - strategy_layer.strategy_base.MLRandomForest - INFO - Starting CAUSAL _calculate_technical_indicators with data shape: (3486, 22)
2025-09-23 21:29:01,623 - strategy_layer.strategy_base.MLRandomForest - INFO - Input data columns: ['open', 'high', 'low', 'close', 'volume', 'VIX_close', 'SPY_close', 'QQQ_close', 'IWM_close', 'GLD_close', 'USO_close', 'TLT_close', 'IEF_close', 'SHY_close', 'XLE_close', 'XLF_close', 'XLK_close', 'XLV_close', 'XLI_close', 'SPY_returns', 'yield_spread_20y_2y', 'gold_oil_ratio']
2025-09-23 21:29:01,627 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔄 Processing data sequentially for causality...
2025-09-23 21:31:47,431 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Causal feature engineering completed. Shape: (3486, 71)
2025-09-23 21:31:47,431 - strategy_layer.strategy_base.MLRandomForest - INFO - ✅ Indicators calculated, dataframe shape: (3486, 71)
2025-09-23 21:31:47,431 - strategy_layer.strategy_base.MLRandomForest - INFO - 📋 Columns: ['atr_7', 'bb_position', 'bollinger_bandwidth_10', 'cci_7', 'chaikin_money_flow', 'close', 'ema_10', 'gld_close', 'gold_oil_ratio', 'high', 'ichimoku_chikou', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_tenkan', 'ief_close', 'iwm_close', 'keltner_lower', 'keltner_position', 'keltner_upper', 'low', 'macd_hist', 'market_breadth', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'momentum_decay_12', 'momentum_decay_3', 'momentum_decay_6', 'obv', 'open', 'parabolic_acceleration', 'parabolic_extreme', 'parabolic_sar', 'parabolic_trend', 'price_to_sma_20', 'qqq_close', 'regime_bear', 'regime_bull', 'regime_neutral', 'relative_momentum_12', 'relative_momentum_3', 'relative_strength', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'rsi_4', 'rsi_7', 'sector_tech_vs_energy', 'shy_close', 'sma_20', 'sma_20_slope', 'spy_close', 'spy_returns', 'stoch_k', 'tlt_close', 'uso_close', 'vix_close', 'vix_ma_10', 'vix_regime', 'volatility_ratio_3_10', 'volatility_regime', 'volume', 'volume_ratio_10', 'vwap', 'vwap_deviation', 'williams_r', 'xle_close', 'xlf_close', 'xli_close', 'xlk_close', 'xlv_close', 'yield_spread_20y_2y']
2025-09-23 21:31:47,432 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Preparing features and target...
2025-09-23 21:31:47,432 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Selecting 54 core features from dataframe
2025-09-23 21:31:47,432 - strategy_layer.strategy_base.MLRandomForest - INFO - 🎯 Core features: ['rsi_7', 'atr_7', 'sma_20_slope', 'macd_hist', 'volume_ratio_10', 'spy_returns', 'price_to_sma_20', 'regime_bull', 'regime_bear', 'regime_neutral', 'volatility_regime', 'relative_strength', 'relative_momentum_3', 'relative_momentum_12', 'momentum_decay_3', 'momentum_decay_6', 'momentum_acceleration_3_6', 'momentum_acceleration_6_12', 'ema_10', 'rsi_4', 'bb_position', 'stoch_k', 'williams_r', 'bollinger_bandwidth_10', 'volatility_ratio_3_10', 'roc_acceleration_3_10', 'roc_acceleration_6_10', 'momentum_decay_12', 'cci_7', 'obv', 'vix_close', 'vix_ma_10', 'vix_regime', 'spy_close', 'qqq_close', 'iwm_close', 'gld_close', 'uso_close', 'yield_spread_20y_2y', 'gold_oil_ratio', 'sector_tech_vs_energy', 'market_breadth', 'ichimoku_tenkan', 'ichimoku_kijun', 'ichimoku_senkou_a', 'ichimoku_senkou_b', 'ichimoku_chikou', 'keltner_upper', 'keltner_lower', 'keltner_position', 'parabolic_sar', 'chaikin_money_flow', 'vwap', 'vwap_deviation']
2025-09-23 21:31:47,436 - strategy_layer.strategy_base.MLRandomForest - INFO - 📊 Train/Test Split for AAPL:
2025-09-23 21:31:47,436 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Training samples: 2784 (2023-09-25 09:30:00-04:00 to 2025-04-29 15:30:00-04:00)
2025-09-23 21:31:47,436 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test samples: 697 (2025-04-30 09:30:00-04:00 to 2025-09-23 09:30:00-04:00)
2025-09-23 21:31:47,436 - strategy_layer.strategy_base.MLRandomForest - INFO -   - No overlap: Training ends 2025-04-29 15:30:00-04:00, Test starts 2025-04-30 09:30:00-04:00
2025-09-23 21:37:09,433 - strategy_layer.strategy_base.MLRandomForest - INFO - Model trained for AAPL with:
2025-09-23 21:37:09,434 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Best params: {'class_weight': None, 'max_depth': None, 'max_features': 'log2', 'min_samples_leaf': 1, 'min_samples_split': 10, 'n_estimators': 50}
2025-09-23 21:37:09,434 - strategy_layer.strategy_base.MLRandomForest - INFO -   - CV Score: 0.552
2025-09-23 21:37:09,434 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Accuracy: 0.509
2025-09-23 21:37:09,434 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Precision: 0.494
2025-09-23 21:37:09,434 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test Recall: 0.509
2025-09-23 21:37:09,434 - strategy_layer.strategy_base.MLRandomForest - INFO -   - Test F1-Score: 0.476
2025-09-23 21:37:09,463 - strategy_layer.strategy_base.MLRandomForest - INFO - 🔍 Top 10 Feature Importances for AAPL:
2025-09-23 21:37:09,463 - strategy_layer.strategy_base.MLRandomForest - INFO -    1. vwap                      0.0405
2025-09-23 21:37:09,463 - strategy_layer.strategy_base.MLRandomForest - INFO -    2. spy_returns               0.0398
2025-09-23 21:37:09,463 - strategy_layer.strategy_base.MLRandomForest - INFO -    3. chaikin_money_flow        0.0389
2025-09-23 21:37:09,464 - strategy_layer.strategy_base.MLRandomForest - INFO -    4. relative_momentum_3       0.0375
2025-09-23 21:37:09,464 - strategy_layer.strategy_base.MLRandomForest - INFO -    5. relative_strength         0.0361
2025-09-23 21:37:09,464 - strategy_layer.strategy_base.MLRandomForest - INFO -    6. vwap_deviation            0.0323
2025-09-23 21:37:09,464 - strategy_layer.strategy_base.MLRandomForest - INFO -    7. obv                       0.0316
2025-09-23 21:37:09,464 - strategy_layer.strategy_base.MLRandomForest - INFO -    8. relative_momentum_12      0.0304
2025-09-23 21:37:09,464 - strategy_layer.strategy_base.MLRandomForest - INFO -    9. atr_7                     0.0291
2025-09-23 21:37:09,464 - strategy_layer.strategy_base.MLRandomForest - INFO -   10. sma_20_slope              0.0284
2025-09-23 21:37:09,478 - __main__ - INFO - ✅ Successfully trained model for AAPL
2025-09-23 21:37:09,478 - __main__ - INFO - ✅ Successfully trained model for AAPL
2025-09-23 21:37:09,478 - __main__ - INFO - 🎯 Training completed: 1/1 models trained successfully
2025-09-23 21:37:09,478 - __main__ - INFO - 🎉 All models trained successfully!
